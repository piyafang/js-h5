<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="author" content="智能社 - zhinengshe.com" />
<meta name="copyright" content="智能社 - zhinengshe.com" />
<title>智能社 - www.zhinengshe.com</title>
<script>
var N=1000000;

var arr=[1];

for(var i=1;i<N;i++)
{
	arr[i]=arr[i-1]+Math.floor(Math.random()*5)+1;
}

//document.write(arr);

function findInArr(n)
{
	for(var i=0;i<arr.length;i++)
	{
		if(arr[i]==n)
		{
			return true;
		}
	}
	
	return false;
}

function findInArr2(n, s, e)
{
	//s=>0
	//e=>-1
	if(s>e)			//空的
	{
		return false;
	}
	//s=>0
	//e=>0
	else if(s==e)	//一个
	{
		if(arr[s]==n)
		{
			return true;
		}
		else
		{
			return false;
		}
	}
	
	//中间
	var c=Math.floor((s+e)/2);
	
	if(arr[c]==n)
	{
		return true;
	}
	else
	{
		if(arr[c]<n)	//右
		{
			//c+1, e
			return findInArr2(n, c+1, e);
		}
		else			//左
		{
			//s, c-1
			return findInArr2(n, s, c-1);
		}
	}
}

//
var start=new Date().getTime();

for(var i=0;i<N;i++)
{
	var n=Math.floor(Math.random()*arr[arr.length-1]);
	
	//findInArr(n);							//34000
	findInArr2(n, 0, arr.length-1);			//1130
}

alert(new Date().getTime()-start);
</script>
</head>

<body>
</body>
</html>








