<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8" />
<title></title>
<style type="text/css">
	*{ margin: 0; padding: 0;list-style: none;text-decoration: none;}
	img{ width: 600px;height: 400px;}
	#box{ width: 600px;height: 400px; border: 1px solid #ccc; position: relative; margin: 0 auto;}
	p{ position: absolute; width:100px;height:20px;left: 50%;bottom:10px;margin-left: -50px;overflow: hidden;}
	p span{width: 20px;height: 20px; border-radius:50%;background: #f90; margin-right: 5px; float: left;}
	span.on{background: #9f0;}
</style>
<script type="text/javascript">
	window.onload=function(){
		var oBox=document.getElementById('box');
		var oImg=oBox.getElementsByTagName('img')[0];
		var oP=oBox.getElementsByTagName('p')[0];
		var aSpan=oP.getElementsByTagName('span');

		var count=0;
		var iNum=0;
		var timer=null;
		
		var bDown=false,bLeft=true,bRight=true;
		document.onkeydown=function(ev){
			var oEvent=ev||event;
			bDown=true;	
			switch(oEvent.keyCode){
				case 37:
					if(bLeft){iNum+=1;}
					bLeft=false;
				break;
				case 39:
					if(bRight){iNum+=2;}
					bRight=false;
				break;
			}
		}
		document.onkeyup=function(ev){
			var oEvent=ev||event;
			if(bLeft==true||bRight==true){
			bDown=false;}
			switch(oEvent.keyCode){
				case 37:
					if(bLeft){iNum-=1;}
					bLeft=true;
				break;
				case 39:
					if(bRight){iNum-=2;}
					bRight=true;
				break;
			}
								
		}
		
		function keyTab(){
			if(bDown){
				switch(iNum){
					case 2:
						for(var i=0;i<aSpan.length;i++){
								aSpan[i].className='';
							}						
							aSpan[count].className='on';
							oImg.src=count+'.jpg';
							count++;						
							if(count==aSpan.length)count=0;
					break;
					case 1:
						for(var i=0;i<aSpan.length;i++){
								aSpan[i].className='';
							}						
							aSpan[count].className='on';
							oImg.src=count+'.jpg';
							count--;						
							if(count<0){count=aSpan.length-1};
					break;
					
				}
			}
			
			
		}
		keyTab();
		clearInterval(timer);
		timer=setInterval(keyTab,30);
		
		
	};
</script>
</head>
<body>
	<div id="box">
		<img src="3.jpg" />
		<p><span></span><span></span><span></span><span></span></p>
	</div>
</body>
</html>