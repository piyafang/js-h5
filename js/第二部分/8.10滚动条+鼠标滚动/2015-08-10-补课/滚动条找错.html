<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="author" content="智能社 - zhinengshe.com">
<meta name="copyright" content="智能社 - zhinengshe.com">
<title>智能社 - www.zhinengshe.com</title>
<style>
	*{margin:0;padding:0;}
	#box{width:600px;height:20px;background:#ccc;position:relative;top:0;left:0;margin:100px auto;}
	#box div{width:40px;height:20px;background:gold;position:absolute;top:0;left:0}
	#kuai{width:100px;height:100px; background:red;position:absolute;top:0;left:0;opacity:0;fliter:alpha(opacity:0);}
</style>
<script>
	window.onload=function(){
		var oBox=document.getElementById('box');
		var oBar=document.getElementById('bar');
		var oDiv=document.getElementById('kuai');
		oBar.onmousedown=function(ev){
			var oEvent=ev||event;
			var disX=oEvent.clientX-oBar.offsetLeft;
			document.onmousemove=function(ev){
				var oEvent=ev||event;
				var l=oEvent.clientX-disX;
				if(l<0){
					l=0;
				}else if(l>oBox.offsetWidth-oBar.offsetWidth){
					l=oBox.offsetWidth-oBar.offsetWidth;
				}
				oBar.style.left =l+'px';
				var scrol=l/(oBox.offsetWidth-oBar.offsetWidth);
				oDiv.style.opacity=scrol;
				//oDiv.style.filter='alpha(opacity:'scrol*100')';
				
				
				
			};
			document.onmouseup=function(){
				document.onmousemove=null;
				document.onmouseup=null;
				oBar.releaseCapture&&oBar.releaseCapture();
			};
			oBar.setCapture&&oBar.setCapture();
			return false;
		};
		
	};
</script>
</head>

<body>
<div id="box">	
	<div id="bar"></div>
</div>
<div id="kuai"></div>

</body>
</html>








