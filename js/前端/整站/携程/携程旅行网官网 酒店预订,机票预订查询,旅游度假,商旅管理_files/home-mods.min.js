/**
 * Ctrip JavaScript Code
 * http://www.ctrip.com/
 * Copyright(C) 2008 - 2015, Ctrip All rights reserved.
 * Version: 150608
 * Date: 2015-06-08
 */
;window.replace=function(){return ''};cQuery.run(function(c){try{var k=function(c,a){this.init(a)},t={name:"HM_MainArea_Vacation",version:"1.0",init:function(){},uninit:function(){},module:k},s={cityId:"1",cityName:Ctrip.Util.PageConfig.cityName||"\u4e0a\u6d77",loadingMask:"<div class='onloading'></div>"},f=s.cityId,m="0",q="",n=Ctrip.Util.PageConfig.url.vacationAjaxBI,p={1:"\u6e38",2:"\u6e38",4:"\u6e38",8:"",16:"\u95e8\u7968",11:"\u51fa\u5883\u6e38",12:"\u56fd\u5185\u6e38",14:"\u5468\u8fb9\u6e38",18:"\u90ae\u8f6e\u4ea7\u54c1"},d={};
k.prototype={init:function(b){this.conf=this._setConf(b);f=this.conf.cityId;d.msg="HM_MainArea_Vacation_RemoteDataErr";d.method=k.prototype._func.retry;c(".mod.tmh .mod-bd").addClass("onloading");this._event.bigTab();this._event.depCity();this._event.unTabtab();Ctrip.Util.asynScrollLoad({defObj:".mod.tmh",defHeight:0,delayFunc:this._delayCall})},_setConf:function(b){return c.extend(!0,{},s,b||{})},_delayCall:function(){k.prototype._func.request(!0,!0)},_event:{depCity:function(){Ctrip.Util.addEventHandler(c("#v_departure")[0],
"click",function(b){b=b||window.event;b=b.target||b.srcElement;c("#v_departure_city").contains(b)||"v_departure_city"===b.id||((c("#v_departure").contains(b)||"v_departure"===b.id?(c(".mod.tmh .mod-hd .dropdown-cont").slideToggle(),Ctrip.Util.toggleClass(c("#v_departure")[0],"open")):c("#v_departure")[0].className="dropdown"))});Ctrip.Util.addEventHandler(c("#v_departure_city")[0],"click",function(b){b=b||window.event;b=b.target||b.srcElement;if("SPAN"===b.nodeName&&"shortTab"===c(b).attr("el_type")){var a=
"#v_departure_city .city_item:eq("+c("#v_departure_city>div>ul>li").indexOf(c(b).parentNode())+")";c("#v_departure_city .hot_selected").removeClass("hot_selected");c(b).parentNode().addClass("hot_selected");c("#v_departure_city .city_item").hide();c(a).show()}"A"===b.nodeName&&"close"!=b.className&&(c("#v_departure>a>span")[0].innerHTML=b.innerHTML,c("#v_departure")[0].className="dropdown",c(".mod.tmh .pull-right .dropdown-cont").slideToggle(),f=b.getAttribute("data-id"),q="",k.prototype._func.request(!0),
0==m&&(c(".mod.tmh>div>div[idx='0'] .inner-tabs-nav li").removeClass("active"),c(".mod.tmh>div>div[idx='0'] .inner-tabs-nav li")[0].className="active"))});Ctrip.Util.addEventHandler(c(document)[0],"click",function(b){b=b||window.event;b=b.target||b.srcElement;c(".mod.tmh .pull-right").contains(b)||(b=c(".mod.tmh>.mod-hd .dropdown")[0],null!=b&&"dropdown open"===b.className&&(b.className="dropdown",c(".mod.tmh .pull-right .dropdown-cont").slideToggle()))})},bigTab:function(){for(var b=c(".mod.tmh>div>h2>span"),
a=0,e=b.length;a<e-1;a++)(function(a){Ctrip.Util.addEventHandler(c(b[a])[0],"click",function(){c(".mod.tmh>div>h2>span[class='current']").removeClass("current");c(b[a]).addClass("current");m=c(b[a]).attr("idx");q="";var e=c(".mod.tmh>div>div[idx='"+c(b[a]).attr("idx")+"']");c(".mod.tmh>div>div.mod-bd-panel").hide();(0!=e.length&&0<e.find("div>div>ul>li").length?c(e).show():k.prototype._func.request(!0))})})(a)},tabtab:function(b){function a(c){Ctrip.Util.addEventHandler(c[0],"click",function(a){a=a||
window.event;a=a.target||a.srcElement;if("dropdown-toggle dropdown-toggle_border"===a.className)Ctrip.Util.toggleClass(a.parentNode,"open");else if("A"===a.nodeName&&a.getAttribute("pinyin")){if("dropdown-menu-list"===a.parentNode.className){Ctrip.Util.toggleClass(a.parentNode.parentNode.parentNode,"open");c.find("li").removeClass("active");var b=c.find("li[class!='dropdown-li']>a"),b=b[b.length-1],d=a.cloneNode(!0);b.parentNode.replaceChild(d,b);d.parentNode.className="active";a.parentNode.replaceChild(b,
a);q=a.getAttribute("pinyin")}else q=a.getAttribute("pinyin"),b=c.find("li"),b.removeClass("active"),a.parentNode.className="active";k.prototype._func.request(!1)}})}b&&"1"==b.attr("eb")||((b?a(c(b).find("ul[class='inner-tabs-nav']")):a(c(".mod.tmh>.mod-bd").find("ul[class='inner-tabs-nav']"))),b.attr("eb","1"))},unTabtab:function(){Ctrip.Util.addEventHandler(c(document)[0],"click",function(b){b=b||window.event;"dropdown-toggle dropdown-toggle_border"!=(b.target||b.srcElement).className&&(b=c(".mod.tmh>div>div[idx='"+
m+"']").find("ul[class='inner-tabs-nav']>li[class='dropdown-li']>div")[0],null!=b&&"dropdown open"===b.className&&(b.className="dropdown"))})}},_func:{retry:function(){c(".mod.tmh .mod-bd").addClass("onloading");c.loader.js(Ctrip.Util.PageConfig.url.staticJson,{type:"text/javascript",charset:"utf-8",async:!0,cache:!0,onload:function(){var b=c.parseJSON(Ctrip.Util.PageConfig.staticData);b&&b.tour&&b.tour.tabContentLst&&0!=b.tour.tabContentLst.length&&(k.prototype._func.formatHTML(!1,b.tour),c(".mod.tmh .mod-bd").removeClass("onloading"))}})},
request:function(b,a){var e=this,g=n+"?ch="+m+"&depLoc="+f+"&destLoc="+q;c(".mod.tmh .mod-bd").addClass("onloading");c.ajax(g,{cache:!0,async:!0,method:cQuery.AJAX_METHOD_GET,onsuccess:function(g){try{var f=c.parseJSON(g.responseText);e.formatHTML(b,f);b&&k.prototype._event.tabtab(c(".mod.tmh>div>div[idx='"+m+"']"));c(".mod.tmh .mod-bd").removeClass("onloading")}catch(u){a&&Ctrip.Util.raiseError(d)}},onerror:function(c){a&&Ctrip.Util.raiseError(d)}})},formatHTML:function(b,a){var d;if(0==c(".mod.tmh>div>div[idx='"+
m+"']").length){d=c(c(".mod.tmh>div>div[idx='1']")[0].cloneNode(!0));d.attr("idx",m);if(c.browser.isIE7||c.browser.isIE8){d.find("ul[class='inner-tabs-nav']").remove();var g=document.createElement("UL");g.className="inner-tabs-nav";c(g).appendTo(d.find(".product-hd"))}d.attr("eb","0")}else d=c(".mod.tmh>div>div[idx='"+m+"']");if(b&&0<m){for(var f=[],k=[],g=0,u=a.destCitys.length;g<u;g++)(0===g?f[0]='<li class="active"><a href="{$url}" pinyin="{$pinyin}">{$name}</a></li>'.replaceWith({pinyin:a.destCitys[g].pinyin,
name:a.destCitys[g].nme,url:(a.destCitys[g].lnk?a.destCitys[g].lnk:"javascript:void(0);")}):(7<=g?k[k.length]='<a href="{$url}" pinyin="{$pinyin}">{$name}</a>'.replaceWith({pinyin:a.destCitys[g].pinyin,name:a.destCitys[g].nme,url:(a.destCitys[g].lnk?a.destCitys[g].lnk:"javascript:void(0);")}):f[f.length]='<li><a href="{$url}" pinyin="{$pinyin}">{$name}</a></li>'.replaceWith({pinyin:a.destCitys[g].pinyin,name:a.destCitys[g].nme,url:(a.destCitys[g].lnk?a.destCitys[g].lnk:"javascript:void(0);")})));g='<li class="dropdown-li">\t\t\t\t \t\t\t        <div class="dropdown"><a href="javascript:void(0);" class="dropdown-toggle dropdown-toggle_border">\u66f4\u591a<span class="caret"></span></a>\t\t\t\t \t\t\t        <div class="dropdown-cont"><div class="dropdown-menu-list">{$a7}</div></div></div></li>'.replaceWith({a7:k.join("")});
u=c(d).find("ul[class='inner-tabs-nav']");(0<k.length?c(u).html(f.join("")+g):c(u).html(f.join("")));q=c(u).find("a:eq(0)").attr("pinyin")}f=[];g=0;for(u=a.tabContentLst.length;g<u&&(0!=m||8!=g);g++){if(0!=m)if(null==a.adLst){if(c(d).find("div[class='product-bd']>div").addClass("inner-tab-panel_noextra"),8==g)break}else if(null!=a.adLst&&6==g)break;f[f.length]='<div class="product-item" title="{$title}"><a href="{$url}" target="_blank"><div class="item-thumbnail"><img src="{$img}" alt="{$title}"/>{$hot}{$disct}{$vac_name}</div><p class="item-name">{$name}</p><p class="item-info">{$price}{$rates}</p></a></div>'.replaceWith({name:a.tabContentLst[g].prdNme,
title:a.tabContentLst[g].prdNme,img:a.tabContentLst[g].img,url:a.tabContentLst[g].prdLnk,hot:(a.tabContentLst[g].isHot?"\u7206\u6b3e":""),disct:(a.tabContentLst[g].disct?'<span class="tag tag_orange"><span class="tag_inner_num">'+a.tabContentLst[g].disct+"</span>\u6298</span>":""),vac_name:(a.tabContentLst[g].promo?'<p class="item-overlay" title='+a.tabContentLst[g].promo+'><span class="tag_orange">\u60e0</span>'+a.tabContentLst[g].promo+'</p><p class="iefix-bg"></p>':""),price:(0==a.tabContentLst[g].price.amt?
'<span class="price no-price">\u5b9e\u65f6\u8ba1\u4ef7</span>':'<span class="price">'+((a.tabContentLst[g].price.oprice?"<del>\u00a5"+a.tabContentLst[g].price.oprice+"</del>":""))+"<dfn>\u00a5</dfn>"+a.tabContentLst[g].price.amt+'<i class="price_info">\u8d77</i></span>'),rates:(a.tabContentLst[g].level&&1<a.tabContentLst[g].level?'<span class="diamond diamond0'+a.tabContentLst[g].level+'"></span>':"")})}if(a.adLst){g=0;for(u=a.adLst.length;g<u;g++)if(""!=a.adLst[g].alt){f[f.length]='<div class="extra-item" title="{$title}"><a href="{$url}" target="_blank"><p class="extra-thumbnail"><img src="{$img}" alt="{$title}"></p><p class="extra-text">{$name}</p></a></div>'.replaceWith({name:a.adLst[g].alt,
title:a.adLst[g].alt,img:a.adLst[g].img,url:a.adLst[g].url});break}c(d).find("div[class='product-bd']>div").removeClass("inner-tab-panel_noextra")}else c(d).find("div[class='product-bd']>div").addClass("inner-tab-panel_noextra");c(d).find("div[class='product-bd']>div").html(f.join(""));var r,w;(null!=a.exLnk&&""!=a.exLnk?(c(d).find("a[class='linked-more']").show(),(-1==a.exNme.indexOf("\u7cbe\u9009")?(a.exNme=(-1==a.exNme.indexOf("\u66f4\u591a")?"\u66f4\u591a"+a.exNme:a.exNme),r=a.exNme+p[m]):r="\u66f4\u591a"+
p["1"+m]),w=a.exLnk):(1==m?(r="\u66f4\u591a\u51fa\u5883\u6e38",w="http://vacations.ctrip.com/grouptravel/"):(2==m?(r="\u66f4\u591a\u56fd\u5185\u6e38",w="http://vacations.ctrip.com/"):(4==m?(r="\u66f4\u591a\u5468\u8fb9\u6e38",w="http://you.ctrip.com/around/"):(8==m?(r="\u66f4\u591a\u90ae\u8f6e",w="http://cruise.ctrip.com/"):(16==m?(r="\u66f4\u591a\u95e8\u7968",w="http://piao.ctrip.com/"):0==m&&(r="\u66f4\u591a\u7279\u5356\u6c47",w="http://vacations.ctrip.com/deals")))))));c(d).find("a[class='linked-more']").html(r+
' <i class="i_index_next"></i>');c(d).find("a[class='linked-more']").attr("href",w);r=[];if(a.hotLnks)for(g=0,u=a.hotLnks.length;g<u&&16!=g;g++)r[r.length]='<span class="entrance-item" title="{$name}"><a href="{$url}" target="_blank">{$name}</a>{$hot}</span>'.replaceWith({name:a.hotLnks[g].nme,url:a.hotLnks[g].lnk,hot:("Y"===a.hotLnks[g].isHot?"<span class='icon_hot'></span>":"")});c(d).find("dl[class='keyword-short']:eq(1)>dd").html(r.join(""));null!=a.hotGRNme&&""!=a.hotGRNme&&c(d).find("dl[class='keyword-short']:eq(1)>dt").html(a.hotGRNme);
r=[];if(a.themeLst)for(g=0,u=a.themeLst.length;g<u&&15!=g;g++)r[r.length]='<span class="entrance-item" title="{$name}"><a href="{$url}" target="_blank">{$name}</a>{$hot}</span>'.replaceWith({name:a.themeLst[g].nme,url:a.themeLst[g].url,hot:("Y"===a.themeLst[g].isHot?"<span class='icon_hot'></span>":"")});c(d).find("dl[class='keyword-short']:eq(0)>dd").html(r.join(""));null!=a.themeGRNme&&""!=a.themeGRNme&&c(d).find("dl[class='keyword-short']:eq(0)>dt").html(a.themeGRNme);c(d).appendTo(c(".mod.tmh .mod-bd"));
d.show();var v;switch(m){case "0":v="tour.tmh";break;case "1":v="tour.intl";break;case "2":v="tour.dome";break;case "4":v="tour.rt";break;case "8":v="tour.pl";break;case "16":v="tour.at"}Ctrip.Singleton.setStatistic(v,"prd",c(d).find(".product-item a"));Ctrip.Singleton.setStatistic(v,"more",c(d).find(".linked-more"));Ctrip.Singleton.setStatistic(v,"event",c(d).find(".extra-item a"));0!=m&&(Ctrip.Singleton.setStatistic(v,"tag1",c(d).find(".entrance dl:eq(0) a")),Ctrip.Singleton.setStatistic(v,"tag2",
c(d).find(".entrance dl:eq(1) a")))}}};c.mod.reg(t)}catch(b){Ctrip.Util.log(b)}}(cQuery));
cQuery.run(function(c){try{var k=function(c,b){this.init(b)},t={name:"HM_MainArea_Flight",version:"1.0",init:function(){},uninit:function(){},module:k},s={loadingMask:"<div class='onloading'></div>",defaultTabId:0},f=0,m,q=Ctrip.Util.PageConfig.url.flightAjaxBI,n={};k.prototype={init:function(d){this.conf=this._setConf(d);m=this.conf.defaultTabId;n.msg="HM_MainArea_Flight_RemoteDataErr";n.method=k.prototype._func.retry;c(".mod.flight .mod-bd").addClass("onloading");this._event.tabtab();this._event.unTabtab();
window.stcGlobal={};stcGlobal.status=void 0;stcGlobal.dataSource=void 0;stcGlobal.init=k.prototype._func.calenderPlugin;Ctrip.Util.asynScrollLoad({defObj:".mod.flight",defHeight:0,delayFunc:this._delayCall})},_setConf:function(d){return c.extend(!0,{},s,d||{})},_delayCall:function(){k.prototype._func.request(!0)},_event:{tabtab:function(d){function b(b){Ctrip.Util.addEventHandler(b[0],"click",function(a){a=a||window.event;a=a.target||a.srcElement;c(".mod.flight .dropdown-cont").slideToggle();Ctrip.Util.toggleClass(c(".mod.flight .dropdown")[0],
"open");"A"===a.nodeName&&"dropdown-menu-list"===a.parentNode.className&&(Ctrip.Util.toggleClass(a.parentNode.parentNode.parentNode,"open"),c(".mod.flight>.mod-hd .dropdown .dropdown-toggle").html(a.innerText+'\u51fa\u53d1<span class="caret"></span>'),m=a.getAttribute("data-szm"),k.prototype._func.request(!0))})}(d?b(c(d).find("ul[class='inner-tabs-nav']")):b(c(".mod.flight>.mod-hd .dropdown")))},unTabtab:function(){Ctrip.Util.addEventHandler(c(document)[0],"click",function(d){d=d||window.event;d=d.target||
d.srcElement;c(".mod.flight .pull-right").contains(d)||(d=c(".mod.flight>.mod-hd .dropdown")[0],null!=d&&"dropdown open"===d.className&&(d.className="dropdown",c(".mod.flight .dropdown-cont").slideUp()))})}},_func:{retry:function(){c.loader.js(Ctrip.Util.PageConfig.url.staticJson,{type:"text/javascript",charset:"utf-8",async:!0,cache:!0,onload:function(){try{var d=c.parseJSON(Ctrip.Util.PageConfig.staticData);if(d&&d.flight&&d.flight.caleLst&&0!=d.flight.caleLst.length){c(".mod.flight .mod-bd").html("");
stcGlobal.init.build(c(".mod.flight")[0],d.flight);stcGlobal.init.show(c(".mod.flight #tab0")[0]);var b=setInterval(function(){if("fail"==stcGlobal.status)throw"stcGlobal error";"success"==stcGlobal.status&&clearInterval(b)},10)}}catch(h){throw h;}}})},request:function(d,b){c.ajax(q+"?dcity="+m+"&gp="+f,{cache:!0,async:!0,method:cQuery.AJAX_METHOD_GET,onsuccess:function(h){try{if(d)c(".mod.flight .mod-bd").html(""),stcGlobal.init.build(c(".mod.flight")[0],h.responseText),stcGlobal.init.show(c(".mod.flight #tab0")[0]);
else{var a=c(".mod.flight .mod-bd .month li[pinyin='"+f+"']")[0];stcGlobal.init.refresh(h.responseText);b(a)}var e=setInterval(function(){if("fail"==stcGlobal.status)throw"stcGlobal error";"success"==stcGlobal.status&&clearInterval(e)},10)}catch(g){d&&Ctrip.Util.raiseError(n)}c(".mod.flight .mod-bd").removeClass("onloading")},onerror:function(){d&&Ctrip.Util.raiseError(n)}})},calenderPlugin:function(){(function(){String.prototype.format=function(){var c=arguments;return this.replace((/\{(\d+)\}/g),
function(a,b,d,e){return c[b]})};Date.prototype.formatST=function(c){var a={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};(/(y+)/).test(c)&&(c=c.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var b in a)RegExp("("+b+")").test(c)&&(c=c.replace(RegExp.$1,(1==RegExp.$1.length?a[b]:("00"+a[b]).substr((""+a[b]).length))));return c};Date.prototype.dateAdd=
function(c,a){switch(c){case "s":return new Date(Date.parse(this)+1E3*a);case "n":return new Date(Date.parse(this)+6E4*a);case "h":return new Date(Date.parse(this)+36E5*a);case "d":return new Date(Date.parse(this)+864E5*a);case "w":return new Date(Date.parse(this)+6048E5*a);case "q":return new Date(this.getFullYear(),this.getMonth()+3*a,this.getDate(),this.getHours(),this.getMinutes(),this.getSeconds());case "m":return new Date(this.getFullYear(),this.getMonth()+a,this.getDate(),this.getHours(),this.getMinutes(),
this.getSeconds());case "y":return new Date(this.getFullYear()+a,this.getMonth(),this.getDate(),this.getHours(),this.getMinutes(),this.getSeconds())}};Date.prototype.lastDayOfMonth=function(){return new Date(this.getFullYear(),this.getMonth()+1,0)};Date.prototype.firstDayOfMonth=function(){return new Date(this.getFullYear(),this.getMonth(),1)}})();var c=function(){return{strToDom:function(c){var a=document.createElement("div");a.innerHTML=c;return a.firstChild},isJson:function(c){return"object"==
typeof c&&"[object object]"==Object.prototype.toString.call(c).toLowerCase()&&!c.length}}}(),b=[{name:"\u5143\u65e6",dates:"2015-01-01 2016-01-01 2017-01-01 2018-01-01 2019-01-01 2020-01-01".split(" ")},{name:"\u9664\u5915",dates:"2015-02-18 2016-02-07 2017-01-27 2018-02-15 2019-02-04 2020-01-24".split(" ")},{name:"\u6625\u8282",dates:"2015-02-19 2016-02-08 2017-01-28 2018-02-16 2019-02-05 2020-01-25".split(" ")},{name:"\u60c5\u4eba\u8282",dates:"2015-02-14 2016-02-14 2017-02-14 2018-02-14 2019-02-14 2020-02-14".split(" ")},
{name:"\u5143\u5bb5\u8282",dates:"2015-03-05 2016-02-22 2017-02-11 2018-03-02 2019-02-19 2020-02-08".split(" ")},{name:"\u6e05\u660e\u8282",dates:"2015-04-05 2016-04-04 2017-04-04 2018-04-05 2019-04-05 2020-04-04".split(" ")},{name:"\u52b3\u52a8\u8282",dates:"2015-05-01 2016-05-01 2017-05-01 2018-05-01 2019-05-01 2020-05-01".split(" ")},{name:"\u513f\u7ae5\u8282",dates:"2015-06-01 2016-06-01 2017-06-01 2018-06-01 2019-06-01 2020-06-01".split(" ")},{name:"\u7aef\u5348\u8282",dates:"2015-06-20 2016-06-09 2017-05-30 2018-06-18 2019-06-07 2020-06-25".split(" ")},
{name:"\u5efa\u515a\u8282",dates:"2015-07-01 2016-07-01 2017-07-01 2018-07-01 2019-07-01 2020-07-01".split(" ")},{name:"\u5efa\u519b\u8282",dates:"2015-08-01 2016-08-01 2017-08-01 2018-08-01 2019-08-01 2020-08-01".split(" ")},{name:"\u4e03\u5915",dates:["2015-08-20","2016-08-09","2017-08-28","2018-08-17","2019-08-07"]},{name:"\u6559\u5e08\u8282",dates:"2015-09-01 2016-09-01 2017-09-01 2018-09-01 2019-09-01 2020-09-01".split(" ")},{name:"\u4e2d\u79cb\u8282",dates:["2015-09-27","2016-09-15","2017-10-04",
"2018-09-24","2019-09-13"]},{name:"\u56fd\u5e86\u8282",dates:"2015-10-01 2016-10-01 2017-10-01 2018-10-01 2019-10-01 2020-10-01".split(" ")},{name:"\u5723\u8bde\u8282",dates:"2015-12-25 2016-12-25 2017-12-25 2018-12-25 2019-12-25 2020-12-25".split(" ")}],h=function(a){try{if(a&&!1==c.isJson(a)&&(a=eval("("+a+")")),void 0!=a.tabLst&&0!=a.tabLst.length&&void 0!=a.caleLst&&0!=a.caleLst.length&&void 0!=a.prdLst&&0!=a.prdLst.length){var b=function(){for(var c=[],b=0;b<a.tabLst.length&&void 0!=a.tabLst[b].pinyin&&
void 0!=a.tabLst[b].calImg&&void 0!=a.tabLst[b].tabImg1&&void 0!=a.tabLst[b].tabImg2;b++)c.push({tabId:"tab"+b,requestParam:a.tabLst[b].pinyin,tabName:a.tabLst[b].tabName,bigImg:a.tabLst[b].calImg,unClickImg:a.tabLst[b].tabImg2,clickedImg:a.tabLst[b].tabImg1});return c},e=function(){for(var c=[],b=0;b<a.caleLst.length&&void 0!=a.caleLst[b].date&&void 0!=a.caleLst[b].price&&void 0!=a.caleLst[b].price.amt&&void 0!=a.caleLst[b].url&&void 0!=a.caleLst[b].dcNme;b++)c.push({date:a.caleLst[b].date,dcName:a.caleLst[b].dcNme,
acName:a.caleLst[b].acNme,price:Number(a.caleLst[b].price.amt),url:a.caleLst[b].url});return c},h=function(){for(var c=[],b=0;b<a.prdLst.length&&void 0!=a.prdLst[b].nme&&void 0!=a.prdLst[b].price&&void 0!=a.prdLst[b].price.amt&&void 0!=a.prdLst[b].lnk&&void 0!=a.prdLst[b].img;b++)c.push({title:a.prdLst[b].nme,url:a.prdLst[b].lnk,price:a.prdLst[b].price.amt,img:a.prdLst[b].img});return c},g=function(){var c=[];if(!a.adLst)return c;for(var b=0;b<a.adLst.length&&void 0!=a.adLst[b].alt&&void 0!=a.adLst[b].img&&
void 0!=a.adLst[b].lnk;b++)c.push({title:a.adLst[b].alt,url:a.adLst[b].lnk,img:a.adLst[b].img});return c},f=[];if(0!=b().length&&0!=e().length&&0!=h().length)return f.push(b()),f.push(e()),f.push(h()),f.push(g()),f}}catch(l){throw l;}},a=function(a,c,b){var d=this;this._containerDom=a;this._leftBtnDom=c;this._rightBtnDom=b;this.galleryWidth=a.children[0].offsetWidth;this._scrollNumber=0;this.prettyScroll=function(a,c){try{var b=c||++this._scrollNumber,e=d._containerDom,h=e.scrollWidth,g=(""==e.style.left?
0:Number(e.style.left.replace("px",""))),f=(void 0===a?g:a);if(b===d._scrollNumber&&(0!=g||f!=d.galleryWidth)){(0==f?this._leftBtnDom.style.display="none":h-Math.abs(f)==d.galleryWidth&&(this._rightBtnDom.style.display="none"));Math.abs(f)>h-d.galleryWidth&&(f=-(h-d.galleryWidth));if(10>=Math.abs(f-g))return e.style.left=f+"px";e.style.left=(f>g?g+10+"px":g-10+"px");setTimeout(function(){d.prettyScroll(f,b)},8)}}catch(l){throw l;}};c.onclick=function(){var a=d._containerDom.children[0].offsetWidth,c=(""==
d._containerDom.style.left?0:Number(d._containerDom.style.left.replace("px","")));d.prettyScroll(c+a);b.style.display="block"};b.onclick=function(){var a=d._containerDom.children[0].offsetWidth,b=(""==d._containerDom.style.left?0:Number(d._containerDom.style.left.replace("px","")));d.prettyScroll(b-a);c.style.display="block"};(function(a){for(var c=a.childNodes.length;0<c--;)3===a.childNodes[c].nodeType&&a.removeChild(a.childNodes[c])})(a)},e=function(){var a,e,h=function(a){var c={dateType:"ordinary",
dateDisplay:"",datePlace:"",datePrice:"",dateUrl:""},d=function(a){var d=!1;a=a.formatST("yyyy-MM-dd");for(var e=0;e<b.length;e++){for(var h=0;h<b[e].dates.length;h++)if(a==b[e].dates[h]){c.dateType="holiday";c.dateDisplay=b[e].name;d=!0;break}if("holiday"==c.dateType)break}return d};!0!=function(a){var b=!1;a=a.formatST("yyyy-MM-dd");for(var d=0;d<e.length;d++){var h=e[d].date.substr(0,e[d].date.length-9);if(a==h){c.dateType="sale";c.dateDisplay=e[d].date;c.datePlace=e[d].acName;c.datePrice=e[d].price;
c.dateUrl=e[d].url;b=!0;break}}return b}(a)&&d(a);return c},g=function(b){for(var e=b.getDay(),g=c.strToDom('<ul class="dates" id="dates">\n</ul>'),e=(7==e?0:e),f=0;f<e;f++){var l=c.strToDom("<li></li>");g.appendChild(l)}for(e=0;29>=e;e++,b=b.dateAdd("d",1)){f=b;l=void 0;l=h(f);switch(l.dateType){case "sale":l=c.strToDom('<li><span class="hide">{0}</span>\n<div class="sale-overlay">\n<a href="{1}" target="_blank">\n<p class="sale-date">{2}</p>\n<p class="sale-place">{3}</p>\n<p class="price sale-price"><dfn>\u00a5</dfn>{4} <i class="price_info">\u8d77</i></p>\n</div>\n</li>'.format(f.getDate(),
l.dateUrl,f.getMonth()+1+"\u6708"+f.getDate()+"\u65e5",l.datePlace,l.datePrice));break;case "holiday":l=c.strToDom('<li><span class="date-festival">{0}</span></li>'.format(l.dateDisplay));break;default:l=(1==f.getDate()?c.strToDom('<li><span class="date-festival">{0}</span></li>'.format(f.getMonth()+1+"\u67081\u65e5")):c.strToDom("<li><span>{0}</span></li>".format(f.getDate())))}g.appendChild(l)}b=c.strToDom('<div class="calender-date-panel active">\n <ul class="days">\n<li>\u65e5</li>\n<li>\u4e00</li>\n<li>\u4e8c</li>\n<li>\u4e09</li>\n<li>\u56db</li>\n<li>\u4e94</li>\n<li>\u516d</li>\n</ul>\n</div>');
b.appendChild(g);g=c.strToDom('<div class="theme-img">\n<img src="{0}" alt="">\n</div>'.format(a));b.appendChild(g);return b},f=function(a,c,b){(void 0==c?new Date:c);for(var d=0;d<b;d++,c=c.dateAdd("m",1))a.appendChild(g(c))};return{externalLoadGalleries:f,loadCalendar:function(b){e=stcGlobal.dataSource[1];a=b;b=c.strToDom('<div class="calender-tabs-date" id="galleryContainer"></div>');f(b,new Date,3);var h=c.strToDom('<div class="calender-tabs-date-wrap" id="calendarContainer">\n<span class="btn-prev" id="btnPrev"></span>\n<span class="btn-next" id="btnNext"></span>\n</div>');
h.appendChild(b);return h}}}(),g=function(){return{loadProduct:function(){var a=[],b=stcGlobal.dataSource[2];if(!b||0==b.length)return null;for(var e=0;e<b.length;e++){var h=c.strToDom('<div class="product-item">\n<a href="{0}" target="_blank">\n<div class="item-thumbnail">\n<img src="{1}" alt="{2}">\n</div>\n<div class="item-msg">\n<p class="price"><dfn>\u00a5</dfn>{3} <i class="price_info">\u8d77</i></p>\n<p class="item-name">{4}</p>\n</div>\n<div class="iefix-bg"></div>\n</a>\n</div>'.format(b[e].url,
b[e].img,b[e].title,b[e].price,b[e].title));a.push(h)}return a},loadAD:function(){var a=stcGlobal.dataSource[3][0];return (a?c.strToDom('<div class="extra-item">\n<a href="{0}" target="_blank">\n<p class="extra-thumbnail">\n<img src="{1}" alt="">\n</p>\n<p class="extra-text">{2}</p>\n<p class="iefix-bg"></p>\n</a>\n</div>'.format(a.url,a.img,a.title)):null)}}}(),l=function(){return{loadTab:function(a){for(var b=c.strToDom('<ul class="month" id="tabContainer">\n</ul>'),e=0;e<a.length;e++){var h=c.strToDom('<li id="{0}" pinyin={3}>\n<div class="theme-s"><img src="{1}" id="{2}"></div>\n</li>'.format(a[e].tabId,
a[e].unClickImg,a[e].tabId+"_img",a[e].requestParam));h.onclick=function(){f=this.getAttribute("pinyin");k.prototype._func.request(!1,p)};h.onmouseover=function(){var a=stcGlobal.dataSource[0][this.id.substr(3,1)];if("false"==this.getAttribute("chosen")||null==this.getAttribute("chosen"))document.getElementById(a.tabId+"_img").src=a.clickedImg};h.onmouseout=function(){var a=stcGlobal.dataSource[0][this.id.substr(3,1)];if("false"==this.getAttribute("chosen")||null==this.getAttribute("chosen"))document.getElementById(a.tabId+
"_img").src=a.unClickImg};b.appendChild(h)}a=c.strToDom('<div class="calender-tabs-month">\n</div>');a.appendChild(b);return a}}}(),p=function(c){var b=stcGlobal.dataSource[0][c.id.substr(3,1)];if("false"==c.getAttribute("chosen")||null==c.getAttribute("chosen")){stcGlobal.status="waitLoading";for(var d=0;d<stcGlobal.dataSource[0].length;d++)stcGlobal.dataSource[0][d].tabId!=this.id&&(document.getElementById(stcGlobal.dataSource[0][d].tabId+"_img").src=stcGlobal.dataSource[0][d].unClickImg,document.getElementById(stcGlobal.dataSource[0][d].tabId).setAttribute("chosen",
"false"));document.getElementById(b.tabId+"_img").src=b.clickedImg;c.setAttribute("chosen","true");(null==document.getElementById("calendarContainer")?(d=e.loadCalendar(b.bigImg),document.getElementById("leftContainer").appendChild(d)):(d=document.getElementById("calendarContainer"),d.parentNode.removeChild(d),b=e.loadCalendar(b.bigImg),document.getElementById("leftContainer").appendChild(b)));a(document.getElementById("galleryContainer"),document.getElementById("btnPrev"),document.getElementById("btnNext"));
document.getElementById("btnPrev").style.display="none";stcGlobal.status="success";for(d=b=0;d<document.getElementById("galleryContainer").children.length;d++)b+=document.getElementById("galleryContainer").children[d].offsetWidth;document.getElementById("galleryContainer").style.cssText="width:"+b+"px";for(b=g.loadProduct();document.getElementById("productContainer").hasChildNodes();)document.getElementById("productContainer").removeChild(document.getElementById("productContainer").lastChild);if(b)for(d=
0;d<b.length;d++)document.getElementById("productContainer").appendChild(b[d]);(b=g.loadAD())&&document.getElementById("productContainer").appendChild(b)}};return{build:function(a,b){var e=h(b);if(void 0==e||4!=e.length)stcGlobal.status="fail";else{stcGlobal.dataSource=e;var g=c.strToDom('<div class="calender-tabs" id="leftContainer"></div>'),e=l.loadTab(e[0]);g.appendChild(e);e=c.strToDom('<div class="calender" id="stContainer">\n</div>');e.appendChild(g);g=document.getElementById("matrixContainer");
g.appendChild(e);e=c.strToDom('<div class="product"  id="productContainer">\n</div>');g.appendChild(e);a.appendChild(g);return g}},show:p,refresh:function(a){a=h(a);(void 0==a||4!=a.length?stcGlobal.status="fail":stcGlobal.dataSource=a)}}}(),formatHTML:function(c,b){}}};c.mod.reg(t)}catch(p){Ctrip.Util.log(p)}}(cQuery));
cQuery.run(function(c){try{var k=function(c,b){this.init(b)},t={name:"HM_MainArea_Car",version:"1.0",init:function(){},uninit:function(){},module:k},s={loadingMask:"<div class='onloading'></div>",defaultTabId:0},f=0,m=-1,q=Ctrip.Util.PageConfig.url.carAjaxBI,n={};k.prototype={init:function(d){this.conf=this._setConf(d);f=this.conf.defaultTabId;n.msg="HM_MainArea_Car_RemoteDataErr";n.method=k.prototype._func.retry;c(".mod.car .mod-bd").addClass("onloading");this._event.bigTab();this._event.unTabtab();
Ctrip.Util.asynScrollLoad({defObj:".mod.car",defHeight:0,delayFunc:this._delayCall})},_setConf:function(d){return c.extend(!0,{},s,d||{})},_delayCall:function(){k.prototype._func.request(!0,!0)},_event:{bigTab:function(){for(var d=c(".mod.car>div>h2>span"),b=0,h=d.length;b<h;b++)(function(a){Ctrip.Util.addEventHandler(c(d[a])[0],"click",function(b){c(".mod.car>div>h2>span[class='current']").removeClass("current");c(d[a]).addClass("current");f=c(d[a]).attr("idx");b=c(".mod.car>div>div[idx='"+c(d[a]).attr("idx")+
"']");c(".mod.car>div>div.mod-bd-panel").hide();(0!=b.length&&0<b.find("div>div>ul>li").length?c(b).show():k.prototype._func.request(!0))})})(b)},tabtab:function(d){function b(b){Ctrip.Util.addEventHandler(b[0],"click",function(a){a=a||window.event;a=a.target||a.srcElement;if("dropdown-toggle dropdown-toggle_border"===a.className)Ctrip.Util.toggleClass(a.parentNode,"open");else if("A"===a.nodeName){if("dropdown-menu-list"===a.parentNode.className){Ctrip.Util.toggleClass(a.parentNode.parentNode.parentNode,
"open");b.find("li").removeClass("active");var c=b.find("li[class!='dropdown-li']>a"),c=c[c.length-1],d=a.cloneNode(!0);c.parentNode.replaceChild(d,c);d.parentNode.className="active";a.parentNode.replaceChild(c,a);m=a.getAttribute("pinyin")}else m=a.getAttribute("pinyin"),c=b.find("li"),c.removeClass("active"),a.parentNode.className="active";k.prototype._func.request(!1)}})}(d?b(c(d).find("ul[class='inner-tabs-nav']")):b(c(".mod.car>.mod-bd").find("ul[class='inner-tabs-nav']")))},unTabtab:function(){Ctrip.Util.addEventHandler(c(document)[0],
"click",function(d){d=d||window.event;"dropdown-toggle dropdown-toggle_border"!=(d.target||d.srcElement).className&&(d=c(".mod.car>div>div[idx='"+f+"']").find("ul[class='inner-tabs-nav']>li[class='dropdown-li']>div")[0],null!=d&&"dropdown open"===d.className&&(d.className="dropdown"))})}},_func:{retry:function(d){c.loader.js(Ctrip.Util.PageConfig.url.staticJson,{type:"text/javascript",charset:"utf-8",async:!0,cache:!0,onload:function(){var b=c.parseJSON(Ctrip.Util.PageConfig.staticData);k.prototype._func.formatHTML(!0,
b.car);k.prototype._event.tabtab(c(".mod.car>div>div[idx='"+f+"']"));c(".mod.car .mod-bd").removeClass("onloading")}})},request:function(d,b){var h=this,a=q+"?ch="+f+"&gp="+m;c(".mod.car .mod-bd").addClass("onloading");c.ajax(a,{cache:!0,async:!0,method:cQuery.AJAX_METHOD_GET,onsuccess:function(a){try{var g=c.parseJSON(a.responseText);h.formatHTML(d,g);d&&k.prototype._event.tabtab(c(".mod.car>div>div[idx='"+f+"']"));c(".mod.car .mod-bd").removeClass("onloading")}catch(l){b&&Ctrip.Util.raiseError(n)}},
onerror:function(a){b&&Ctrip.Util.raiseError(n)}})},formatHTML:function(d,b){var h;if(0==c(".mod.car>div>div[idx='"+f+"']").length){h=c(c(".mod.car>div>div[idx='0']")[0].cloneNode(!0));if(c.browser.isIE7||c.browser.isIE8){h.find("ul[class='inner-tabs-nav']").remove();var a=document.createElement("UL");a.className="inner-tabs-nav";c(a).appendTo(h.find(".product-hd"))}c(".mod.car>div>div[idx='0']").hide();h.attr("idx",f)}else h=c(".mod.car>div>div[idx='"+f+"']");if(d){for(var e=[],g=[],a=0,l=b.tabs.length;a<
l;a++)(0===a?e[0]='<li class="active"><a href="{$url}" pinyin="{$pinyin}">{$name}</a></li>'.replaceWith({pinyin:b.tabs[a].pinyin,name:b.tabs[a].tabNme,url:(b.tabs[a].lnk?b.tabs[a].lnk:"javascript:void(0);")}):(7<=a?g[g.length]='<a href="{$url}" pinyin="{$pinyin}">{$name}</a>'.replaceWith({pinyin:b.tabs[a].pinyin,name:b.tabs[a].tabNme,url:(b.tabs[a].lnk?b.tabs[a].lnk:"javascript:void(0);")}):e[e.length]='<li><a href="{$url}" pinyin="{$pinyin}">{$name}</a></li>'.replaceWith({pinyin:b.tabs[a].pinyin,name:b.tabs[a].tabNme,
url:(b.tabs[a].lnk?b.tabs[a].lnk:"javascript:void(0);")})));a='<li class="dropdown-li">\t\t\t\t \t\t\t        <div class="dropdown"><a href="javascript:void(0);" class="dropdown-toggle dropdown-toggle_border">\u66f4\u591a<span class="caret"></span></a>\t\t\t\t \t\t\t        <div class="dropdown-cont"><div class="dropdown-menu-list">{$a7}</div></div></div></li>'.replaceWith({a7:g.join("")});l=c(h).find("ul[class='inner-tabs-nav']");(0<g.length?c(l).html(e.join("")+a):c(l).html(e.join("")));m=c(l).find("a:eq(0)").attr("pinyin")}e=
[];a=0;for(l=b.prdLst.length;a<l;a++)e[e.length]='<div class="product-item" title="{$title}"><a href="{$url}" target="_blank"><p class="item-thumbnail"><img src="{$img}" alt="{$title}"/></p><p class="item-name">{$name}</p><p class="item-info">{$price}{$subt}</p></a></div>'.replaceWith({name:b.prdLst[a].nme,title:b.prdLst[a].nme,img:b.prdLst[a].img,url:b.prdLst[a].lnk,price:(0==b.prdLst[a].price.amt?'<span class="price no-price">\u5b9e\u65f6\u8ba1\u4ef7</span>':'<span class="price"><dfn>\u00a5</dfn>'+
b.prdLst[a].price.amt+'<i class="price_info">\u8d77</i></span>'),subt:(b.prdLst[a].subNme?'<span class="item-type">'+b.prdLst[a].subNme+"</span>":"")});c(h).find("div[class='product-bd']>div").html(e.join(""));(null!=b.exLnk&&""!=b.exLnk?(a=b.exNme,l=b.exLnk):(4==f?(a="\u66f4\u591a\u56fd\u9645\u79df\u8f66",l="http://car.ctrip.com/hwzijia#ctm_ref=chp_var_txt"):(3==f?(a="\u66f4\u591a\u56fd\u5185\u79df\u8f66",l="http://car.ctrip.com/zijia#ctm_ref=chp_var_txt"):(1==f?(a="\u66f4\u591a\u56fd\u5185\u63a5\u9001\u673a",
l="http://car.ctrip.com/daijia#ctm_ref=chp_var_txt"):(2==f?(a="\u66f4\u591a\u56fd\u9645\u63a5\u9001\u673a",l="http://car.ctrip.com/daijia/o#ctm_ref=chp_var_txt"):(a="\u66f4\u591a\u65e5\u79df\u5305\u8f66",l="http://car.ctrip.com/#ctm_ref=chp_var_txt"))))));c(h).find("a[class='linked-more']").html(a+' <i class="i_index_next"></i>');c(h).find("a[class='linked-more']").attr("href",l);g=[];if(b.tags)for(e=("LinearLayout"==b.tags.layout?'<DD><span class="entrance-item" title="{$name}"><a href="{$url}" target="_blank">{$name}</a>{$hot}</span></DD>':
'<span class="entrance-item" title="{$name}"><a href="{$url}" target="_blank">{$name}</a>{$hot}</span>'),a=0,l=b.tags.itemLst.length;a<l&&("LinearLayout"!=b.tags.layout||5!=a)&&("RelativeLayout"!=b.tags.layout||20!=a);a++)g[g.length]=e.replaceWith({name:b.tags.itemLst[a].nme,url:b.tags.itemLst[a].lnk,hot:("Y"===b.tags.itemLst[a].isHot&&"LinearLayout"!=b.tags.layout?"<span class='icon_hot'></span>":"")});b.tags.nme=(null!=b.tags.nme&&""!=b.tags.nme?b.tags.nme:c(h).find(".entrance>dl>dt").text());("LinearLayout"==
b.tags.layout?(c(h).find(".entrance>dl")[0].className="keyword-long",a=g.join("")):a="<DD>"+g.join("")+"</DD>");c(h).find(".entrance>dl").html("<dt>"+b.tags.nme+"</dt>"+a);h.show();c(h).appendTo(c(".mod.car .mod-bd"));var k;switch(f){case "4":k="sni.hcar";break;case "3":k="snd.hcar";break;case "1":k="snd.lb";break;case "2":k="sni.lb";break;case "0":k="sn.drc"}Ctrip.Singleton.setStatistic(k,"prd",c(h).find(".product-item a"));Ctrip.Singleton.setStatistic(k,"more",c(h).find(".linked-more"));Ctrip.Singleton.setStatistic(k,
"tag1",c(h).find(".entrance dl:eq(0) a"))},lazyLoad:function(){for(var d=c(".mod.car")[0].getElementsByTagName("img"),b=0,h=d.length;b<h;b++)d[b].getAttribute("_src")&&(d[b].src=d[b].getAttribute("_src"))}}};c.mod.reg(t)}catch(p){Ctrip.Util.log(p)}}(cQuery));
cQuery.run(function(c){try{var k=function(c,b){this.init(b)},t={name:"HM_MainArea_TTD",version:"1.0",init:function(){},uninit:function(){},module:k},s={loadingMask:"<div class='onloading'></div>",defaultTabId:0},f=9001,m=-1,q=Ctrip.Util.PageConfig.url.tddAjaxBI,n={};k.prototype={init:function(d){this.conf=this._setConf(d);f=this.conf.defaultTabId;n.msg="HM_MainArea_TTD_RemoteDataErr";n.method=k.prototype._func.retry;c(".mod.play .mod-bd").addClass("onloading");this._event.bigTab();this._event.unTabtab();
Ctrip.Util.asynScrollLoad({defObj:".mod.play",defHeight:0,delayFunc:this._delayCall})},_setConf:function(d){return c.extend(!0,{},s,d||{})},_delayCall:function(){k.prototype._func.request(!0,!0)},_event:{bigTab:function(){for(var d=c(".mod.play>div>h2>span"),b=0,h=d.length;b<h;b++)(function(a){Ctrip.Util.addEventHandler(c(d[a])[0],"click",function(b){c(".mod.play>div>h2>span[class='current']").removeClass("current");c(d[a]).addClass("current");f=c(d[a]).attr("idx");b=c(".mod.play>div>div[idx='"+c(d[a]).attr("idx")+
"']");c(".mod.play>div>div.mod-bd-panel").hide();(0!=b.length&&0<b.find("div>div>ul>li").length?c(b).show():k.prototype._func.request(!0))})})(b)},tabtab:function(d){function b(b){Ctrip.Util.addEventHandler(b[0],"click",function(a){a=a||window.event;a=a.target||a.srcElement;if("dropdown-toggle dropdown-toggle_border"===a.className)Ctrip.Util.toggleClass(a.parentNode,"open");else if("A"===a.nodeName){if("dropdown-menu-list"===a.parentNode.className){Ctrip.Util.toggleClass(a.parentNode.parentNode.parentNode,
"open");b.find("li").removeClass("active");var c=b.find("li[class!='dropdown-li']>a"),c=c[c.length-1],d=a.cloneNode(!0);c.parentNode.replaceChild(d,c);d.parentNode.className="active";a.parentNode.replaceChild(c,a);m=a.getAttribute("pinyin")}else m=a.getAttribute("pinyin"),c=b.find("li"),c.removeClass("active"),a.parentNode.className="active";k.prototype._func.request(!1)}})}(d?b(c(d).find("ul[class='inner-tabs-nav']")):b(c(".mod.play>.mod-bd").find("ul[class='inner-tabs-nav']")))},unTabtab:function(){Ctrip.Util.addEventHandler(c(document)[0],
"click",function(d){d=d||window.event;"dropdown-toggle dropdown-toggle_border"!=(d.target||d.srcElement).className&&(d=c(".mod.play>div>div[idx='"+f+"']").find("ul[class='inner-tabs-nav']>li[class='dropdown-li']>div")[0],null!=d&&"dropdown open"===d.className&&(d.className="dropdown"))})}},_func:{retry:function(d,b){c.loader.js(Ctrip.Util.PageConfig.url.staticJson,{type:"text/javascript",charset:"utf-8",async:!0,cache:!0,onload:function(){var b=c.parseJSON(Ctrip.Util.PageConfig.staticData);k.prototype._func.formatHTML(!0,
b.ttd);k.prototype._event.tabtab(c(".mod.play>div>div[idx='"+f+"']"));c(".mod.play .mod-bd").removeClass("onloading")}})},request:function(d,b){var h=this,a=q+"?ch="+f+"&gp="+m;c(".mod.play .mod-bd").addClass("onloading");c.ajax(a,{cache:!0,async:!0,method:cQuery.AJAX_METHOD_GET,onsuccess:function(a){try{var g=c.parseJSON(a.responseText);h.formatHTML(d,g);d&&k.prototype._event.tabtab(c(".mod.play>div>div[idx='"+f+"']"));c(".mod.play .mod-bd").removeClass("onloading")}catch(l){b&&Ctrip.Util.raiseError(n)}},
onerror:function(a){b&&Ctrip.Util.raiseError(n)}})},formatHTML:function(d,b){var h;if(0==c(".mod.play>div>div[idx='"+f+"']").length){h=c(c(".mod.play>div>div[idx='9001']")[0].cloneNode(!0));if(c.browser.isIE7||c.browser.isIE8){h.find("ul[class='inner-tabs-nav']").remove();var a=document.createElement("UL");a.className="inner-tabs-nav";c(a).appendTo(h.find(".product-hd"))}h.attr("idx",f)}else h=c(".mod.play>div>div[idx='"+f+"']");if(d){for(var e=[],g=[],a=0,l=b.tabs.length;a<l;a++)(0===a?e[0]='<li class="active"><a href="{$url}" pinyin="{$pinyin}">{$name}</a></li>'.replaceWith({pinyin:b.tabs[a].pinyin,
name:b.tabs[a].tabNme,url:(b.tabs[a].lnk?b.tabs[a].lnk:"javascript:void(0);")}):(7<=a?g[g.length]='<a href="{$url}" pinyin="{$pinyin}">{$name}</a>'.replaceWith({pinyin:b.tabs[a].pinyin,name:b.tabs[a].tabNme,url:(b.tabs[a].lnk?b.tabs[a].lnk:"javascript:void(0);")}):e[e.length]='<li><a href="{$url}" pinyin="{$pinyin}">{$name}</a></li>'.replaceWith({pinyin:b.tabs[a].pinyin,name:b.tabs[a].tabNme,url:(b.tabs[a].lnk?b.tabs[a].lnk:"javascript:void(0);")})));a='<li class="dropdown-li">\t\t\t\t \t\t\t        <div class="dropdown"><a href="javascript:void(0);" class="dropdown-toggle dropdown-toggle_border">\u66f4\u591a<span class="caret"></span></a>\t\t\t\t \t\t\t        <div class="dropdown-cont"><div class="dropdown-menu-list">{$a7}</div></div></div></li>'.replaceWith({a7:g.join("")});
l=c(h).find("ul[class='inner-tabs-nav']");(0<g.length?c(l).html(e.join("")+a):c(l).html(e.join("")));m=c(l).find("a:eq(0)").attr("pinyin")}e=[];a=0;for(l=b.prdLst.length;a<l;a++)e[e.length]='<div class="product-item" title="{$title}"><a href="{$url}" target="_blank"><p class="item-thumbnail"><img src="{$img}" alt="{$title}"/></p><p class="item-name">{$name}</p><p class="item-info">{$price}{$subt}</p></a></div>'.replaceWith({name:b.prdLst[a].nme,title:b.prdLst[a].nme,img:b.prdLst[a].img,url:b.prdLst[a].lnk,
price:(0==b.prdLst[a].price.amt?'<span class="price no-price">\u5b9e\u65f6\u8ba1\u4ef7</span>':'<span class="price"><dfn>\u00a5</dfn>'+b.prdLst[a].price.amt+'<i class="price_info">\u8d77</i></span>'),subt:(b.prdLst[a].subNme?'<span class="item-type">'+b.prdLst[a].subNme+"</span>":"")});c(h).find("div[class='product-bd']>div").html(e.join(""));(null!=b.exLnk&&""!=b.exLnk?(a=b.exNme,l=b.exLnk):(a="\u66f4\u591a\u5f53\u5730\u73a9\u4e50",l="http://huodong.ctrip.com/"));c(h).find("a[class='linked-more']").html(a+
' <i class="i_index_next"></i>');c(h).find("a[class='linked-more']").attr("href",l);g=[];if(b.tags)for(e=("LinearLayout"==b.tags.layout?'<DD><span class="entrance-item" title="{$name}"><a href="{$url}" target="_blank">{$name}</a>{$hot}</span></DD>':'<span class="entrance-item" title="{$name}"><a href="{$url}" target="_blank">{$name}</a>{$hot}</span>'),a=0,l=b.tags.itemLst.length;a<l&&("LinearLayout"!=b.tags.layout||5!=a)&&("RelativeLayout"!=b.tags.layout||20!=a);a++)g[g.length]=e.replaceWith({name:b.tags.itemLst[a].nme,
url:b.tags.itemLst[a].lnk,hot:("Y"===b.tags.itemLst[a].isHot&&"LinearLayout"!=b.tags.layout?"<span class='icon_hot'></span>":"")});b.tags.nme=(null!=b.tags.nme&&""!=b.tags.nme?b.tags.nme:c(h).find(".entrance>dl>dt").text());("LinearLayout"==b.tags.layout?(c(h).find(".entrance>dl")[0].className="keyword-long",a=g.join("")):a="<DD>"+g.join("")+"</DD>");c(h).find(".entrance>dl").html("<dt>"+b.tags.nme+"</dt>"+a);h.show();c(h).appendTo(c(".mod.play .mod-bd"));var k;switch(f){case "9001":k="sni.play";break;
case "9002":k="snd.play"}Ctrip.Singleton.setStatistic(k,"prd",c(h).find(".product-item a"));Ctrip.Singleton.setStatistic(k,"more",c(h).find(".linked-more"));Ctrip.Singleton.setStatistic(k,"tag1",c(h).find(".entrance dl:eq(0) a"))},lazyLoad:function(){for(var d=c(".mod.play")[0].getElementsByTagName("img"),b=0,h=d.length;b<h;b++)d[b].getAttribute("_src")&&(d[b].src=d[b].getAttribute("_src"))}}};c.mod.reg(t)}catch(p){Ctrip.Util.log(p)}}(cQuery));
cQuery.run(function(c){try{var k=function(c,b){this.init(b)},t={name:"HM_MainArea_SP",version:"1.0",init:function(){},uninit:function(){},module:k},s={loadingMask:"<div class='onloading'></div>",defaultTabId:0},f=0,m=-1,q=Ctrip.Util.PageConfig.url.spAjaxBI,n={};k.prototype={init:function(d){this.conf=this._setConf(d);f=this.conf.defaultTabId;n.msg="HM_MainArea_SP_RemoteDataErr";n.method=k.prototype._func.retry;c(".mod.buy .mod-bd").addClass("onloading");this._event.bigTab();this._event.unTabtab();
Ctrip.Util.asynScrollLoad({defObj:".mod.buy",defHeight:0,delayFunc:this._delayCall})},_setConf:function(d){return c.extend(!0,{},s,d||{})},_delayCall:function(){k.prototype._func.request(!0,!0)},_event:{bigTab:function(){for(var d=c(".mod.buy>div>h2>span"),b=0,h=d.length;b<h;b++)(function(a){Ctrip.Util.addEventHandler(c(d[a])[0],"click",function(){c(".mod.buy>div>h2>span[class='current']").removeClass("current");c(d[a]).addClass("current");f=c(d[a]).attr("idx");var b=c(".mod.buy>div>div[idx='"+c(d[a]).attr("idx")+
"']");c(".mod.buy>div>div.mod-bd-panel").hide();(0!=b.length&&0<b.find("div>div>ul>li").length?c(b).show():k.prototype._func.request(!0))})})(b)},tabtab:function(d){function b(b){Ctrip.Util.addEventHandler(b[0],"click",function(a){a=a||window.event;a=a.target||a.srcElement;if("dropdown-toggle dropdown-toggle_border"===a.className)Ctrip.Util.toggleClass(a.parentNode,"open");else if("A"===a.nodeName){if("dropdown-menu-list"===a.parentNode.className){Ctrip.Util.toggleClass(a.parentNode.parentNode.parentNode,
"open");b.find("li").removeClass("active");var c=b.find("li[class!='dropdown-li']>a"),c=c[c.length-1],d=a.cloneNode(!0);c.parentNode.replaceChild(d,c);d.parentNode.className="active";a.parentNode.replaceChild(c,a);m=a.getAttribute("pinyin")}else m=a.getAttribute("pinyin"),c=b.find("li"),c.removeClass("active"),a.parentNode.className="active";k.prototype._func.request(!1)}})}(d?b(c(d).find("ul[class='inner-tabs-nav']")):b(c(".mod.buy>.mod-bd").find("ul[class='inner-tabs-nav']")))},unTabtab:function(){Ctrip.Util.addEventHandler(c(document)[0],
"click",function(d){d=d||window.event;"dropdown-toggle dropdown-toggle_border"!=(d.target||d.srcElement).className&&(d=c(".mod.buy>div>div[idx='"+f+"']").find("ul[class='inner-tabs-nav']>li[class='dropdown-li']>div")[0],null!=d&&"dropdown open"===d.className&&(d.className="dropdown"))})}},_func:{retry:function(){c.loader.js(Ctrip.Util.PageConfig.url.staticJson,{type:"text/javascript",charset:"utf-8",async:!0,cache:!0,onload:function(){var d=c.parseJSON(Ctrip.Util.PageConfig.staticData);k.prototype._func.formatHTML(!0,
d.shopping);k.prototype._event.tabtab(c(".mod.buy>div>div[idx='"+f+"']"));c(".mod.buy .mod-bd").removeClass("onloading")}})},request:function(d,b){var h=this,a=q+"?ch="+f+"&gp="+m;c(".mod.buy .mod-bd").addClass("onloading");c.ajax(a,{cache:!0,async:!0,method:cQuery.AJAX_METHOD_GET,onsuccess:function(a){try{var g=c.parseJSON(a.responseText);h.formatHTML(d,g);d&&k.prototype._event.tabtab(c(".mod.buy>div>div[idx='"+f+"']"));c(".mod.buy .mod-bd").removeClass("onloading")}catch(l){b&&Ctrip.Util.raiseError(n)}},
onerror:function(a){b&&Ctrip.Util.raiseError(n)}})},formatHTML:function(d,b){var h;if(0==c(".mod.buy>div>div[idx='"+f+"']").length){h=c(c(".mod.buy>div>div[idx='0']")[0].cloneNode(!0));if(c.browser.isIE7||c.browser.isIE8){h.find("ul[class='inner-tabs-nav']").remove();var a=document.createElement("UL");a.className="inner-tabs-nav";c(a).appendTo(h.find(".product-hd"))}h.attr("idx",f)}else h=c(".mod.buy>div>div[idx='"+f+"']");if(d){for(var e=[],g=[],a=0,l=b.tabs.length;a<l;a++)(0===a?e[0]='<li class="active"><a href="{$url}" pinyin="{$pinyin}">{$name}</a></li>'.replaceWith({pinyin:b.tabs[a].pinyin,
name:b.tabs[a].tabNme,url:(b.tabs[a].lnk?b.tabs[a].lnk:"javascript:void(0);")}):(7<=a?g[g.length]='<a href="{$url}" pinyin="{$pinyin}">{$name}</a>'.replaceWith({pinyin:b.tabs[a].pinyin,name:b.tabs[a].tabNme,url:(b.tabs[a].lnk?b.tabs[a].lnk:"javascript:void(0);")}):e[e.length]='<li><a href="{$url}" pinyin="{$pinyin}">{$name}</a></li>'.replaceWith({pinyin:b.tabs[a].pinyin,name:b.tabs[a].tabNme,url:(b.tabs[a].lnk?b.tabs[a].lnk:"javascript:void(0);")})));a='<li class="dropdown-li">                                    <div class="dropdown"><a href="javascript:void(0);" class="dropdown-toggle dropdown-toggle_border">\u66f4\u591a<span class="caret"></span></a>                                    <div class="dropdown-cont"><div class="dropdown-menu-list">{$a7}</div></div></div></li>'.replaceWith({a7:g.join("")});
l=c(h).find("ul[class='inner-tabs-nav']");(0<g.length?c(l).html(e.join("")+a):c(l).html(e.join("")));m=c(l).find("a:eq(0)").attr("pinyin")}e=[];a=0;for(l=b.prdLst.length;a<l;a++)e[e.length]=(0==f?'<div class="product-item" title="{$title}"><a href="{$url}" target="_blank"><p class="item-thumbnail"><img src="{$img}" alt="{$title}"/></p><p class="item-name">{$name}</p><p class="item-info">{$price}<span class="item-label">{$discount}</span>{$subt}</p></a></div>'.replaceWith({name:b.prdLst[a].nme,title:b.prdLst[a].nme,
img:b.prdLst[a].img,url:b.prdLst[a].lnk,discount:"",price:(0==b.prdLst[a].price.amt?"":'<span class="price"><dfn>\u00a5</dfn>'+b.prdLst[a].price.amt+'<i class="price_info">\u8d77</i></span>'),subt:(b.prdLst[a].subNme?'<span class="item-type">'+b.prdLst[a].subNme+"</span>":"")}):'<div class="product-item" title="{$title}"><a href="{$url}" target="_blank"><p class="item-thumbnail"><img src="{$img}" alt="{$title}"/></p><p class="item-name">{$name}</p><p class="item-info">{$price}<span class="item-label">{$discount}</span>{$subt}</p></a></div>'.replaceWith({name:b.prdLst[a].nme,
title:b.prdLst[a].nme,img:b.prdLst[a].img,url:b.prdLst[a].lnk,discount:(b.prdLst[a].disct?b.prdLst[a].disct:""),price:"",subt:(b.prdLst[a].subNme?'<span class="item-type">'+b.prdLst[a].subNme+"</span>":"")}));c(h).find("div[class='product-bd']>div").html(e.join(""));(null!=b.exLnk&&""!=b.exLnk?(a=b.exNme,l=b.exLnk):(0==f?(a="\u66f4\u591a\u968f\u884c\u8d2d",l="http://g.ctrip.com/mall"):(a="\u66f4\u591a\u5168\u7403\u540d\u5e97",l="http://g.ctrip.com/")));c(h).find("a[class='linked-more']").html(a+' <i class="i_index_next"></i>');
c(h).find("a[class='linked-more']").attr("href",l);g=[];if(b.tags)for(e=("LinearLayout"==b.tags.layout?'<DD><span class="entrance-item" title="{$name}"><a href="{$url}" target="_blank">{$name}</a>{$hot}</span></DD>':'<span class="entrance-item" title="{$name}"><a href="{$url}" target="_blank">{$name}</a>{$hot}</span>'),a=0,l=b.tags.itemLst.length;a<l&&("LinearLayout"!=b.tags.layout||5!=a)&&("RelativeLayout"!=b.tags.layout||20!=a);a++)g[g.length]=e.replaceWith({name:b.tags.itemLst[a].nme,url:b.tags.itemLst[a].lnk,
hot:("Y"===b.tags.itemLst[a].isHot&&"LinearLayout"!=b.tags.layout?"<span class='icon_hot'></span>":"")});b.tags.nme=(null!=b.tags.nme&&""!=b.tags.nme?b.tags.nme:c(h).find(".entrance>dl>dt").text());("LinearLayout"==b.tags.layout?(c(h).find(".entrance>dl")[0].className="keyword-long",a=g.join("")):a="<DD>"+g.join("")+"</DD>");c(h).find(".entrance>dl").html("<dt>"+b.tags.nme+"</dt>"+a);h.show();c(h).appendTo(c(".mod.buy .mod-bd"));var k;switch(f){case "0":k="gw.ap";break;case "1":k="gw.sp"}Ctrip.Singleton.setStatistic(k,
"prd",c(h).find(".product-item a"));Ctrip.Singleton.setStatistic(k,"more",c(h).find(".linked-more"));Ctrip.Singleton.setStatistic(k,"tag1",c(h).find(".entrance dl:eq(0) a"))},lazyLoad:function(){for(var d=c(".mod.buy")[0].getElementsByTagName("img"),b=0,h=d.length;b<h;b++)d[b].getAttribute("_src")&&(d[b].src=d[b].getAttribute("_src"))},showRandom:function(){0==(new Date).getSeconds()%2&&(c(".mod.buy .mod-hd span:eq(1)").insertBefore(c(".mod.buy .mod-hd span:eq(0)")),f="1",c(".mod.buy .mod-hd span").removeClass("current"),
c(".mod.buy .mod-bd-panel").hide(),c(".mod.buy .mod-hd span:eq(0)").addClass("current"))}}};c.mod.reg(t)}catch(p){Ctrip.Util.log(p)}}(cQuery));
cQuery.run(function(c){try{var k=function(c,b){this.init(b)},t={name:"HM_MainArea_You",version:"1.0",init:function(){},uninit:function(){},module:k},s={loadingMask:"<div class='onloading'></div>",defaultTabId:0},f=0,m=-1,q=Ctrip.Util.PageConfig.url.youAjaxBI,n={};k.prototype={init:function(d){this.conf=this._setConf(d);f=this.conf.defaultTabId;n.msg="HM_MainArea_You_RemoteDataErr";n.method=k.prototype._func.retry;c(".mod.guide .mod-bd").addClass("onloading");this._event.bigTab();this._event.unTabtab();
Ctrip.Util.asynScrollLoad({defObj:".mod.guide",defHeight:0,delayFunc:this._delayCall})},_setConf:function(d){return c.extend(!0,{},s,d||{})},_delayCall:function(){k.prototype._func.request(!0,!0)},_event:{bigTab:function(){for(var d=c(".mod.guide>div>h2>span"),b=0,h=d.length;b<h;b++)(function(a){Ctrip.Util.addEventHandler(c(d[a])[0],"click",function(){c(".mod.guide>div>h2>span[class='current']").removeClass("current");c(d[a]).addClass("current");f=c(d[a]).attr("idx");var b=c(".mod.guide>div>div[idx='"+
c(d[a]).attr("idx")+"']");c(".mod.guide>div>div.mod-bd-panel").hide();(0!=b.length&&0<b.find("div>div>ul>li").length?c(b).show():k.prototype._func.request(!0))})})(b)},tabtab:function(d){function b(b){Ctrip.Util.addEventHandler(b[0],"click",function(a){a=a||window.event;a=a.target||a.srcElement;if("dropdown-toggle dropdown-toggle_border"===a.className)Ctrip.Util.toggleClass(a.parentNode,"open");else if("A"===a.nodeName){if("dropdown-menu-list"===a.parentNode.className){Ctrip.Util.toggleClass(a.parentNode.parentNode.parentNode,
"open");b.find("li").removeClass("active");var c=b.find("li[class!='dropdown-li']>a"),c=c[c.length-1],d=a.cloneNode(!0);c.parentNode.replaceChild(d,c);d.parentNode.className="active";a.parentNode.replaceChild(c,a);m=a.getAttribute("pinyin")}else m=a.getAttribute("pinyin"),c=b.find("li"),c.removeClass("active"),a.parentNode.className="active";k.prototype._func.request(!1)}})}(d?b(c(d).find("ul[class='inner-tabs-nav']")):b(c(".mod.guide>.mod-bd").find("ul[class='inner-tabs-nav']")))},unTabtab:function(){Ctrip.Util.addEventHandler(c(document)[0],
"click",function(d){d=d||window.event;"dropdown-toggle dropdown-toggle_border"!=(d.target||d.srcElement).className&&(d=c(".mod.guide>div>div[idx='"+f+"']").find("ul[class='inner-tabs-nav']>li[class='dropdown-li']>div")[0],null!=d&&"dropdown open"===d.className&&(d.className="dropdown"))})}},_func:{retry:function(){c.loader.js(Ctrip.Util.PageConfig.url.staticJson,{type:"text/javascript",charset:"utf-8",async:!0,cache:!0,onload:function(){var d=c.parseJSON(Ctrip.Util.PageConfig.staticData);k.prototype._func.formatHTML(!0,
d.you);k.prototype._event.tabtab(c(".mod.guide>div>div[idx='"+f+"']"));c(".mod.guide .mod-bd").removeClass("onloading")}})},request:function(d,b){var h=this,a=q+"?ch="+f+"&gp="+m;c(".mod.guide .mod-bd").addClass("onloading");c.ajax(a,{cache:!0,async:!0,method:cQuery.AJAX_METHOD_GET,onsuccess:function(a){try{var g=c.parseJSON(a.responseText);h.formatHTML(d,g);d&&k.prototype._event.tabtab(c(".mod.guide>div>div[idx='"+f+"']"));c(".mod.guide .mod-bd").removeClass("onloading")}catch(l){b&&Ctrip.Util.raiseError(n)}},
onerror:function(a){b&&Ctrip.Util.raiseError(n)}})},formatHTML:function(d,b){var h;if(0==c(".mod.guide>div>div[idx='"+f+"']").length){h=c(c(".mod.guide>div>div[idx='1']")[0].cloneNode(!0));if(c.browser.isIE7||c.browser.isIE8){h.find("ul[class='inner-tabs-nav']").remove();var a=document.createElement("UL");a.className="inner-tabs-nav";c(a).appendTo(h.find(".product-hd"))}h.attr("idx",f)}else h=c(".mod.guide>div>div[idx='"+f+"']");if(d){for(var e=[],g=[],a=0,l=b.tabs.length;a<l;a++)(0===a?e[0]='<li class="active"><a href="{$url}" pinyin="{$pinyin}">{$name}</a></li>'.replaceWith({pinyin:b.tabs[a].pinyin,
name:b.tabs[a].tabNme,url:(b.tabs[a].lnk?b.tabs[a].lnk:"javascript:void(0);")}):(7<=a?g[g.length]='<a href="{$url}" pinyin="{$pinyin}">{$name}</a>'.replaceWith({pinyin:b.tabs[a].pinyin,name:b.tabs[a].tabNme,url:(b.tabs[a].lnk?b.tabs[a].lnk:"javascript:void(0);")}):e[e.length]='<li><a href="{$url}" pinyin="{$pinyin}">{$name}</a></li>'.replaceWith({pinyin:b.tabs[a].pinyin,name:b.tabs[a].tabNme,url:(b.tabs[a].lnk?b.tabs[a].lnk:"javascript:void(0);")})));a='<li class="dropdown-li">\t\t\t\t \t\t\t        <div class="dropdown"><a href="javascript:void(0);" class="dropdown-toggle dropdown-toggle_border">\u66f4\u591a<span class="caret"></span></a>\t\t\t\t \t\t\t        <div class="dropdown-cont"><div class="dropdown-menu-list">{$a7}</div></div></div></li>'.replaceWith({a7:g.join("")});
l=c(h).find("ul[class='inner-tabs-nav']");(0<g.length?c(l).html(e.join("")+a):c(l).html(e.join("")));m=c(l).find("a:eq(0)").attr("pinyin")}e=[];a=0;for(l=b.prdLst.length;a<l&&(1!=f||4!=a)&&(1==f||5!=a);a++)e[e.length]='<div class="product-item"><a href="{$url}" target="_blank"><p class="item-thumbnail"><img src="{$img}" alt="{$title}"/></p><div class="item-overlay">{$avator}<p class="item-name">{$name}</p><p class="item-info" style="display:none">{$subt}</p><p class="iefix-bg"></p></div></a></div>'.replaceWith({name:b.prdLst[a].nme,
title:b.prdLst[a].nme,img:(b.prdLst[a].img?b.prdLst[a].img:""),url:b.prdLst[a].lnk,avator:(b.prdLst[a].profile?'<p class="avator" style="display: none;"><img src="'+b.prdLst[a].profile+'" alt=""></p>':""),subt:(b.prdLst[a].moreInfo?'<span class="item-info-detail">'+b.prdLst[a].moreInfo+"</span>":"")});c(h).find("div[class='product-bd']>div").html(e.join(""));(null!=b.exLnk&&""!=b.exLnk?(c(h).find("a[class='linked-more']").show(),c(h).find("a[class='linked-more']").html(b.exNme+' <i class="i_index_next"></i>'),
c(h).find("a[class='linked-more']").attr("href",b.exLnk)):c(h).find("a[class='linked-more']").hide());(null!=b.exLnk&&""!=b.exLnk?(a=b.exNme,l=b.exLnk):(1==f?(a="\u66f4\u591a\u65c5\u884c\u653b\u7565",l="http://you.ctrip.com/"):(2==f?(a="\u66f4\u591a\u65d7\u8230\u9986",l="http://you.ctrip.com/official/"):(a="\u66f4\u591a\u5411\u5bfc\u670d\u52a1",l="http://you.ctrip.com/events/"))));c(h).find("a[class='linked-more']").html(a+' <i class="i_index_next"></i>');c(h).find("a[class='linked-more']").attr("href",
l);if(1==f){g=[];if(b.tags)for(e=("LinearLayout"==b.tags.layout?'<DD><span class="entrance-item" title="{$name}"><a href="{$url}" target="_blank">{$name}</a></span></DD>':'<span class="entrance-item" title="{$name}"><a href="{$url}" target="_blank">{$name}</a></span>'),a=0,l=b.tags.itemLst.length;a<l&&("LinearLayout"!=b.tags.layout||5!=a)&&("RelativeLayout"!=b.tags.layout||20!=a);a++)g[g.length]=e.replaceWith({name:b.tags.itemLst[a].nme,url:b.tags.itemLst[a].lnk,hot:("Y"===b.tags.itemLst[a].isHot&&"LinearLayout"!=
b.tags.layout?"<span class='icon_hot'></span>":"")});b.tags.nme=(null!=b.tags.nme&&""!=b.tags.nme?b.tags.nme:c(h).find(".entrance>dl>dt").text());("LinearLayout"==b.tags.layout?(c(h).find(".entrance>dl")[0].className="keyword-long",a=g.join("")):a="<DD>"+g.join("")+"</DD>");c(h).find(".entrance>dl").html("<dt>"+b.tags.nme+"</dt>"+a)}else c(h).find("div[class='entrance']").remove(),c(h).addClass("mod-bd-panel_noentry");c(h).find(".product-item").bind("mouseover",function(){c(this).find(".item-info").slideDown();
c(this).find(".avator").fadeIn(800)});c(h).find(".product-item").bind("mouseleave",function(){c(this).find(".item-info").slideUp();c(this).find(".avator").fadeOut()});h.show();c(h).appendTo(c(".mod.guide .mod-bd"));var k;switch(f){case "1":k="you.dy";break;case "2":k="you.store";break;case "3":k="you.lg"}Ctrip.Singleton.setStatistic(k,"prd",c(h).find(".product-item a"));Ctrip.Singleton.setStatistic(k,"more",c(h).find(".linked-more"));Ctrip.Singleton.setStatistic(k,"tag1",c(h).find(".entrance dl:eq(0) a"))},
lazyLoad:function(){for(var d=c(".mod.guide")[0].getElementsByTagName("img"),b=0,h=d.length;b<h;b++)d[b].getAttribute("_src")&&(d[b].src=d[b].getAttribute("_src"))}}};c.mod.reg(t)}catch(p){Ctrip.Util.log(p)}}(cQuery));
cQuery.run(function(c){try{var k=function(c,d){this.init(d)},t={name:"HM_MainArea_BI",version:"1.0",init:function(){},uninit:function(){},module:k},s={loadingMask:"<div class='onloading'></div>",defaultTabId:0},f=0,m=[],q=Ctrip.Util.PageConfig.url.biAjaxBI;k.prototype={init:function(k){this.conf=this._setConf(k);f=this.conf.defaultTabId;c(".mod.bow-history .mod-bd").addClass("onloading");this._event.bigTab();this._event.tabtab();this._event.unTabtab();this._event.bindScroller(c(".mod.bow-history .scrolling-wrap:eq(0)"));
this._event.bindScroller(c(".mod.bow-history .scrolling-wrap:eq(1)"));Ctrip.Util.asynScrollLoad({defObj:".mod.bow-history",defHeight:0,delayFunc:this._delayCall})},_setConf:function(f){return c.extend(!0,{},s,f||{})},_delayCall:function(){k.prototype._func.initSelector(!0);k.prototype._func.request()},_event:{bigTab:function(){for(var p=c(".mod.bow-history>div>h2>span"),d=0,b=p.length;d<b;d++)(function(b){Ctrip.Util.addEventHandler(c(p[b])[0],"click",function(){c(".mod.bow-history>div>h2>span[class='current']").removeClass("current");
c(p[b]).addClass("current");f=c(p[b]).attr("idx");var a=c(".mod.bow-history>div>div[idx='"+f+"']");("0"==f?c(".mod.bow-history .mod-hd .pull-right").hide():c(".mod.bow-history .mod-hd .pull-right").show());c(".mod.bow-history .mod-bd .mod-bd-panel").hide();(0!=a.length&&0<a.find("div>ul>li").length?c(a).show():k.prototype._func.request(!1,m.join(",")))})})(d)},tabtab:function(f){Ctrip.Util.addEventHandler(c(".mod.bow-history .pull-right")[0],"click",function(d){d=d||window.event;d=d.target||d.srcElement;
k.prototype._func.initSelector();if("dropdown-toggle  dropdown-toggle_border"==d.className||"i_index_filter"==d.className)c(".mod.bow-history .dropdown-cont").slideToggle(),Ctrip.Util.toggleClass(c(".mod.bow-history .dropdown")[0],"open");if(c(".mod.bow-history .griddle").contains(c(d))&&"LI"===d.nodeName){if("icon-check-white"===c(d).find("span")[0].className){if(1==c(".mod.bow-history .griddle-list>li.selected").length){c(".mod.bow-history .text-waring").show();return}c(d).find("span")[0].className=
"icon-plus";c(d).removeClass("selected")}else c(d).find("span")[0].className="icon-check-white",c(d).addClass("selected");m=[];c(".mod.bow-history .griddle-list>li.selected").each(function(b){m.push(b.attr("data-cde"))});c.pageStorage.set("BI_TYPES",m.join(","));k.prototype._func.request(!0,m.join(","))}})},unTabtab:function(){Ctrip.Util.addEventHandler(c(document)[0],"click",function(f){f=f||window.event;f=f.target||f.srcElement;if(0<c(".mod.bow-history .dropdown").length&&!c(".mod.bow-history .dropdown").contains(f))if("button button-positive"==
f.className)k.prototype._func.initSelector(!0),c(".mod.bow-history .dropdown-cont").slideDown(function(){c(".mod.bow-history .dropdown").addClass("open")}),k.prototype._func.request(!0,m.join(",")),c(".scrolling-wrap").show(),c(".tips-waring").hide();else{var d=c(".mod.bow-history .dropdown")[0];d&&"dropdown open"===d.className&&c(".mod.bow-history .dropdown-cont").slideToggle(function(){d.className="dropdown"})}})},bindScroller:function(f){Ctrip.Util.addEventHandler(c(f).find(".btn-next")[0],"click",
function(){k.prototype._func.scrollLeft(f)});Ctrip.Util.addEventHandler(c(f).find(".btn-prev")[0],"click",function(){k.prototype._func.scrollRight(f)})}},_func:{request:function(k,d){var b=this,h=q+"?ch="+f+"&ft="+escape(d);c(".mod.bow-history .mod-bd").addClass("onloading");c.ajax(h,{cache:!1,async:!0,method:cQuery.AJAX_METHOD_GET,onsuccess:function(a){a=c.parseJSON(a.responseText);b.formatHTML(k,a);c(".mod.bow-history .mod-bd").removeClass("onloading")},onerror:function(){c(".mod.bow-history").remove();
c(".toogle-bar").remove()}})},formatHTML:function(m,d){var b=c(".mod.bow-history .mod-bd-panel[idx='"+f+"']");if(d&&d.prdLst&&0<d.prdLst.length){var h=[],a;a=(0==f?'<li class="product-item product-item_simple" title="{$title}" typeEn="{$typeEn}" pid="{$pid}"><a href="{$url}" target="_blank"><div class="item-thumbnail"><img src="{$img}" alt="{$title}"/><span class="tag tag_dark">{$typZh}</span></div><p class="item-name">{$name}</p><p class="item-info">{$diamond}</p><p class="item-info item-info-price">{$price}</p></a></li>':
'<li class="product-item" title="{$title}" typeEn="{$typeEn}" pid="{$pid}"><a href="{$url}" target="_blank" ><p class="item-thumbnail"><img src="{$img}" alt="{$title}"/><span class="tag tag_dark">{$typZh}</span></p><p class="item-name">{$name}</p><p class="item-info">{$price}{$diamond}{$subtitle}</p></a></li>');for(var e=0,g=d.prdLst.length;e<g;e++)h[h.length]=a.replaceWith({pid:(d.prdLst[e].id?d.prdLst[e].id:""),name:d.prdLst[e].nme,title:d.prdLst[e].nme,img:d.prdLst[e].img,url:d.prdLst[e].lnk,typZh:(d.prdLst[e].zh?
d.prdLst[e].zh:""),typeEn:(d.prdLst[e].en?d.prdLst[e].en:""),price:(0==d.prdLst[e].price?'<span class="price no-price">\u5b9e\u65f6\u8ba1\u4ef7</span>':' <span class="price"><dfn>\u00a5</dfn>{$amt}<i class="price_info">\u8d77</i></span>'.replaceWith({amt:parseInt(d.prdLst[e].price)})),diamond:(d.prdLst[e].star?d.prdLst[e].star:""),subtitle:(d.prdLst[e].subtitle&&!d.prdLst[e].star?d.prdLst[e].subtitle:"")});c(b).find("ul[class='list-area']").html(h.join(""));c(b).find(".list-area").css("left","0px");c(b).find(".btn-prev").hide();
(4>=d.prdLst.length?c(b).find(".btn-next").hide():(5==d.prdLst.length?1180<=document.body.clientWidth&&c(b).find(".btn-next").hide():c(b).find(".btn-next").show()))}(d&&d.prdLst&&0<d.prdLst.length?(c(b).find(".list-area").css("width",250*d.prdLst.length+"px"),c(".mod.bow-history").slideDown(),b.show(),c(b).appendTo(c(".mod.bow-history .mod-bd")),c(".mod.bow-history .mod-bd div[idx='1'] .scrolling-wrap").show(),c(".mod.bow-history .mod-bd div[idx='1'] .tips-waring").hide(),c(".mod.bow-history .text-waring").hide(),
(0==f?k.prototype._func.setTraceLog(1,c(".mod.bow-history .mod-bd-panel.mod-bd-panel_history .list-area li")):k.prototype._func.setTraceLog(1,c(".mod.bow-history .mod-bd-panel.mod-bd-panel_guess .list-area li")))):(m?(c(".mod.bow-history .mod-bd div[idx='1'] .scrolling-wrap").hide(),c(".mod.bow-history .mod-bd div[idx='1'] .tips-waring").show()):(b.remove(),c(".mod.bow-history .mod-hd span[idx='"+f+"']").remove(),c(".mod.bow-history .mod-hd span[idx='"+(1^f)+"']").click())));0==c(".mod.bow-history .mod-bd-panel").length&&
(c(".mod.bow-history").remove(),c(".toogle-bar").remove());(0==f?Ctrip.Singleton.setStatistic("like.history","prd",c(b).find(".product-item.product-item_simple a")):1==f&&(h="like.recommend",Ctrip.Singleton.setStatistic(h,"hotel",c(b).find(".product-item:contains('\u9152\u5e97')").find("a:first")),Ctrip.Singleton.setStatistic(h,"tour",c(b).find(".product-item:contains('\u8ddf\u56e2\u6e38')").find("a:first")),Ctrip.Singleton.setStatistic(h,"tourFE",c(b).find(".product-item:contains('\u81ea\u7531\u884c')").find("a:first")),
Ctrip.Singleton.setStatistic(h,"flight",c(b).find(".product-item:contains('\u673a\u7968')").find("a:first")),Ctrip.Singleton.setStatistic(h,"ticket",c(b).find(".product-item:contains('\u95e8\u7968')").find("a:first")),Ctrip.Singleton.setStatistic(h,"play",c(b).find(".product-item:contains('\u73a9\u4e50')").find("a:first"))));return b},lazyLoad:function(){for(var f=c(".mod.bow-history")[0].getElementsByTagName("img"),d=0,b=f.length;d<b;d++)f[d].getAttribute("_src")&&(f[d].src=f[d].getAttribute("_src"))},
initSelector:function(f){f&&c.pageStorage.set("BI_TYPES",void 0);(void 0!=c.pageStorage.get("BI_TYPES")?(m=c.pageStorage.get("BI_TYPES").split(","),m.each(function(d){c(".mod.bow-history .griddle-list>li[data-cde='"+d+"']").addClass("selected");c(".mod.bow-history .griddle-list>li[data-cde='"+d+"']>span")[0].className="icon-check-white"})):(c(".mod.bow-history .griddle-list>li").each(function(d){m.push(d.attr("data-cde"));c(d).addClass("selected");c(d).find("span")[0].className="icon-check-white"}),
c.pageStorage.set("BI_TYPES",m.join(","))))},scrollLeft:function(m){var d=c(m).find("li").length,b=0,h=(0==f?238:240),a=0,a=(0==f?(1180>document.body.clientWidth?990:1190):(1180>document.body.clientWidth?1E3:1200));5<=d&&(b=a-h*d,1180>document.body.clientWidth&&(b=a-h*(d+1)));d=c(m).find(".list-area").css("left");current=d.split("px")[0]-a;c(m).find(".list-area").animate({left:current+"px"},"1000");d.split("px")[0]-a<=b&&c(m).find(".btn-next").hide();c(m).find(".btn-prev").show();b=-1*parseInt(current/a)+
1;k.prototype._func.setTraceLog(b,c(m).find(".list-area li"))},scrollRight:function(m,d){c(m).find("li");offSet=(0==f?(1180>document.body.clientWidth?990:1190):(1180>document.body.clientWidth?1E3:1200));var b=parseInt(c(m).find(".list-area").css("left").split("px")[0]);0>b&&(current=b+offSet,0<current&&(current=0),c(m).find(".list-area").animate({left:current+"px"},"1000"),0==current&&c(m).find(".btn-prev").hide());c(m).find(".btn-next").show();b=-1*parseInt(current/offSet)+1;k.prototype._func.setTraceLog(b,
c(m).find(".list-area li"))},setTraceLog:function(k,d){try{for(var b="",h=(1180>document.body.clientWidth?4:5),a=(0==f?"his_hp_trace_txt_1":"fav_hp_trace_txt_2"),e=(k-1)*h,g=e;g<e+h;g++){var l=d.get(g);if(void 0==l)break;b+="{$pid}&{$en},".replaceWith({pid:c(l).attr("pid").toLowerCase(),en:c(l).attr("typeEn").toLowerCase()})}window.__bfi.push(["_tracklog",a,'{"page":"{$pageNum}","Show":"{$value}"}'.replaceWith({pageNum:k,value:b})])}catch(m){}}}};c.mod.reg(t)}catch(n){Ctrip.Util.log(n)}}(cQuery));
cQuery.run(function(c){try{var k=function(b,c){this.init(c)},t={name:"HM_MainArea_Hotel",version:"1.0",init:function(){},uninit:function(){},module:k},s={loadingMask:"<div class='onloading'></div>",defaultTabId:0},f=1,m=-1,q=Ctrip.Util.PageConfig.url.hotelAjaxBI,n="   hotel_bluemedal hotel_silvermedal hotel_goldmedal hotel_strategymedal".split(" "),p={};k.prototype={init:function(b){this.conf=this._setConf(b);f=this.conf.defaultTabId;p.msg="HM_MainArea_Hotel_RemoteDataErr";p.method=k.prototype._func.retry;
c(".mod.hotel .mod-bd").addClass("onloading");this._event.bigTab();this._event.unTabtab();Ctrip.Util.asynScrollLoad({defObj:".mod.hotel",defHeight:0,delayFunc:this._delayCall})},_setConf:function(b){return c.extend(!0,{},s,b||{})},_delayCall:function(){k.prototype._func.request(!0,!0)},_event:{bigTab:function(){for(var b=c(".mod.hotel>div>h2>span"),d=0,a=b.length;d<a;d++)(function(a){Ctrip.Util.addEventHandler(c(b[a])[0],"click",function(){c(".mod.hotel>div>h2>span[class='current']").removeClass("current");
c(b[a]).addClass("current");f=c(b[a]).attr("idx");var d=c(".mod.hotel>div>div[idx='"+c(b[a]).attr("idx")+"']");c(".mod.hotel>div>div.mod-bd-panel").hide();(0!=d.length&&0<d.find("div>div>ul>li").length?c(d).show():(m=-1,k.prototype._func.request(!0)))})})(d)},tabtab:function(b){function d(a){Ctrip.Util.addEventHandler(a[0],"click",function(b){b=b||window.event;b=b.target||b.srcElement;if("dropdown-toggle dropdown-toggle_border"===b.className)Ctrip.Util.toggleClass(b.parentNode,"open");else if("A"===
b.nodeName){if("dropdown-menu-list"===b.parentNode.className){Ctrip.Util.toggleClass(b.parentNode.parentNode.parentNode,"open");a.find("li").removeClass("active");var c=a.find("li[class!='dropdown-li']>a"),c=c[c.length-1],d=b.cloneNode(!0);c.parentNode.replaceChild(d,c);d.parentNode.className="active";b.parentNode.replaceChild(c,b);m=b.getAttribute("pinyin")}else m=b.getAttribute("pinyin"),c=a.find("li"),c.removeClass("active"),b.parentNode.className="active";k.prototype._func.request(!1)}})}(b?d(c(b).find("ul[class='inner-tabs-nav']")):
d(c(".mod.hotel>.mod-bd").find("ul[class='inner-tabs-nav']")))},unTabtab:function(){Ctrip.Util.addEventHandler(c(document)[0],"click",function(b){b=b||window.event;"dropdown-toggle dropdown-toggle_border"!=(b.target||b.srcElement).className&&(b=c(".mod.hotel>div>div[idx='"+f+"']").find("ul[class='inner-tabs-nav']>li[class='dropdown-li']>div")[0],null!=b&&"dropdown open"===b.className&&(b.className="dropdown"))})}},_func:{retry:function(){c.loader.js(Ctrip.Util.PageConfig.url.staticJson,{type:"text/javascript",
charset:"utf-8",async:!0,cache:!0,onload:function(){var b=c.parseJSON(Ctrip.Util.PageConfig.staticData);k.prototype._func.formatHTML(!0,b.hotel);k.prototype._event.tabtab(c(".mod.hotel>div>div[idx='"+f+"']"));c(".mod.hotel .mod-bd").removeClass("onloading")}})},request:function(b,d){var a=this,e=q+"?ch="+f+"&gp="+m;c(".mod.hotel .mod-bd").addClass("onloading");c.ajax(e,{cache:!0,async:!0,method:cQuery.AJAX_METHOD_GET,onsuccess:function(e){try{var l=c.parseJSON(e.responseText);a.formatHTML(b,l);b&&
k.prototype._event.tabtab(c(".mod.hotel>div>div[idx='"+f+"']"));c(".mod.hotel .mod-bd").removeClass("onloading")}catch(m){d&&Ctrip.Util.raiseError(p)}},onerror:function(a){d&&Ctrip.Util.raiseError(p)}})},formatHTML:function(b,d){var a;if(0==c(".mod.hotel>div>div[idx='"+f+"']").length){a=c(c(".mod.hotel>div>div[idx='2']")[0].cloneNode(!0));if(c.browser.isIE7||c.browser.isIE8){a.find("ul[class='inner-tabs-nav']").remove();var e=document.createElement("UL");e.className="inner-tabs-nav";c(e).appendTo(a.find(".product-hd"))}a.attr("idx",
f)}else a=c(".mod.hotel>div>div[idx='"+f+"']");if(b){for(var g=[],l=[],e=0,n=d.tabs.length;e<n;e++)(0===e?g[0]='<li class="active"><a href="{$url}" pinyin="{$pinyin}">{$name}</a></li>'.replaceWith({pinyin:d.tabs[e].pinyin,name:d.tabs[e].tabNme,url:(d.tabs[e].lnk?d.tabs[e].lnk:"javascript:void(0);")}):(7<=e?l[l.length]='<a href="{$url}" pinyin="{$pinyin}">{$name}</a>'.replaceWith({pinyin:d.tabs[e].pinyin,name:d.tabs[e].tabNme,url:(d.tabs[e].lnk?d.tabs[e].lnk:"javascript:void(0);")}):g[g.length]='<li><a href="{$url}" pinyin="{$pinyin}">{$name}</a></li>'.replaceWith({pinyin:d.tabs[e].pinyin,
name:d.tabs[e].tabNme,url:(d.tabs[e].lnk?d.tabs[e].lnk:"javascript:void(0);")})));e='<li class="dropdown-li">\t\t\t\t \t\t\t        <div class="dropdown"><a href="javascript:void(0);" class="dropdown-toggle dropdown-toggle_border">\u66f4\u591a<span class="caret"></span></a>\t\t\t\t \t\t\t        <div class="dropdown-cont"><div class="dropdown-menu-list">{$a7}</div></div></div></li>'.replaceWith({a7:l.join("")});n=c(a).find("ul[class='inner-tabs-nav']");(0<l.length?c(n).html(g.join("")+e):c(n).html(g.join("")));
m=c(n).find("a:eq(0)").attr("pinyin")}l=[];e=0;for(n=d.prdLst.length;e<n;e++)g=(1==f?'<div class="product-item product-item_complex" title="{$title}"><a group="a" href="{$url}" target="_blank"><div class="item-thumbnail"><img src="{$img}" alt="{$title}"/></div><div class="item-msg"><p class="item-name">{$name}</p><p class="item-num">{$count}\u5bb6\u9152\u5e97</p><p class="item-info">{$price}</p></div><div class="iefix-bg"></div></a></div>':'<div class="product-item" title="{$title}"><div class="item-thumbnail"><a href="{$url}" target="_blank" group="a"><img src="{$img}" alt="{$title}"/></a></div><p class="item-name {$cssHack}"><a group="a" href="{$url}" target="_blank">{$name}{$medal}</a></p><p class="item-info">{$price}{$rates}{$subt}</p></div>'),
l[l.length]=g.replaceWith({name:d.prdLst[e].nme,title:d.prdLst[e].nme,img:d.prdLst[e].img,url:d.prdLst[e].lnk,count:d.prdLst[e].count,price:(0==d.prdLst[e].price.amt?'<span class="price no-price">\u5b9e\u65f6\u8ba1\u4ef7</span>':'<span class="price"><dfn>\u00a5</dfn>'+d.prdLst[e].price.amt+'<i class="price_info">\u8d77</i></span>'),subt:(d.prdLst[e].zoneLst?'<a class="item-type" target="_blank" href="'+d.prdLst[e].zoneLst[0].lnk+'">'+d.prdLst[e].zoneLst[0].nme+"</a>":""),medal:k.prototype._func.getMetalHTML(d.prdLst[e]),
rates:k.prototype._func.getMetalRate(d.prdLst[e]),cssHack:(2==f||3==f?"item-name-space":"")});if(d.adLst)for(e=0,n=d.adLst.length;e<n;e++){if(""!=d.adLst[e].alt){l[l.length]='<div class="extra-item" title="{$title}"><a href="{$url}" target="_blank"><p class="extra-thumbnail"><img src="{$img}" alt="{$title}"></p><p class="extra-text">{$name}</p></a></div>'.replaceWith({name:d.adLst[e].alt,title:d.adLst[e].alt,img:d.adLst[e].img,url:d.adLst[e].lnk});break}}else c(a).find("div[class='product-bd']>div").addClass("inner-tab-panel_noextra");
c(a).find("div[class='product-bd']>div").html(l.join(""));(null!=d.exLnk&&""!=d.exLnk?(e=d.exNme,n=d.exLnk):(1==f?(e="\u66f4\u591a\u56fd\u9645\u9152\u5e97",n="http://hotels.ctrip.com/international/"):(2==f?(e="\u66f4\u591a\u56fd\u5185\u9152\u5e97",n="http://hotels.ctrip.com/"):(3==f?(e="\u66f4\u591a\u5ba2\u6808\u6c11\u5bbf",n="http://inn.ctrip.com/"):(e="\u66f4\u591a\u5957\u9910",n="http://taocan.ctrip.com/sh/")))));c(a).find("a[class='linked-more']").html(e+' <i class="i_index_next"></i>');c(a).find("a[class='linked-more']").attr("href",
n);g='<span class="entrance-item" title="{$name}"><a href="{$url}" target="_blank">{$name}</a>{$hot}</span>';if(4==f||"RelativeLayout"==d.tagUp.layout)g='<span class="entrance-item" title="{$name}"><a href="{$url}" target="_blank">{$name}</a>{$hot}</span>';l=[];if(d.tagUp){e=0;for(n=d.tagUp.itemLst.length;e<n&&("LinearLayout"!=d.tagUp.layout||5!=e)&&("RelativeLayout"!=d.tagUp.layout||15!=e)&&(4!=f||15!=e);e++)l[l.length]=g.replaceWith({name:d.tagUp.itemLst[e].nme,url:d.tagUp.itemLst[e].lnk,hot:("Y"===
d.tagUp.itemLst[e].isHot&&"LinearLayout"!=d.tagUp.layout?"<span class='icon_hot'></span>":"")});var p="";(4==f?(d.tagUp.nme="\u70ed\u95e8\u4e3b\u9898",c(a).find(".entrance>dl:eq(0)")[0].className="keyword-short",p="<DD>"+l.join("")+"</DD>"):("LinearLayout"==d.tagUp.layout?(c(a).find(".entrance>dl:eq(0)")[0].className="keyword-long",l.each(function(a){p+="<DD>"+a+"</DD>"})):p="<DD>"+l.join("")+"</DD>"));c(a).find(".entrance>dl:eq(0)").html("<dt>"+d.tagUp.nme+"</dt>"+p)}else c(a).find(".entrance>dl:eq(0)").hide();
l=[];if(4==f||"RelativeLayout"==d.tagDown.layout)g='<span class="entrance-item" title="{$name}"><a href="{$url}" target="_blank">{$name}</a>{$hot}</span>';if(d.tagDown){e=0;for(n=d.tagDown.itemLst.length;e<n&&("LinearLayout"!=d.tagDown.layout||5!=e)&&("RelativeLayout"!=d.tagDown.layout||15!=e)&&(4!=f||15!=e);e++)l[l.length]=g.replaceWith({name:d.tagDown.itemLst[e].nme,url:d.tagDown.itemLst[e].lnk,hot:("Y"===d.tagDown.itemLst[e].isHot&&"LinearLayout"!=d.tagDown.layout?"<span class='icon_hot'></span>":
"")});var r="";(4==f?(d.tagDown.nme="\u4fc3\u9500",c(a).find(".entrance>dl:eq(1)")[0].className="keyword-long",r="<DD>"+l.join("")+"</DD>"):("RelativeLayout"==d.tagDown.layout?(c(a).find(".entrance>dl:eq(1)")[0].className="keyword-short",r="<DD>"+l.join("")+"</DD>"):l.each(function(a){r+="<DD>"+a+"</DD>"})));c(a).find(".entrance>dl:eq(1)").html("<dt>"+d.tagDown.nme+"</dt>"+r)}else c(a).find(".entrance>dl:eq(1)").hide();c(a).appendTo(c(".mod.hotel .mod-bd"));a.show();var q;(1==f?q="hotel.hoi":(2==f?(q="hotel.hod",
Ctrip.Singleton.setStatistic("hotel.hod","area",c(a).find(".item-info .item-type"))):(4==f?q="hotel.pah":3==f&&(q="hotel.inn",Ctrip.Singleton.setStatistic("hotel.hod","area",c(a).find(".item-info .item-type"))))));Ctrip.Singleton.setStatistic(q,"prd",c(a).find(".product-item a[group='a']"));Ctrip.Singleton.setStatistic(q,"more",c(a).find(".linked-more"));Ctrip.Singleton.setStatistic(q,"event",c(a).find(".extra-item a"));Ctrip.Singleton.setStatistic(q,"tag1",c(a).find(".entrance dl:eq(0) a"));Ctrip.Singleton.setStatistic(q,
"tag2",c(a).find(".entrance dl:eq(1) a"))},lazyLoad:function(){for(var b=c(".mod.hotel")[0].getElementsByTagName("img"),d=0,a=b.length;d<a;d++)b[d].getAttribute("_src")&&(b[d].src=b[d].getAttribute("_src"))},getMetalHTML:function(b){if(!b||void 0==b.rstar)return"";var c=function(a){switch(a){case 3:return"\u84dd\u724c\u5408\u4f5c";case 4:return"\u94f6\u724c\u5408\u4f5c";case 5:return"\u91d1\u724c\u5408\u4f5c";case 6:return"\u7279\u7ea7\u724c\u5408\u4f5c";default:return""}};return (3<=b.rstar?b='<span class="medal {$css}" title="{$title}"></span>'.replaceWith({css:n[b.rstar],
title:c(b.rstar)}):"")},getMetalRate:function(b){if(!b||void 0==b.isStar||!0===b.isStar&&(!b.star||""==b.star)||!1===b.isStar&&(!b.cusEval||""==b.cusEval))return"";var c=function(a){switch(a){case 0.5:return"diamond01_half";case 1:return"diamond01";case 1.5:return"diamond02_half";case 2:return"diamond02";case 2.5:return"diamond03_half";case 3:return"diamond03";case 3.5:return"diamond04_half";case 4:return"diamond04";case 4.5:return"diamond05_half";case 5:return"diamond05";case 5.5:return"diamond06_half";
case 6:return"diamond06";default:return""}},a=function(a){switch(a){case 1:return"star01";case 2:return"star02";case 3:return"star03";case 4:return"star04";case 5:return"star05"}};return (0<b.rstar?b='<span class="diamond {$css}"></span>'.replaceWith({css:(!0===b.isStar?a(b.star):c(b.cusEval))}):"")}}};c.mod.reg(t)}catch(d){Ctrip.Util.log(d)}}(cQuery));
