/**
 * Ctrip JavaScript Code
 * http://www.ctrip.com/
 * Copyright(C) 2008 - 2015, Ctrip All rights reserved.
 * Version: 150601
 * Date: 2015-06-01
 */
;window.replace=function(){return ''};var Ctrip=Ctrip||{};Ctrip.Util=Ctrip.Util||{};Ctrip.Class=Ctrip.Class||{};Ctrip.Singleton=Ctrip.Singleton||{};Ctrip.Mod=Ctrip.Mod||{};Ctrip.Util.VirtualPath=window.location.protocol+"//"+window.location.host+"/homepage";
Ctrip.Util.PageConfig={showLog:!1,showTrace:!1,cityId:$("#cityId").value(),cityName:$("#cityName").value(),url:{vacationAjaxBI:Ctrip.Util.VirtualPath+"/tool/recommend/vacations/",hotelAjaxBI:Ctrip.Util.VirtualPath+"/tool/recommend/hotels/",youAjaxBI:Ctrip.Util.VirtualPath+"/tool/recommend/you/",carAjaxBI:Ctrip.Util.VirtualPath+"/tool/recommend/car/",tddAjaxBI:Ctrip.Util.VirtualPath+"/tool/recommend/ttd/",spAjaxBI:Ctrip.Util.VirtualPath+"/tool/recommend/shop/",biAjaxBI:Ctrip.Util.VirtualPath+"/tool/recommend/like/",
flightAjaxBI:Ctrip.Util.VirtualPath+"/tool/recommend/flight/",popAjax:Ctrip.Util.VirtualPath+"/Tool/AjaxQuery.ashx",AjaxGetBrowserHistory:Ctrip.Util.VirtualPath+"/Tool/AjaxGetBrowserHistory.ashx",AjaxGetDeals:Ctrip.Util.VirtualPath+"/Tool/AjaxGetDealsTabJSON.ashx",mailAjaxGet:Ctrip.Util.VirtualPath+"/Tool/AjaxSubscription.ashx",staticJson:"http://webresource.c-ctrip.com/ResCRMOnline/R5/homepage/js/mods/home-mods-static.js"},tip:{telphone:["\u624b\u673a\u53f7\u7801\u4e0d\u80fd\u4e3a\u7a7a","\u624b\u673a\u53f7\u7801\u683c\u5f0f\u4e0d\u6b63\u786e"],
email:["\u8bf7\u8f93\u5165Email\u5730\u5740","\u8bf7\u8f93\u5165\u6b63\u786e\u7684Email\u5730\u5740","\u4e0d\u80fd\u91cd\u590d\u8ba2\u9605","\u8bf7\u8f93\u5165\u60a8\u5e38\u7528\u7684\u90ae\u7bb1\u5730\u5740(\u5982\uff1aa@b.c)"]}};Ctrip.Util.Extend=function(a,b){var c=function(){};c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.superclass=b.prototype};Ctrip.Util.loadJS=function(a,b){cQuery.loader.js(a,{type:"text/javascript",async:!0,charset:"utf-8",onload:b})};
Ctrip.Util.Animation={isRun:!1,anims:[],run:function(){var a=this,b=a.anims,c=setInterval(function(){var e=(new Date).getTime();if(0===b.length)clearInterval(c),a.isRun=!1;else for(var d=0;d<b.length;d++){var f=b[d].tFrom,g=f+b[d].time;(e>=f&&e<g?b[d].run():e>=g&&(b[d].runEnd(),b.splice(d,1)[0]))}},1)},add:function(a){this.isRun||(this.isRun=!0,this.run());a.run=function(){var b=a.styleFrom+(Number(new Date)-a.tFrom)/a.time*(a.styleTo-a.styleFrom),b=parseInt(b,10);this.setStyle(b)};a.runEnd=function(){this.setStyle(this.styleTo)};
a.setStyle=function(a){var c=this.obj,e=this.type;switch(e){case "opacity":c.style.opacity=a/100;c.style.filter="alpha(opacity="+a+")";break;default:c.style[e]=a+"px"}};this.anims.push(a);return a},stop:function(a){for(var b=this.anims,c=0;c<b.length;c++)a===b[c]&&b.splice(c,1)[0]}};Ctrip.Class.Form=function(a,b){this.form=a;this.submitBtn=b;this.v_methods=[];this.storage=null};Ctrip.Class.Form.prototype.regValidateMethod=function(a){this.v_methods.push(a)};
Ctrip.Class.Form.prototype.bindSubmit=function(){var a=this;this.submitBtn.bind("click",function(){for(var b=0,c=a.v_methods.length;b<c;b++)if(!a.v_methods[b]())return!1;a.setCookie();a.setPostValue();a.setAction();a.setStorage();a.form[0].submit();return!0})};Ctrip.Class.Form.prototype.setAction=function(){throw Error("\u62bd\u8c61\u65b9\u6cd5, \u4e0d\u80fd\u5b9e\u4f8b\u5316\u8c03\u7528\uff0c\u9700\u8981"+this.constructor+"\u5b50\u7c7b\u91cd\u5199");};
Ctrip.Class.Form.prototype.setPostValue=function(){throw Error("\u62bd\u8c61\u65b9\u6cd5, \u4e0d\u80fd\u5b9e\u4f8b\u5316\u8c03\u7528\uff0c\u9700\u8981"+this.constructor+"\u5b50\u7c7b\u91cd\u5199");};Ctrip.Class.Form.prototype.validateShow=function(a,b){Ctrip.Util.PageConfig.formValidate.method("show",{$obj:a,data:b,removeErrorClass:!0,hideEvent:"blur",isFocus:!0,isScroll:!1})};
Ctrip.Class.Form.prototype.setStorage=function(){throw Error("\u62bd\u8c61\u65b9\u6cd5, \u4e0d\u80fd\u5b9e\u4f8b\u5316\u8c03\u7528\uff0c\u9700\u8981"+this.constructor+"\u5b50\u7c7b\u91cd\u5199");};Ctrip.Class.Form.prototype.setCookie=function(){throw Error("\u62bd\u8c61\u65b9\u6cd5, \u4e0d\u80fd\u5b9e\u4f8b\u5316\u8c03\u7528\uff0c\u9700\u8981"+this.constructor+"\u5b50\u7c7b\u91cd\u5199");};
Ctrip.Class.Form.prototype.getStorage=function(){throw Error("\u62bd\u8c61\u65b9\u6cd5, \u4e0d\u80fd\u5b9e\u4f8b\u5316\u8c03\u7528\uff0c\u9700\u8981"+this.constructor+"\u5b50\u7c7b\u91cd\u5199");};Ctrip.Class.Form.prototype.setBtnEnable=function(){this.submitBtn[0].removeAttribute("disabled");this.submitBtn[0].className="s_btn"};Ctrip.Class.Form.prototype.setNotice=function(a,b,c){return a.regMod("notice","1.0",{name:b,tips:c,selClass:"inputSel"})};
Ctrip.Util.asynScrollLoad=function(a){var b={defObj:null,defHeight:0,delayFunc:null},b=$.extend(b,a||{}),c=!1,e=("object"==typeof b.defObj?b.defObj:$(b.defObj)),d=function(){var a=document,c=("ipad"==navigator.userAgent.toLowerCase().match((/iPad/i))?window.pageYOffset:Math.max(a.documentElement.scrollTop,a.body.scrollTop));return a.documentElement.clientHeight+c-b.defHeight},f=function(){e.each(function(a){$(a).offset().top<=d()&&!c&&(function(){b.delayFunc()}.delay(200),Ctrip.Util.log(b.defObj+" loaded!"),
c=!0)})};f();Ctrip.Util.addEventHandler(window,"scroll",function(){f()})};
Ctrip.Util.loadMod=function(a){$.loader.js(a,{async:!1,onload:function(){Ctrip.Util.log("mods.js loaded!");try{Ctrip.Mod.vacationRecommend=$(document).regMod("HM_MainArea_Vacation","1.0",{cityId:Ctrip.Util.PageConfig.cityId||"2",cityName:Ctrip.Util.PageConfig.cityName||"\u4e0a\u6d77"})}catch(a){Ctrip.Util.log(a)}$(document).regMod("HM_MainArea_Hotel","1.0",{defaultTabId:"1"});try{$(document).regMod("HM_MainArea_Flight","1.0",{defaultTabId:$(".mod.flight .pull-right .dropdown-toggle").attr("data-szm")})}catch(c){Ctrip.Util.log(c)}try{$(document).regMod("HM_MainArea_Car",
"1.0",{defaultTabId:"4"})}catch(e){Ctrip.Util.log(e)}try{$(document).regMod("HM_MainArea_You","1.0",{defaultTabId:"1"})}catch(d){Ctrip.Util.log(d)}try{$(document).regMod("HM_MainArea_TTD","1.0",{defaultTabId:"9001"})}catch(f){Ctrip.Util.log(f)}try{$(document).regMod("HM_MainArea_SP","1.0",{defaultTabId:"1"})}catch(g){Ctrip.Util.log(g)}try{$(document).regMod("HM_MainArea_BI","1.0",{defaultTabId:0})}catch(h){Ctrip.Util.log(h)}}})};window.homePageErrs=window.homePageErrs||[];Ctrip.Util.raiseError=function(a){window.homePageErrs.push(a)};
Ctrip.Util.errorProcess=function(){window.setInterval(function(){window.homePageErrs.each(function(){var a=window.homePageErrs.pop();Ctrip.Util.log(a.msg);a.method()})},100)};Ctrip.Util.addEventHandler=function(a,b,c){(a.attachEvent?a.attachEvent("on"+b,c):(a.addEventListener?a.addEventListener(b,c,!1):a["on"+b]=c))};
Ctrip.Util.log=function(a,b){Ctrip.Util.PageConfig.showLog&&(void 0==b&&(b=Ctrip.Util.PageConfig.showTrace),(b?console.trace({message:a,time:(new Date).toFormatString("yyyy-MM-dd hh:mm:ss")}):console.log({message:a,time:(new Date).toFormatString("yyyy-MM-dd hh:mm:ss")})))};Ctrip.Util.toggleClass=function(a,b){(-1!=a.className.indexOf(b)?a.className=a.className.replace(b,"").replace((/(\s*$)/g),""):a.className=a.className+" "+b)};
Ctrip.Util.imgLazyLoad=function(a){a=$(a)[0].getElementsByTagName("img");for(var b=0,c=a.length;b<c;b++)a[b].onload=function(a){a=a.target||a.srcElement;a.getAttribute("_src")&&(a.src=a.getAttribute("_src"),a.onload=null,$(a).fadeIn())}};
