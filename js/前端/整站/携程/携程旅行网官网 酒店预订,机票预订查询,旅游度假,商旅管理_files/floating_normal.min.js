/**
 * Ctrip JavaScript Code
 * http://www.ctrip.com/
 * Copyright(C) 2008 - 2015, Ctrip All rights reserved.
 * Version: 150611
 * Date: 2015-06-11
 */
;window.replace=function(){return ''};!function(){var e,p=window,t=(p.document,p.location,[]);"undefined"==typeof window.__bfi&&(window.__bfi=[]),setTimeout(function(){document.getElementById("page_id")&&(e=document.getElementById("page_id").value)},2e3);var a={reg:{phoneFormat:"^(1[0-9]{10})$"},validMsg:{success:"下载链接短信已成功发送到您的手机！",phoneNumberText:"请输入11位手机号",authcodeText:"动态验证码"},api:{getAuthCode:"/ImageCode/AuthCode.ashx?method=get"},htmlcss:{html:'<div class="appd_wrap_open" id="appd_wrap_open"><div class="appd_wrap_open_cnt" id="appd_wrap_open_cnt"></div></div><div class="appd_wrap_pop" id="appd_wrap_pop"><div class="appd_wrap_pop_cnt" id="appd_wrap_pop_cnt"><div class="appd_wrap_pop_box"><a href="javascript:;" class="appd_wrap_close" title="关闭" id="appd_wrap_close">&times;</a><div class="appd_wrap_pop_pic_phone pic_for_gift"></div><div class="appd_wrap_pop_text style_for_gift"><p class="word_1">抢<span>200</span>红包</p><p class="word_2">APP全场首单立减 旅游满就减</p><p class="word_3"><a id="pcFloatGift" href="http://pages.ctrip.com/commerce/promote/201506/other/nl/index.html"><img src="http://webresource.c-ctrip.com/ResUnionOnline/R3/float/pic/gift_float_btn.png" width="116" height="33" alt="" /></a></p></div><div class="appd_wrap_pop_cont" id="appd_wrap_pop_cont"><div class="appd_wrap_pop_form"><div class="appd_wrap_pop_t">下载携程旅行手机版<a id="LinkApp" href=http://app.ctrip.com/><span>Pad</span>及手机网络版 &gt;</a></div><p>下载地址至手机</p><p class="appd_wrap_pop_s_item"><input type="text" placeholder="请输入11位手机号" style="color:#909090;padding:0 10px" value="" class="appd_wrap_input" id="popfloating_phone_num"></p><p class="appd_wrap_pop_s_item2"><input id="authCodeImgInput" type="text" placeholder="动态验证码" style="color:#909090;padding:0 10px;" value="" class="appd_wrap_input"><span class="appd_wrap_pop_span"><img id="authCodeImg" width="86" height="40" alt="" src="http://pic.c-ctrip.com/index/zzz_code_image.png"></span><a id="popfloating_send_msg" class="appd_wrap_pop_btn01" href="javascript:;">免费获取</a><span id="popfloating_show_msg_codetip" style="display: none;" class="app_wrap_pop_codetip"><span class="appd_wrap_pop_arrow"></span><i class="appd_wrap_pop_ico_alert"></i style="color:#999">请输入正确的验证码</span></p><p class="app_wrap_pop_tip" style="color:#909090" id="popfloating_show_msg"></p></div><div class="appd_wrap_pop_code"><p>扫描二维码下载</p><img id="popfloating_float_img" src="http://pic.c-ctrip.com/index/qr_common_20150120.png"></div></div></div></div></div>',css:'.appd_wrap_open{display:none;position:fixed;z-index:99999;left:0;bottom:90px;width:44px;height:95px;_position:absolute;overflow:hidden;}.appd_wrap_open_cnt{position:absolute;left:0;top:0;width:100%;height:100%;background:url(http://webresource.c-ctrip.com/ResUnionOnline/R3/float/pic/app_wrap_open.png);_background:url(http://webresource.c-ctrip.com/ResUnionOnline/R3/float/pic/app_wrap_open_8.png) no-repeat;}.appd_wrap_pop{display:none;position:fixed;z-index:99998;left:0;bottom:0;width:100%;height:205px;_position:absolute;overflow:hidden;}.appd_wrap_pop_cnt{position:absolute;left:0;bottom:0;width:100%;background:url(http://pic.c-ctrip.com/index/bg_mask20131029.png) repeat-x 0 -225px;_background:#1e2939;}.appd_wrap_pop input, .appd_wrap_pop p{margin:0;padding:0}.appd_wrap_pop a{color:#06c;text-decoration:none}.appd_wrap_pop a:hover{text-decoration:underline}.appd_wrap_pop .appd_wrap_pop_s_btn,.appd_wrap_pop .appd_wrap_pop_s_btn_disabled{width:145px;height:33px;color:#fff;font-size:16px;font-family:"Microsoft YaHei",SimSun,Tahoma,Verdana,Arial,sans-serif;font-weight:bold;cursor:pointer;text-align:center;letter-spacing:.4em;text-indent:.4em;box-shadow:0 1px 0 rgba(95,50,0,0.7);border-radius:3px;*filter:chroma(color=#000000)}.appd_wrap_pop .appd_wrap_pop_s_btn{text-shadow:1px 1px 0 #cf7000;background-color:#ffb000;border:solid 1px #e77c00}.appd_wrap_pop .appd_wrap_pop_s_btn_disabled{color:#999;background-color:#efefef;border:solid 1px #ccc;cursor:default}.appd_wrap_pop_s_item input,.appd_wrap_pop_s_item2 input,.appd_wrap_pop_s_item3 input{padding:0 10px;margin-left:10px;border-color:#e9e9ea;border-style:solid;border-width:1px;height:38px;font:16px/38px "Microsoft YaHei",SimSun,Tahoma,Verdana,Arial,sans-serif;*vertical-align:middle;outline:0;color:#333}.appd_wrap_pop_box{position:relative;z-index:1;width:980px;height:185px;margin:0 auto;font:12px/1.5 arial,Simsun,sans-serif;color:#333}.appd_wrap_pop_tip{font-size:14px;font-weight:bold;color:#fc3}.appd_wrap_pop_pic_phone,.appd_wrap_pop_ico_success,.appd_wrap_pop_ico_alert,.appd_wrap_pop_arrow{background:url(http://pic.c-ctrip.com/index/un_app_20150120.png) no-repeat}.appd_wrap_pop_ico_success,.appd_wrap_pop_ico_alert,.appd_wrap_pop_arrow{display:inline-block;width:18px;height:18px;margin-right:3px;vertical-align:middle}.appd_wrap_pop_ico_success{background-position:-25px -215px}.appd_wrap_pop_ico_alert{background-position:-45px -215px}.appd_wrap_pop_arrow{background-position:0 -215px}.appd_wrap_pop_pic_phone{position:absolute;top:-20px;left:0;width:145px;height:198px;background-position:0 0}.appd_wrap_pop .appd_wrap_close{position:absolute;top:10px;right:0;font:normal 38px Simsun;color:#9aa1a8;outline:0 none}.appd_wrap_pop .appd_wrap_close:hover{text-decoration:none}.appd_wrap_pop_text{position:absolute;top:30px;left:157px;width:340px;font-family:"Microsoft YaHei";color:#FFF}.appd_wrap_pop_text .appd_wrap_pop_t{margin-bottom:15px;font-size:40px}.appd_wrap_pop_text .appd_wrap_pop_t strong{margin-left:10px}.appd_wrap_pop_text .appd_wrap_pop_c{line-height:1.2;font-size:28px}.appd_wrap_pop_text .appd_wrap_pop_c span{margin-left:10px;color:#ffb000}.appd_wrap_pop_text .appd_wrap_pop_c dfn{font-style:normal;font-size:28px;font-family:Tahoma}.appd_wrap_pop_text .appd_wrap_pop_c .appd_wrap_pop_emphasis{vertical-align:-2px;font-size:32px}.appd_wrap_pop_text2{position:absolute;top:23px;left:157px;width:340px;font-family:"Microsoft YaHei";color:#FFF}.appd_wrap_pop_text2 .appd_wrap_pop_t2{margin-bottom:15px;font-size:33px}.appd_wrap_pop_text2 .appd_wrap_pop_t2 strong{margin-left:10px}.appd_wrap_pop_text2 .appd_wrap_pop_c2{line-height:1.4;font-size:25px}.appd_wrap_pop_text2 .appd_wrap_pop_c2 span{margin-left:5px;color:#ffb000}.appd_wrap_pop_text2 .appd_wrap_pop_c2 dfn{font-style:normal;font-size:28px;font-family:Tahoma}.appd_wrap_pop_text2 .appd_wrap_pop_c2 .appd_wrap_pop_emphasis{vertical-align:-2px;font-size:32px}.appd_wrap_pop_cont{position:absolute;top:0;left:480px;width:422px;height:171px;padding:14px 6px 0 20px;color:#FFF;background:url(http://pic.c-ctrip.com/index/bg_mask20131029.png) repeat-x 0 -35px;_background:#49535f}.appd_wrap_pop_form{float:left;width:290px;margin-right:10px}.appd_wrap_pop_form .appd_wrap_pop_t{margin-bottom:12px;font:normal 16px "Microsoft YaHei"}.appd_wrap_pop_form .appd_wrap_pop_t a{margin-left:10px;font-size:12px;font-family:Tahoma;color:#FFF}.appd_wrap_pop_form .appd_wrap_pop_t a span{font-size:14px}.appd_wrap_pop_form .appd_wrap_pop_s_item{width:auto;margin:5px 0}.appd_wrap_pop_form .appd_wrap_pop_s_item input{width:255px;margin:0 10px 0 0;vertical-align:middle}.appd_wrap_pop_form .appd_wrap_pop_s_item2 input{width:109px;margin:0;vertical-align:top;*margin-top:-1px}.appd_wrap_pop_s_item2{position:relative;}.appd_wrap_pop_s_item2 .appd_wrap_pop_codetip{position:absolute;top:-44px;left:0;width:267px;padding-top:10px;height:30px;*line-height:30px;line-height:20px;background-color:#fff;padding-left:10px;color:#f90;font-size:14px;font-weight:bold;box-shadow:0 2px 2px #000}.appd_wrap_pop_s_item2 .appd_wrap_pop_arrow{position:absolute;top:40px;width:20px;height:9px}.appd_wrap_pop .appd_wrap_pop_btn01,.appd_wrap_pop .appd_wrap_pop_btn01_disabled{display:inline-block;padding:0 4px;margin-left:3px;height:40px;line-height:40px;vertical-align:top;background:#f90;font-family:"Microsoft YaHei",SimSun,Tahoma,Verdana,Arial,sans-serif;color:#fff;font-size:18px;cursor:pointer}.appd_wrap_pop .appd_wrap_pop_btn01:hover{background:#f90;text-decoration:none}.appd_wrap_pop .appd_wrap_pop_btn01_disabled,.appd_wrap_pop .appd_wrap_pop_btn01_disabled:hover{text-decoration:none;cursor:default;background-color:#d1d1d1;box-shadow:0 1px 0 #333}.appd_wrap_pop_code{float:left;padding-top:2px}.appd_wrap_pop_code p{margin-bottom:10px;text-align:center;}.appd_wrap_pop_code3{float:left;margin-left:13px;padding-top:2px}.appd_wrap_pop_span{width: 60px; overflow: hidden; margin-left:3px; display: inline-block;}.appd_wrap_pop_code3 p{margin-bottom:10px}.appd_wrap_pop_collect{height:38px;text-align:center;font:normal 16px/38px "Microsoft YaHei",Tahoma;color:#FFF;background-color:#000}.appd_wrap_pop_collect .appd_wrap_pop_s_btn{height:26px;margin-left:15px;padding:0 10px;line-height:26px;letter-spacing:0;font-weight:normal;font-size:15px;text-shadow:none}.appd_wrap_pop_collect .appd_wrap_pop_s_btn:hover{text-decoration:none}.appd_wrap_pop_down_intro{padding-left:40px}.appd_wrap_pop_down_intro .appd_wrap_pop_form{width:178px;padding-right:20px}.appd_wrap_pop_down_intro .appd_wrap_pop_form .appd_wrap_pop_t{font-size:16px}.appd_wrap_pop_down_intro .appd_wrap_pop_t2{font-size:14px;font-family:"Microsoft YaHei";margin-bottom:15px}.style_for_car{width:290px;text-align:center}.style_for_car span{color:#ffb000;}.style_for_car .word_1{font-size:52px;line-height:1.4;}.style_for_car .word_2{font-size:33px;line-height:1.6;}.style_for_flights{width:300px;text-align:center}.style_for_flights span{color:#ffb000;}.style_for_flights .word_1{font-size:52px;line-height:1.4;}.style_for_flights .word_2{font-size:33px;line-height:1.6;}.style_for_bus{width:290px;text-align:center}.style_for_bus span{color:#ffb000;}.style_for_bus .word_1{font-size:42px;line-height:1.3;}.style_for_bus .word_2{font-size:50px;line-height:1.4;}.style_for_trains{width:310px;text-align:center}.style_for_trains span{color:#ffb000;}.style_for_trains .word_1{font-size:38px;line-height:1.4;}.style_for_trains .word_2{font-size:50px;line-height:1.4;}.style_for_deals{width:310px;text-align:center}.style_for_deals span{color:#ffb000;}.style_for_deals .word_1{font-size:40px;line-height:1.1;margin-bottom:10px;}.style_for_deals .word_2{font-size:28px;line-height:1.4;}.style_for_deals .word_3{font-size:25px;line-height:1.3;}.style_for_taocan{width:300px;text-align:center}.style_for_taocan span{color:#ffb000;}.style_for_taocan .word_1{font-size:52px;line-height:1.4;}.style_for_taocan .word_2{font-size:33px;line-height:1.6;}.style_for_visa{width:305px;text-align:center}.style_for_visa span{color:#ffb000;}.style_for_visa .word_1{font-size:50px;line-height:1.4;}.style_for_visa .word_2{font-size:28px;line-height:1.7;}.pic_for_gift {top:-20px;width:233px;height:205px;background:url(http://webresource.c-ctrip.com/ResUnionOnline/R3/float/pic/gift_float_ppl.png);}.style_for_gift{left:230px;width:260px;}.style_for_gift .word_1{font-size:46px;line-height:1.1;}.style_for_gift .word_1 span{font-size:50px;}.style_for_gift .word_2{font-size:17px;line-height:2;}.style_for_gift .word_3{margin-top:5px;}'}},o={html2dom:function(e){var p=document.createDocumentFragment(),t=document.createElement("div");
t.innerHTML=e;for(var a=t.children;a.length>0;)p.appendChild(a[0]);return p},contains:function(e,p){return (e.contains?e!=p&&e.contains(p):!!(16&e.compareDocumentPosition(p)))},checkHover:function(e,p){try{return("mouseover"==o.getEvent(e).type?!(o.contains(p,o.getEvent(e).relatedTarget||o.getEvent(e).fromElement)||(o.getEvent(e).relatedTarget||o.getEvent(e).fromElement)===p):!(o.contains(p,o.getEvent(e).relatedTarget||o.getEvent(e).toElement)||(o.getEvent(e).relatedTarget||o.getEvent(e).toElement)===p))
}catch(e){}},getEvent:function(e){return e||window.event},createScript:function(e,p){var t=document.createElement("script");t.type="text/javascript",t.async=p,t.src=e;var a=document.getElementsByTagName("head")[0];a.appendChild(t)},createStyleTag:function(e){head=document.getElementsByTagName("head")[0],style=document.createElement("style"),style.type="text/css",(style.styleSheet?style.styleSheet.cssText=e:style.appendChild(document.createTextNode(e))),head.appendChild(style)
},setCookie:function(e,p,t){var a=(document.domain||"").replace((/^[\w\W]*\.ctrip(corp)??\.com(.hk)??/),"ctrip$1.com$2"),o=[];for(var n in e){var i=(null===e[n]?"":e[n]);o.push(n+"="+i)}var r=new Date;r.setDate(r.getDate()+t),document.cookie=(""==p?o.join("&")+"; expires="+r.toGMTString()+"; domain="+a+";path=/;":o.join("&")+"; domain="+a+";path=/;")
},getCookie:function(e){if(document.cookie.length>0){var p=document.cookie.indexOf(e+"=");if(-1!=p){p=p+e.length+1;var t=document.cookie.indexOf(";",p);return-1==t&&(t=document.cookie.length),document.cookie.substring(p,t)}}return""},getCookie2:function(e,p){e=e.toLowerCase(),p=p.toLowerCase();var t=document.cookie.toLowerCase(),a="";
if(t.length>0){var o=t.indexOf(e+"=");if(-1!=o){o=o+e.length+1;var n=t.indexOf(";",o);-1==n&&(n=t.length),a=t.substring(o,n)}}if(a.length>0){var o=a.indexOf(p+"=");if(-1!=o){o=o+p.length+1;var n=a.indexOf("&",o);return-1==n&&(n=a.length),a.substring(o,n)}}return""},getQueryString:function(e){var p=location.href.toLowerCase();
if(e=e.toLowerCase(),-1==p.indexOf("")||-1==p.indexOf(e+"="))return"";for(var t,a,o,n=p.substring(p.indexOf("?")+1),i=n.split("&"),r=0;r<i.length;r++)if(t=i[r].indexOf("="),-1!=t&&(a=i[r].substring(0,t),o=i[r].substring(t+1),a==e))return unescape(o.replace((/\+/g)," "));return""},getDomain:function(){var e=document.URL,p="";
return p=(e.indexOf("localhost")>=0||e.indexOf("127.0.0.1")>=0?"localhost/CommunicationPromotion":(e.indexOf(".dev.")>=0||e.indexOf(".DEV.")>=0?"crm.ws.dev.sh.ctriptravel.com/Promotion":(e.indexOf(".fat")>=0||e.indexOf(".FAT")>=0?"crm.ws.fws.qa.nt.ctripcorp.com/Promotion":(e.indexOf(".fws.")>=0||e.indexOf(".FWS.")>=0?"crm.ws.fws.qa.nt.ctripcorp.com/Promotion":(e.indexOf(".uat.")>=0||e.indexOf(".UAT.")>=0?"crm.ws.uat.qa.nt.ctripcorp.com/Promotion":"crm.ws.ctrip.com/Promotion"))))),p=(("https:"==document.location.protocol?"https://":"http://"))+p
},Addfavor:function(e,p){var t=navigator.userAgent.toLowerCase();if(t.indexOf("msie 8")>-1)window.external.AddToFavoritesBar(e,p);else try{window.external.addFavorite(e,p)}catch(a){try{window.sidebar.addPanel(p,e,"")}catch(a){if((/Chrome\/(\S+)/).test(navigator.userAgent));if((/Safari\/(\S+)/).test(navigator.userAgent));alert("请使用ie浏览器添加收藏")
}}},hasClass:function(e,p){var t=e.className,a=t.split((/\s+/));for(var o in a)if(a[o]===p)return!0;return!1},addClass:function(e,p){this.hasClass(e,p)||(e.className+=" "+p)},removeClass:function(e,p){if(this.hasClass(e,p)){var t=new RegExp("(\\s|^)"+p+"(\\s|$)");e.className=e.className.replace(t," ")}},toggleClass:function(e,p){(this.hasClass(e,p)?this.removeClass(e,p):this.addClass(e,p))
},addEventHandler:function(e,p,t){var a=t;(e.attachEvent?e.attachEvent("on"+p,a):(e.addEventListener?e.addEventListener(p,a,!1):e["on"+p]=a))},polyfillPlaceholder:function(){if((/MSIE 9|MSIE 8|MSIE 7|MSIE 6/g).test(navigator.userAgent)){var e=document.getElementById("popfloating_phone_num"),p=document.getElementById("authCodeImgInput");
e.value=a.validMsg.phoneNumberText,this.addClass(e,"app_wrap_pop_placehoder"),p.value=a.validMsg.authcodeText,this.addClass(p,"app_wrap_pop_placehoder"),this.addEventHandler(e,"focus",function(){e.value==a.validMsg.phoneNumberText&&(e.value="")}),this.addEventHandler(e,"blur",function(){e.value.length<=0&&(e.value=a.validMsg.phoneNumberText)
}),this.addEventHandler(p,"focus",function(){p.value==a.validMsg.authcodeText&&(p.value="")}),this.addEventHandler(p,"blur",function(){p.value.length<=0&&(p.value=a.validMsg.authcodeText)})}},isMobile:function(e){var p=new RegExp(a.reg.phoneFormat);return p.test(e)},ltrim:function(e){return e.replace((/^\s+/),"")
},rtrim:function(e){return e.replace((/\s+$/),"")},trim:function(e){return e.replace((/^\s+|\s+$/gi),"")},getHtmlByButype:function(e,p){var t;(p.indexOf("hotel")>-1?(t='<p class="appd_wrap_pop_t2">手机查询订单更方便</p><p class="appd_wrap_pop_c2">查询修改 返现申请</p><p class="appd_wrap_pop_c2">行程提醒尽在<span>携程客户端</span></p>',e.className="appd_wrap_pop_text2"):(p.indexOf("car")>-1?(t='<p class="word_1">手机预订</p><p class="word_2"><span>更便宜 更方便</span></p>',e.className="appd_wrap_pop_text style_for_car"):(p.indexOf("flight")>-1?(t='<p class="word_1">手机预订</p><p class="word_2"><span>最高省2000元</span></p>',e.className="appd_wrap_pop_text style_for_flights"):(p.indexOf("bus")>-1?(t='<p class="word_1"><span>1元汽车票</span></p><p class="word_2">手机专享</p>',e.className="appd_wrap_pop_text style_for_bus"):(p.indexOf("train")>-1?(t='<p class="word_1">手机端订火车票</p><p class="word_2"><span>超方便！</span></p>',e.className="appd_wrap_pop_text style_for_trains"):(p.indexOf("vacation_deals")>-1?(t='<p class="word_1">下载App</p><p class="word_2"><span>限时抢购不错过</span></p><p class="word_3"><span>超值优惠天天低价</span></p>',e.className="appd_wrap_pop_text style_for_deals"):(p.indexOf("vacation_free")>-1?(t='<p class="word_1">手机预订</p><p class="word_2"><span>超值特卖2折起</span></p>',e.className="appd_wrap_pop_text style_for_taocan"):(p.indexOf("vacation_visa")>-1?(t='<p class="word_1">下载App</p><p class="word_2"><span>随时随地上传签证资料</span></p>',e.className="appd_wrap_pop_text style_for_visa"):(t='<p class="appd_wrap_pop_t">手机预订<strong>更便宜</strong></p><p class="appd_wrap_pop_c">专享价<span>最高立减<strong><dfn class="appd_wrap_pop_emphasis">50</dfn>%</strong></span></p>',e.className="appd_wrap_pop_text"))))))))),e.innerHTML="",e.innerHTML=t
},getNewData:function(e){t=[];var p=function(){var p=document.getElementById("popfloating_phone_num").value;if(p=o.trim(p),document.getElementById("popfloating_show_msg").style.display="none",!p||"请输入11位手机号"===p)return document.getElementById("popfloating_show_msg").innerHTML="<span class='appd_wrap_pop_ico_alert'></span>请输入手机号码",void(document.getElementById("popfloating_show_msg").style.display="block");
if(!o.isMobile(p))return document.getElementById("popfloating_show_msg").innerHTML="<span class='appd_wrap_pop_ico_alert'></span>请输入正确的手机号码",void(document.getElementById("popfloating_show_msg").style.display="block");var t=document.getElementById("authCodeImgInput").value;if(t=o.trim(t),!t||""===t)return void(document.getElementById("popfloating_show_msg_codetip").style.display="block");
Floating.DisableBtn();var a=o.getCookie2("Union","AllianceID"),n=o.getCookie2("Union","SID");(""==a||null==a||void 0==a)&&(a=o.getQueryString("AllianceID"),a=0),(""==n||null==n||void 0==n)&&(n=o.getQueryString("SID"),n=0);var i=document.getElementById("authCodeImgInput").value,r="http://m.ctrip.com/restapi/soa2/10811/json/SendSMS?IsVerifyCaptchaID=true&CaptchaID="+e.AuthCodeInfo[0].CaptchaID+"&AuthCode="+i+"&allianceid="+a+"&sid="+n+"&Mobile="+p+"&callback=Floating.MsgRp&ClientIP=&rd="+Math.random();
o.createScript(r,!0)};t.push(p)}},n={ready:function(){function e(){if(!p){for(var e in t)t[e].call(document);p=!0,t=null}}var p=!1,t=[];return (document.addEventListener?document.addEventListener("DOMContentLoaded",e,!1):window.attachEvent("onload",e)),function(e){(p?e.call(document):t.push(e))}},find:function(e,p){var t=this;
if(0==e.indexOf("#"))return e=e.substr(1),document.getElementById(e);if(0==e.indexOf(".")){e=e.substr(1);var a=document;if("undefined"!=typeof p&&(a=document.getElementById(p.substr(1))),t.hasByClassName){eleArr=[];for(var o=a.getElementsByClassName(e),n=0;n<o.length;n++)eleArr.push(o[n]);return eleArr
}return t.getElementsByClassName(e,a)}return[]},each:function(e,p){for(var t in e)p.call(e[t])},css:function(e,p){var t=this;if(e.constructor!=Array)for(var a in p)e.style[a]=p[a];else t.each(e,function(){t.css(this,p)})},show:function(e){this.css(e,{display:"block"})},hide:function(e){this.css(e,{display:"none"})
},attr:function(e,p,t){var a=this;if(e.constructor!=Array){if("undefined"==typeof t)return("value"==p?e.value:e.getAttribute(p));("value"==p?e.value=t:e.setAttribute(p,t))}else a.each(e,function(){a.attr(this,p,t)})},on:function(e,p,t){var a=this;if(e.constructor!=Array){eventArr=p.split((/\s+/));for(var o in eventArr)a.addHandler(e,eventArr[o],t)
}else a.each(e,function(){a.on(this,p,t)})},off:function(e,p,t){var a=this;if(e.constructor!=Array){eventArr=p.split((/\s+/));for(var o in eventArr)a.removeHandler(e,eventArr[o],t)}else a.each(e,function(){a.off(this,p,t)})},animate:function(e,p,t,a){var o=this;if(e.constructor!=Array){if(o.inArray(o.animateArr,e))return;
o.animateArr.push(e);var n,i=[],r=[],d=function(e,p,t,a){return-t*(e/=a)*(e-2)+p};for(var s in p){var _=0;""!=e.style[s]&&"undefined"!=typeof e.style[s]&&(_=parseFloat(e.style[s].match((/-?\d+/))[0]));var l=parseFloat(p[s].match((/-?\d+/))[0]),c=p[s].match((/[^0-9]+$/))[0];i.push([s,_,c]),r.push([s,l,c])}var a=a||function(){},f=(new Date).getTime(),u=function(p,t){for(var a in r){var o=d(p,i[a][1],r[a][1]-i[a][1],t),n=r[a][0],s=o+r[a][2];
e.style[n]=s}},g=function(){u(t,t),o.inArray(o.animateArr,e,!0),a.call(e)},m=function(){var e=(new Date).getTime()-f;(t>e?u(e,t):(window.clearInterval(n),g()))};n=window.setInterval(function(){m()},1)}else o.each(e,function(){o.animate(this,p,t,a)})},initialize:function(){var e=this;e.hasByClassName=!0,document.getElementsByClassName||(e.getElementsByClassName=function(e,p){p=p||document;
var t=new Array,a=p.getElementsByTagName("*"),o=a.length,n=new RegExp("(^|\\s)"+e+"(\\s|$)");for(i=0;o>i;i++)n.test(a[i].className)&&t.push(a[i]);return t},e.hasByClassName=!1),e.addHandler=(document.addEventListener?function(e,p,t){e.addEventListener(p,t,!1)}:function(e,p,t){e.attachEvent("on"+p,t)}),e.removeHandler=(document.removeEventListener?function(e,p,t){e.removeEventListener(p,t,!1)
}:function(e,p,t){e.detachEvent("on"+p,t)}),e.inArray=function(e,p,t){t=t||!1;for(var a in e)if(e[a]==p)return t&&e.splice(a,1),!0;return!1},e.animateArr=[]}};n.initialize();var r={running:0,expand:function(){var e=this;0==e.running&&(e.running=1,n.animate(n.find("#appd_wrap_open_cnt"),{left:"-100%"},200,function(){n.hide(this.parentNode),n.show(n.find("#appd_wrap_pop_cnt").parentNode),n.animate(n.find("#appd_wrap_pop_cnt"),{left:"0%"},800,function(){e.running=0
})}))},collapse:function(){var e=this;0==e.running&&(e.running=1,n.animate(n.find("#appd_wrap_pop_cnt"),{left:"-100%"},800,function(){n.hide(this.parentNode),n.show(n.find("#appd_wrap_open_cnt").parentNode),n.animate(n.find("#appd_wrap_open_cnt"),{left:"0%"},200,function(){e.running=0})}))},open:function(){var e=this;
0==e.running&&(e.running=1,n.css(n.find("#appd_wrap_open_cnt"),{left:"-100%"}),n.hide(n.find("#appd_wrap_open_cnt").parentNode),n.show(n.find("#appd_wrap_pop_cnt").parentNode),n.css(n.find("#appd_wrap_pop_cnt"),{left:"0"}),e.running=0)},close:function(){var e=this;0==e.running&&(e.running=1,n.css(n.find("#appd_wrap_pop_cnt"),{left:"-100%"}),n.hide(n.find("#appd_wrap_pop_cnt").parentNode),n.show(n.find("#appd_wrap_open_cnt").parentNode),n.css(n.find("#appd_wrap_open_cnt"),{left:"0"}),e.running=0)
}};window.Floating={EnableBtn:function(){document.getElementById("popfloating_send_msg").disabled=!1,o.removeClass(document.getElementById("popfloating_send_msg"),"appd_wrap_pop_btn01_disabled")},DisableBtn:function(){document.getElementById("popfloating_send_msg").disabled=!0,o.addClass(document.getElementById("popfloating_send_msg"),"appd_wrap_pop_btn01_disabled")
},BuildHTML:function(p){function a(){n.on(n.find("#appd_wrap_open_cnt"),"click mouseover",function(){r.expand(),window.__bfi.push(["_tracklog","pcfloatOpen",location.href+"&urlPageId="+e])}),n.on(n.find("#appd_wrap_close"),"click",function(){o.setCookie({manualclose:"1"},"",1),r.collapse()});"placeholder"in document.createElement("input")
}if(p.PCFloatShow){var i=o.getCookie("appFloatCnt"),d=o.getCookie("manualclose");(""==i||null==i||isNaN(i)||void 0==i)&&(i="0");{var s=Number(i);document.getElementById("appd_wrap_pop_text")}if(p.PCFloatMaterial.length>0&&""==d){var _=document.getElementById("appd_wrap_pop").style;_.display="block",document.getElementById("popfloating_float_img").src=p.PCFloatMaterial[0].QRCodeLink,document.getElementById("authCodeImg").src=p.AuthCodeInfo[0].AuthCode,r.open(),a(),s+=1,o.setCookie({appFloatCnt:""+s},"",30),window.__bfi.push(["_tracklog","pcfloatOpen",location.href+"&urlPageId="+e])
}else r.close(),document.getElementById("authCodeImg").src=p.AuthCodeInfo[0].AuthCode,a();var l=document.getElementById("popfloating_send_msg");if(o.addEventHandler(l,"click",function(){for(var e=0,p=t.length;p>e;e++)t[e]&&t[e].call()}),p.PCFloatShow)var c=setTimeout(function(){r.collapse()},3e4);o.polyfillPlaceholder();
var f=document.getElementById("appd_wrap_pop");o.addEventHandler(f,"mouseover",function(e){(o.checkHover(e,this)||navigator.userAgent.indexOf("MSIE")>0)&&clearTimeout(c)}),o.addEventHandler(f,"mouseout",function(e){(o.checkHover(e,this)||navigator.userAgent.indexOf("MSIE")>0)&&(c=setTimeout(function(){r.collapse()
},6e4))}),o.getNewData(p)}},MsgRp:function(p){function t(){var e,t;switch(t=(p.ResponseStatus.Errors[0].ErrorCode?p.ResponseStatus.Errors[0].ErrorCode:"")){case"104":e="验证码输入超时";break;case"105":e="验证码输入错误";break;case"106":e="手机号码不正确";break;case"107":e="客户端IP不能为空";break;case"108":e="短信内容不能为空";break;case"109":e="同一号码，两分钟内最多发一次";
break;case"110":e="一天内同一手机最多发两次";break;case"111":e="一天内同一IP最多发五次";break;default:e="验证失败，请重新发送"}return e}var n=document.getElementById("popfloating_phone_num");if(p.IsSucceed)document.getElementsByClassName("appd_wrap_pop_s_item2")[0].style.display="none",document.getElementById("popfloating_show_msg").style.display="block",document.getElementById("popfloating_show_msg").innerHTML="<span class='appd_wrap_pop_ico_success'></span>"+a.validMsg.success,window.__bfi.push(["_tracklog","msgfloatSend",location.href+"$PhoneNum="+n]);
else{document.getElementById("popfloating_show_msg").style.display="block",document.getElementById("popfloating_show_msg").innerHTML="<span class='appd_wrap_pop_ico_alert'></span>"+t();var i=(document.getElementById("authCodeImg"),o.getCookie2("Union","AllianceID")),r=o.getCookie2("Union","SID");(""==i||null==i||void 0==i)&&(i=o.getQueryString("AllianceID"),i=0),(""==r||null==r||void 0==r)&&(r=o.getQueryString("SID"),r=0);
var d="http://m.ctrip.com/restapi/soa2/10811/json/GetPCFloatInfo?callback=Floating.imgReday&pageId="+e+"&allianceid="+i+"&sid="+r+"&AuthCodeInfo="+encodeURIComponent('{IsGetAuthCode:true,AppID:"",SessionID:"1",Length:4}');o.createScript(d,!0),document.getElementById("authCodeImgInput").value="",window.__bfi.push(["_tracklog","msgfloatSend",location.href+"$PhoneNum="+n])
}this.EnableBtn()},imgReday:function(e){var p=document.getElementById("authCodeImg");(e.AuthCodeInfo[0].AuthCode?p.setAttribute("src",e.AuthCodeInfo[0].AuthCode):p.setAttribute("src","http://pic.c-ctrip.com/index/zzz_code_image.png")),o.getNewData(e)},getPopHTML:function(p,t){function n(){var p=o.getCookie2("Union","AllianceID"),t=o.getCookie2("Union","SID");
(""==p||null==p||void 0==p)&&(p=o.getQueryString("AllianceID"),p=0),(""==t||null==t||void 0==t)&&(t=o.getQueryString("SID"),t=0);var a="http://m.ctrip.com/restapi/soa2/10811/json/GetPCFloatInfo?callback=setAuthCodeImg&pageId="+e+"&allianceid="+p+"&sid="+t+"&AuthCodeInfo="+encodeURIComponent('{IsGetAuthCode:true,AppID:"",SessionID:"1",Length:4}')+"&rd="+Math.random();
o.createScript(a,!0)}Floating.buildStyleTag();var i=o.getDomain()+a.api.getAuthCode,r=a.htmlcss.html.replace((/{authCodeImgDomain}/),i),d=document.getElementsByTagName("body")[0];d.insertBefore(o.html2dom(r),null);var s=o.getCookie2("Union","AllianceID"),_=o.getCookie2("Union","SID");if((""==s||null==s||void 0==s)&&(s=o.getQueryString("AllianceID"),s=0),(""==_||null==_||void 0==_)&&(_=o.getQueryString("SID"),_=0),"4905"!=s&&("10028"!=s||"257806"!=_)&&"wait"!=p){var l="http://m.ctrip.com/restapi/soa2/10811/json/GetPCFloatInfo?callback=Floating.BuildHTML&pageId="+p+"&allianceid="+s+"&sid="+_+"&AuthCodeInfo="+encodeURIComponent('{IsGetAuthCode:true,AppID:"",SessionID:"1",Length:4}')+"&referer="+t;
o.createScript(l,!0);var c=document.getElementById("authCodeImg"),f=function(e){e&&e.AuthCodeInfo.length&&c.setAttribute("src",e.AuthCodeInfo[0].AuthCode),o.getNewData(e)};window.setAuthCodeImg=f,o.addEventHandler(c,"click",function(){n()});var u=document.getElementById("authCodeImgInput");o.addEventHandler(u,"focus",function(){document.getElementById("popfloating_show_msg_codetip").style.display="none"
})}},buildStyleTag:function(){var e=a.htmlcss.css;o.createStyleTag(e)}}}();