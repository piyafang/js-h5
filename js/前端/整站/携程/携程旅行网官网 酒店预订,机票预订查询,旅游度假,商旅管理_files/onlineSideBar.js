/*
 RequireJS 2.1.15 Copyright (c) 2010-2014, The Dojo Foundation All Rights Reserved.
 Available via the MIT or new BSD license.
 see: http://github.com/jrburke/requirejs for details
 */

/* Copyright (c) 2010-2013 Marcus Westin */

var requirejs,require,define;!function(ba){function G(o){return"[object Function]"===K.call(o)}function H(o){return"[object Array]"===K.call(o)}function v(o,t){if(o){var e;for(e=0;e<o.length&&(!o[e]||!t(o[e],e,o));e+=1);}}function T(o,t){if(o){var e;for(e=o.length-1;e>-1&&(!o[e]||!t(o[e],e,o));e-=1);}}function t(o,t){return fa.call(o,t)}function m(o,e){return t(o,e)&&o[e]}function B(o,e){for(var n in o)if(t(o,n)&&e(o[n],n))break}function U(o,e,n,i){return e&&B(e,function(e,r){(n||!t(o,r))&&(!i||"object"!=typeof e||!e||H(e)||G(e)||e instanceof RegExp?o[r]=e:(o[r]||(o[r]={}),U(o[r],e,n,i)))}),o}function u(o,t){return function(){return t.apply(o,arguments)}}function ca(o){throw o}function da(o){if(!o)return o;var t=ba;return v(o.split("."),function(o){t=t[o]}),t}function C(o,t,e,n){return t=Error(t+"\nhttp://requirejs.org/docs/errors.html#"+o),t.requireType=o,t.requireModules=n,e&&(t.originalError=e),t}function ga(o){function e(o,t,e){var n,i,r,l,a,s,c,d,t=t&&t.split("/"),u=O.map,p=u&&u["*"];if(o){for(o=o.split("/"),i=o.length-1,O.nodeIdCompat&&Q.test(o[i])&&(o[i]=o[i].replace(Q,"")),"."===o[0].charAt(0)&&t&&(i=t.slice(0,t.length-1),o=i.concat(o)),i=o,r=0;r<i.length;r++)l=i[r],"."===l?(i.splice(r,1),r-=1):".."===l&&0!==r&&(1!=r||".."!==i[2])&&".."!==i[r-1]&&r>0&&(i.splice(r-1,2),r-=2);o=o.join("/")}if(e&&u&&(t||p)){i=o.split("/"),r=i.length;o:for(;r>0;r-=1){if(a=i.slice(0,r).join("/"),t)for(l=t.length;l>0;l-=1)if((e=m(u,t.slice(0,l).join("/")))&&(e=m(e,a))){n=e,s=r;break o}!c&&p&&m(p,a)&&(c=m(p,a),d=r)}!n&&c&&(n=c,s=d),n&&(i.splice(0,s,n),o=i.join("/"))}return(n=m(O.pkgs,o))?n:o}function n(o){z&&v(document.getElementsByTagName("script"),function(t){return t.getAttribute("data-requiremodule")===o&&t.getAttribute("data-requirecontext")===k.contextName?(t.parentNode.removeChild(t),!0):void 0})}function i(o){var t=m(O.paths,o);return t&&H(t)&&1<t.length?(t.shift(),k.require.undef(o),k.makeRequire(null,{skipMap:!0})([o]),!0):void 0}function r(o){var t,e=o?o.indexOf("!"):-1;return e>-1&&(t=o.substring(0,e),o=o.substring(e+1,o.length)),[t,o]}function l(o,t,n,i){var l,a,s=null,c=t?t.name:null,d=o,u=!0,p="";return o||(u=!1,o="_@r"+(D+=1)),o=r(o),s=o[0],o=o[1],s&&(s=e(s,c,i),a=m(L,s)),o&&(s?p=a&&a.normalize?a.normalize(o,function(o){return e(o,c,i)}):-1===o.indexOf("!")?e(o,c,i):o:(p=e(o,c,i),o=r(p),s=o[0],p=o[1],n=!0,l=k.nameToUrl(p))),n=!s||a||n?"":"_unnormalized"+(J+=1),{prefix:s,name:p,parentMap:t,unnormalized:!!n,url:l,originalName:d,isDefine:u,id:(s?s+"!"+p:p)+n}}function a(o){var t=o.id,e=m(j,t);return e||(e=j[t]=new k.Module(o)),e}function s(o,e,n){var i=o.id,r=m(j,i);!t(L,i)||r&&!r.defineEmitComplete?(r=a(o),r.error&&"error"===e?n(r.error):r.on(e,n)):"defined"===e&&n(L[i])}function c(o,t){var e=o.requireModules,n=!1;t?t(o):(v(e,function(t){(t=m(j,t))&&(t.error=o,t.events.error&&(n=!0,t.emit("error",o)))}),n||g.onError(o))}function d(){R.length&&(ha.apply(E,[E.length,0].concat(R)),R=[])}function p(o){delete j[o],delete F[o]}function f(o,t,e){var n=o.map.id;o.error?o.emit("error",o.error):(t[n]=!0,v(o.depMaps,function(n,i){var r=n.id,l=m(j,r);l&&!o.depMatched[i]&&!e[r]&&(m(t,r)?(o.defineDep(i,L[r]),o.check()):f(l,t,e))}),e[n]=!0)}function _(){var o,t,e=(o=1e3*O.waitSeconds)&&k.startTime+o<(new Date).getTime(),r=[],l=[],a=!1,s=!0;if(!w){if(w=!0,B(F,function(o){var c=o.map,d=c.id;if(o.enabled&&(c.isDefine||l.push(o),!o.error))if(!o.inited&&e)i(d)?a=t=!0:(r.push(d),n(d));else if(!o.inited&&o.fetched&&c.isDefine&&(a=!0,!c.prefix))return s=!1}),e&&r.length)return o=C("timeout","Load timeout for modules: "+r,null,r),o.contextName=k.contextName,c(o);s&&v(l,function(o){f(o,{},{})}),e&&!t||!a||!z&&!ea||S||(S=setTimeout(function(){S=0,_()},50)),w=!1}}function h(o){t(L,o[0])||a(l(o[0],null,!0)).init(o[1],o[2])}function y(o){var o=o.currentTarget||o.srcElement,t=k.onScriptLoad;return o.detachEvent&&!Y?o.detachEvent("onreadystatechange",t):o.removeEventListener("load",t,!1),t=k.onScriptError,(!o.detachEvent||Y)&&o.removeEventListener("error",t,!1),{node:o,id:o&&o.getAttribute("data-requiremodule")}}function b(){var o;for(d();E.length;){if(o=E.shift(),null===o[0])return c(C("mismatch","Mismatched anonymous define() module: "+o[o.length-1]));h(o)}}var w,I,k,x,S,O={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},j={},F={},P={},E=[],L={},q={},A={},D=1,J=1;return x={require:function(o){return o.require?o.require:o.require=k.makeRequire(o.map)},exports:function(o){return o.usingExports=!0,o.map.isDefine?o.exports?L[o.map.id]=o.exports:o.exports=L[o.map.id]={}:void 0},module:function(o){return o.module?o.module:o.module={id:o.map.id,uri:o.map.url,config:function(){return m(O.config,o.map.id)||{}},exports:o.exports||(o.exports={})}}},I=function(o){this.events=m(P,o.id)||{},this.map=o,this.shim=m(O.shim,o.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},I.prototype={init:function(o,t,e,n){n=n||{},this.inited||(this.factory=t,e?this.on("error",e):this.events.error&&(e=u(this,function(o){this.emit("error",o)})),this.depMaps=o&&o.slice(0),this.errback=e,this.inited=!0,this.ignore=n.ignore,n.enabled||this.enabled?this.enable():this.check())},defineDep:function(o,t){this.depMatched[o]||(this.depMatched[o]=!0,this.depCount-=1,this.depExports[o]=t)},fetch:function(){if(!this.fetched){this.fetched=!0,k.startTime=(new Date).getTime();var o=this.map;if(!this.shim)return o.prefix?this.callPlugin():this.load();k.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],u(this,function(){return o.prefix?this.callPlugin():this.load()}))}},load:function(){var o=this.map.url;q[o]||(q[o]=!0,k.load(this.map.id,o))},check:function(){if(this.enabled&&!this.enabling){var o,t,e=this.map.id;t=this.depExports;var n=this.exports,i=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,1>this.depCount&&!this.defined){if(G(i)){if(this.events.error&&this.map.isDefine||g.onError!==ca)try{n=k.execCb(e,i,t,n)}catch(r){o=r}else n=k.execCb(e,i,t,n);if(this.map.isDefine&&void 0===n&&((t=this.module)?n=t.exports:this.usingExports&&(n=this.exports)),o)return o.requireMap=this.map,o.requireModules=this.map.isDefine?[this.map.id]:null,o.requireType=this.map.isDefine?"define":"require",c(this.error=o)}else n=i;this.exports=n,this.map.isDefine&&!this.ignore&&(L[e]=n,g.onResourceLoad)&&g.onResourceLoad(k,this.map,this.depMaps),p(e),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else this.fetch()}},callPlugin:function(){var o=this.map,n=o.id,i=l(o.prefix);this.depMaps.push(i),s(i,"defined",u(this,function(i){var r,d;d=m(A,this.map.id);var f=this.map.name,_=this.map.parentMap?this.map.parentMap.name:null,h=k.makeRequire(o.parentMap,{enableBuildCallback:!0});this.map.unnormalized?(i.normalize&&(f=i.normalize(f,function(o){return e(o,_,!0)})||""),i=l(o.prefix+"!"+f,this.map.parentMap),s(i,"defined",u(this,function(o){this.init([],function(){return o},null,{enabled:!0,ignore:!0})})),(d=m(j,i.id))&&(this.depMaps.push(i),this.events.error&&d.on("error",u(this,function(o){this.emit("error",o)})),d.enable())):d?(this.map.url=k.nameToUrl(d),this.load()):(r=u(this,function(o){this.init([],function(){return o},null,{enabled:!0})}),r.error=u(this,function(o){this.inited=!0,this.error=o,o.requireModules=[n],B(j,function(o){0===o.map.id.indexOf(n+"_unnormalized")&&p(o.map.id)}),c(o)}),r.fromText=u(this,function(e,i){var s=o.name,d=l(s),u=M;i&&(e=i),u&&(M=!1),a(d),t(O.config,n)&&(O.config[s]=O.config[n]);try{g.exec(e)}catch(p){return c(C("fromtexteval","fromText eval for "+n+" failed: "+p,p,[n]))}u&&(M=!0),this.depMaps.push(d),k.completeLoad(s),h([s],r)}),i.load(o.name,h,r,O))})),k.enable(i,this),this.pluginMaps[i.id]=i},enable:function(){F[this.map.id]=this,this.enabling=this.enabled=!0,v(this.depMaps,u(this,function(o,e){var n,i;if("string"==typeof o){if(o=l(o,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[e]=o,n=m(x,o.id))return void(this.depExports[e]=n(this));this.depCount+=1,s(o,"defined",u(this,function(o){this.defineDep(e,o),this.check()})),this.errback&&s(o,"error",u(this,this.errback))}n=o.id,i=j[n],!t(x,n)&&i&&!i.enabled&&k.enable(o,this)})),B(this.pluginMaps,u(this,function(o){var t=m(j,o.id);t&&!t.enabled&&k.enable(o,this)})),this.enabling=!1,this.check()},on:function(o,t){var e=this.events[o];e||(e=this.events[o]=[]),e.push(t)},emit:function(o,t){v(this.events[o],function(o){o(t)}),"error"===o&&delete this.events[o]}},k={config:O,contextName:o,registry:j,defined:L,urlFetched:q,defQueue:E,Module:I,makeModuleMap:l,nextTick:g.nextTick,onError:c,configure:function(o){o.baseUrl&&"/"!==o.baseUrl.charAt(o.baseUrl.length-1)&&(o.baseUrl+="/");var t=O.shim,e={paths:!0,bundles:!0,config:!0,map:!0};B(o,function(o,t){e[t]?(O[t]||(O[t]={}),U(O[t],o,!0,!0)):O[t]=o}),o.bundles&&B(o.bundles,function(o,t){v(o,function(o){o!==t&&(A[o]=t)})}),o.shim&&(B(o.shim,function(o,e){H(o)&&(o={deps:o}),!o.exports&&!o.init||o.exportsFn||(o.exportsFn=k.makeShimExports(o)),t[e]=o}),O.shim=t),o.packages&&v(o.packages,function(o){var t,o="string"==typeof o?{name:o}:o;t=o.name,o.location&&(O.paths[t]=o.location),O.pkgs[t]=o.name+"/"+(o.main||"main").replace(ia,"").replace(Q,"")}),B(j,function(o,t){!o.inited&&!o.map.unnormalized&&(o.map=l(t))}),(o.deps||o.callback)&&k.require(o.deps||[],o.callback)},makeShimExports:function(o){return function(){var t;return o.init&&(t=o.init.apply(ba,arguments)),t||o.exports&&da(o.exports)}},makeRequire:function(i,r){function s(e,n,d){var u,p;return r.enableBuildCallback&&n&&G(n)&&(n.__requireJsBuild=!0),"string"==typeof e?G(n)?c(C("requireargs","Invalid require call"),d):i&&t(x,e)?x[e](j[i.id]):g.get?g.get(k,e,i,s):(u=l(e,i,!1,!0),u=u.id,t(L,u)?L[u]:c(C("notloaded",'Module name "'+u+'" has not been loaded yet for context: '+o+(i?"":". Use require([])")))):(b(),k.nextTick(function(){b(),p=a(l(null,i)),p.skipMap=r.skipMap,p.init(e,n,d,{enabled:!0}),_()}),s)}return r=r||{},U(s,{isBrowser:z,toUrl:function(o){var t,n=o.lastIndexOf("."),r=o.split("/")[0];return-1!==n&&("."!==r&&".."!==r||n>1)&&(t=o.substring(n,o.length),o=o.substring(0,n)),k.nameToUrl(e(o,i&&i.id,!0),t,!0)},defined:function(o){return t(L,l(o,i,!1,!0).id)},specified:function(o){return o=l(o,i,!1,!0).id,t(L,o)||t(j,o)}}),i||(s.undef=function(o){d();var t=l(o,i,!0),e=m(j,o);n(o),delete L[o],delete q[t.url],delete P[o],T(E,function(t,e){t[0]===o&&E.splice(e,1)}),e&&(e.events.defined&&(P[o]=e.events),p(o))}),s},enable:function(o){m(j,o.id)&&a(o).enable()},completeLoad:function(o){var e,n,r=m(O.shim,o)||{},l=r.exports;for(d();E.length;){if(n=E.shift(),null===n[0]){if(n[0]=o,e)break;e=!0}else n[0]===o&&(e=!0);h(n)}if(n=m(j,o),!e&&!t(L,o)&&n&&!n.inited){if(O.enforceDefine&&(!l||!da(l)))return i(o)?void 0:c(C("nodefine","No define call for "+o,null,[o]));h([o,r.deps||[],r.exportsFn])}_()},nameToUrl:function(o,t,e){var n,i,r;if((n=m(O.pkgs,o))&&(o=n),n=m(A,o))return k.nameToUrl(n,t,e);if(g.jsExtRegExp.test(o))n=o+(t||"");else{for(n=O.paths,o=o.split("/"),i=o.length;i>0;i-=1)if(r=o.slice(0,i).join("/"),r=m(n,r)){H(r)&&(r=r[0]),o.splice(0,i,r);break}n=o.join("/"),n+=t||(/^data\:|\?/.test(n)||e?"":".js"),n=("/"===n.charAt(0)||n.match(/^[\w\+\.\-]+:/)?"":O.baseUrl)+n}return O.urlArgs?n+((-1===n.indexOf("?")?"?":"&")+O.urlArgs):n},load:function(o,t){g.load(k,o,t)},execCb:function(o,t,e,n){return t.apply(n,e)},onScriptLoad:function(o){("load"===o.type||ja.test((o.currentTarget||o.srcElement).readyState))&&(N=null,o=y(o),k.completeLoad(o.id))},onScriptError:function(o){var t=y(o);return i(t.id)?void 0:c(C("scripterror","Script error for: "+t.id,o,[t.id]))}},k.require=k.makeRequire(),k}var g,x,y,D,I,E,N,J,s,O,ka=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,la=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,Q=/\.js$/,ia=/^\.\//;x=Object.prototype;var K=x.toString,fa=x.hasOwnProperty,ha=Array.prototype.splice,z=!("undefined"==typeof window||"undefined"==typeof navigator||!window.document),ea=!z&&"undefined"!=typeof importScripts,ja=z&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,Y="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),F={},q={},R=[],M=!1;if("undefined"==typeof define){if("undefined"!=typeof requirejs){if(G(requirejs))return;q=requirejs,requirejs=void 0}"undefined"!=typeof require&&!G(require)&&(q=require,require=void 0),g=requirejs=function(o,t,e,n){var i,r="_";return!H(o)&&"string"!=typeof o&&(i=o,H(t)?(o=t,t=e,e=n):o=[]),i&&i.context&&(r=i.context),(n=m(F,r))||(n=F[r]=g.s.newContext(r)),i&&n.configure(i),n.require(o,t,e)},g.config=function(o){return g(o)},g.nextTick="undefined"!=typeof setTimeout?function(o){setTimeout(o,4)}:function(o){o()},require||(require=g),g.version="2.1.15",g.jsExtRegExp=/^\/|:|\?|\.js$/,g.isBrowser=z,x=g.s={contexts:F,newContext:ga},g({}),v(["toUrl","undef","defined","specified"],function(o){g[o]=function(){var t=F._;return t.require[o].apply(t,arguments)}}),z&&(y=x.head=document.getElementsByTagName("head")[0],D=document.getElementsByTagName("base")[0])&&(y=x.head=D.parentNode),g.onError=ca,g.createNode=function(o){var t=o.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return t.type=o.scriptType||"text/javascript",t.charset="utf-8",t.async=!0,t},g.load=function(o,t,e){var n=o&&o.config||{};if(z)return n=g.createNode(n,t,e),n.setAttribute("data-requirecontext",o.contextName),n.setAttribute("data-requiremodule",t),!n.attachEvent||n.attachEvent.toString&&0>n.attachEvent.toString().indexOf("[native code")||Y?(n.addEventListener("load",o.onScriptLoad,!1),n.addEventListener("error",o.onScriptError,!1)):(M=!0,n.attachEvent("onreadystatechange",o.onScriptLoad)),n.src=e,J=n,D?y.insertBefore(n,D):y.appendChild(n),J=null,n;if(ea)try{importScripts(e),o.completeLoad(t)}catch(i){o.onError(C("importscripts","importScripts failed for "+t+" at "+e,i,[t]))}},z&&!q.skipDataMain&&T(document.getElementsByTagName("script"),function(o){return y||(y=o.parentNode),(I=o.getAttribute("data-main"))?(s=I,q.baseUrl||(E=s.split("/"),s=E.pop(),O=E.length?E.join("/")+"/":"./",q.baseUrl=O),s=s.replace(Q,""),g.jsExtRegExp.test(s)&&(s=I),q.deps=q.deps?q.deps.concat(s):[s],!0):void 0}),define=function(o,t,e){var n,i;"string"!=typeof o&&(e=t,t=o,o=null),H(t)||(e=t,t=null),!t&&G(e)&&(t=[],e.length&&(e.toString().replace(ka,"").replace(la,function(o,e){t.push(e)}),t=(1===e.length?["require"]:["require","exports","module"]).concat(t))),M&&((n=J)||(N&&"interactive"===N.readyState||T(document.getElementsByTagName("script"),function(o){return"interactive"===o.readyState?N=o:void 0}),n=N),n&&(o||(o=n.getAttribute("data-requiremodule")),i=F[n.getAttribute("data-requirecontext")])),(i?i.defQueue:R).push([o,t,e])},define.amd={jQuery:!0},g.exec=function(b){return eval(b)},g(q)}}(this),define("require2",function(){}),define("region",[],function(){return function(){window.COSB||(window.COSB={sideBar:void 0,jsonp:new Object,sideBarStatus:void 0,hostName:void 0,logged:void 0,type:"long",installedTools:[]}),window.g_adsconfig=""}()}),this.JSON||(this.JSON={}),function(){function f(o){return 10>o?"0"+o:o}function quote(o){return escapable.lastIndex=0,escapable.test(o)?'"'+o.replace(escapable,function(o){var t=meta[o];return"string"==typeof t?t:"\\u"+("0000"+o.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+o+'"'}function str(o,t){var e,n,i,r,l,a=gap,s=t[o];switch(s&&"object"==typeof s&&"function"==typeof s.toJSON&&(s=s.toJSON(o)),"function"==typeof rep&&(s=rep.call(t,o,s)),typeof s){case"string":return quote(s);case"number":return isFinite(s)?String(s):"null";case"boolean":case"null":return String(s);case"object":if(!s)return"null";if(gap+=indent,l=[],"[object Array]"===Object.prototype.toString.apply(s)){for(r=s.length,e=0;r>e;e+=1)l[e]=str(e,s)||"null";return i=0===l.length?"[]":gap?"[\n"+gap+l.join(",\n"+gap)+"\n"+a+"]":"["+l.join(",")+"]",gap=a,i}if(rep&&"object"==typeof rep)for(r=rep.length,e=0;r>e;e+=1)n=rep[e],"string"==typeof n&&(i=str(n,s),i&&l.push(quote(n)+(gap?": ":":")+i));else for(n in s)Object.hasOwnProperty.call(s,n)&&(i=str(n,s),i&&l.push(quote(n)+(gap?": ":":")+i));return i=0===l.length?"{}":gap?"{\n"+gap+l.join(",\n"+gap)+"\n"+a+"}":"{"+l.join(",")+"}",gap=a,i}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(o,t,e){var n;if(gap="",indent="","number"==typeof e)for(n=0;e>n;n+=1)indent+=" ";else"string"==typeof e&&(indent=e);if(rep=t,!t||"function"==typeof t||"object"==typeof t&&"number"==typeof t.length)return str("",{"":o});throw new Error("JSON.stringify")}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(o,t){var e,n,i=o[t];if(i&&"object"==typeof i)for(e in i)Object.hasOwnProperty.call(i,e)&&(n=walk(i,e),void 0!==n?i[e]=n:delete i[e]);return reviver.call(o,t,i)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(o){return"\\u"+("0000"+o.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),function(o){function t(){try{return a in o&&o[a]}catch(t){return!1}}function e(o){return function(){var t=Array.prototype.slice.call(arguments,0);t.unshift(i),c.appendChild(i),i.addBehavior("#default#userData"),i.load(a);var e=o.apply(r,t);return c.removeChild(i),e}}function n(o){return o.replace(/^d/,"___$&").replace(p,"___")}var i,r={},l=o.document,a="localStorage",s="script";if(r.disabled=!1,r.set=function(){},r.get=function(){},r.remove=function(){},r.clear=function(){},r.transact=function(o,t,e){var n=r.get(o);null==e&&(e=t,t=null),"undefined"==typeof n&&(n=t||{}),e(n),r.set(o,n)},r.getAll=function(){},r.forEach=function(){},r.serialize=function(o){return JSON.stringify(o)},r.deserialize=function(o){if("string"!=typeof o)return void 0;try{return JSON.parse(o)}catch(t){return o||void 0}},t())i=o[a],r.set=function(o,t){return void 0===t?r.remove(o):(i.setItem(o,r.serialize(t)),t)},r.get=function(o){return r.deserialize(i.getItem(o))},r.remove=function(o){i.removeItem(o)},r.clear=function(){i.clear()},r.getAll=function(){var o={};return r.forEach(function(t,e){o[t]=e}),o},r.forEach=function(o){for(var t=0;t<i.length;t++){var e=i.key(t);o(e,r.get(e))}};else if(l.documentElement.addBehavior){var c,d;try{d=new ActiveXObject("htmlfile"),d.open(),d.write("<"+s+">document.w=window</"+s+'><iframe src="/favicon.ico"></iframe>'),d.close(),c=d.w.frames[0].document,i=c.createElement("div")}catch(u){i=l.createElement("div"),c=l.body}var p=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g");r.set=e(function(o,t,e){return t=n(t),void 0===e?r.remove(t):(o.setAttribute(t,r.serialize(e)),o.save(a),e)}),r.get=e(function(o,t){return t=n(t),r.deserialize(o.getAttribute(t))}),r.remove=e(function(o,t){t=n(t),o.removeAttribute(t),o.save(a)}),r.clear=e(function(o){var t=o.XMLDocument.documentElement.attributes;o.load(a);for(var e,n=0;e=t[n];n++)o.removeAttribute(e.name);o.save(a)}),r.getAll=function(){var o={};return r.forEach(function(t,e){o[t]=e}),o},r.forEach=e(function(o,t){for(var e,n=o.XMLDocument.documentElement.attributes,i=0;e=n[i];++i)t(e.name,r.deserialize(o.getAttribute(e.name)))})}try{var f="__storejs__";r.set(f,f),r.get(f)!=f&&(r.disabled=!0),r.remove(f)}catch(u){r.disabled=!0}r.enabled=!r.disabled,"undefined"!=typeof module&&module.exports&&this.module!==module?module.exports=r:"function"==typeof define&&define.amd?define("store",r):o.store=r}(Function("return this")()),function(){var o=this.dom=this.dom||{mix:function(o,t,e){var n,i=void 0===e||e;for(n in t)!i&&n in o||(o[n]=t[n]);return o}},t=o.Deferred=function(o){return this instanceof t?this.init(o):new t(o)},e=Array.prototype.slice;o.mix(t,{get:function(o){return o instanceof t?o:new t},ok:function(o){return o},ng:function(o){throw o}}),t.prototype={init:function(o){return this._firing=[],this._fired=[],"function"==typeof o?this.then(o):this},_add:function(o,e){var n={ok:t.ok,ng:t.ng,arr:[]};return"function"==typeof e&&(n[o]=e),this._firing.push(n),this},then:function(o){return t.get(this)._add("ok",o)},once:function(o){return t.get(this)._add("ng",o)},wait:function(o){var e=t.get(this);return e._firing.push(~~o),e},_fire:function(o,e,n){var i="ok",r=this._firing.shift();if(r){this._fired.push(r);var l=this;if("number"==typeof r){var a=setTimeout(function(){l._fire(o,l.before(e,n))},r);this.onabort=function(){clearTimeout(a)}}else if(r.arr.length)for(var s,c=0;s=r.arr[c++];)s.fire(e);else{try{n=r[o].apply(this,e)}catch(d){i="ng",n=d}this._fire(i,this.before(e,n))}}else(this.after||t.ok)(n),this._firing=this._fired,this._fired=[];return this},fire:function(){return this._fire("ok",this.before(arguments))},error:function(){return this._fire("ng",this.before(arguments))},abort:function(){return(this.onabort||t.ok)(),this},before:function(o,t){return t?t instanceof Array?t:[t]:e.call(o)},paiallel:function(o){var n=t.get(this),i={ok:t.ok,ng:t.ng,arr:[]},r=0,l={};for(var a in o)o.hasOwnProperty(a)&&!function(a,s){"function"==typeof s&&(s=t(s)),s.then(function(t){l[a]=t,--r<=0&&(o instanceof Array&&(l.length=o.length,l=e.call(l)),n._fire("ok",[l]))}).once(function(o){n._fire("ng",[o])}),i.arr.push(s),r++}(a,o[a]);return n.onabort=function(){for(var o,t=0;o=i.arr[t++];)o.abort()},n._firing.push(i),n},loop:function(o,e,n){o={begin:o.begin||0,end:"number"==typeof o.end?o.end:o-1,step:o.step||1,last:!1,prev:null};var i=o.step,r=function(o,l){return o<=l.end?(o+i>l.end&&(l.last=!0,l.step=l.end-o+1),l.prev=n,n=e.call(l,o),t.get(n).then(r).fire(o+i,l),void 0):n};return o.begin<=o.end?t.get(this).then(r).fire(o.begin,o):null}},"loop wait then once paiallel".replace(/\w+/g,function(o){t[o]=t.prototype[o]})}(),define("mt",function(){}),define("expansion",[],function(){return function(){String.prototype.contains=function(o){return this.indexOf(o)>-1?!0:!1},String.prototype.isNull=function(){return null==this||0==this.trim().length},String.prototype.format=function(){var o=arguments;return this.replace(/\{(\d+)\}/g,function(t,e){return o[e]})},Number.prototype.isNull=function(){return null==this||isNaN(this)},Array.prototype.contains=function(o){return RegExp("\\b"+o+"\\b").test(this)},Array.prototype.sortBy=function(o){this.sort(function(t,e){return t[o]>e[o]?1:-1})},Array.prototype.remove=function(o){for(var t=0,e=0;t<this.length;t++)this[t].bizId!=o.bizId&&(this[e++]=this[t]);this.length-=1}}()}),function(o){function t(o,t){if(1>t)return"";for(var e=o,n=t;--n;)e+=o;return e}function e(o){var t=o.valueOf();switch(typeof t){case"object":return"";case"string":return'"'+t+'"';default:return String(t)}}"undefined"==typeof console&&(o.console={toString:function(){return"Console.js version 0.9"}}),console._output=console.log||o.opera&&opera.postError||function(o){return console.history=console.history||[],console.history.push(o)},console.dimensions_limit=3,console._indent="  ",console._source_of=function a(o,n,i){var r=typeof o;switch(r){case"string":return'"'+o+'"';case"function":break;case"object":if(null===o)return"null";break;default:return String(o)}var l,s=Object.prototype.toString.call(o).slice(8,-1);if("Object"==s)l="";else{l=s+" ";var c=e(o);c&&(l+=c+" ")}if(!n)return l+"{?}";for(var d=i.length,u=0;d>u;u++)if(i[u]===o)return"#";i[d++]=o;var p=t(console._indent,d);if(Object.getOwnPropertyNames)var f=Object.getOwnPropertyNames(o);else{f=[];for(var m in o)f.push(m)}var _=l+"{";if(!f.length)return _+"}";f=f.sort();for(var h=[],v=0,y=f.length;y>v;v++){m=f[v];try{var g=a(o[m],n-1,i);h.push("\n"+p+m+": "+g)}catch(b){}}return _+h.join(", ")+"\n"+t(console._indent,d-1)+"}"},(!console.dir||n)&&(console.dir=function(){for(var o=[],t=0;t<arguments.length;t++)o.push(void 0);return void 0}),console._inspect=function s(o,t){var e="";if(Object(o)!==o)return t&&"string"==typeof o?'"'+o+'"':o;if(o&&1==o.nodeType){e="<"+o.tagName;for(var n=0,i=o.attributes.length;i>n;n++)o.attributes[n].specified&&(e+=" "+o.attributes[n].name+'="'+o.attributes[n].value+'"');return o.childNodes&&0===o.childNodes.length&&(e+="/"),e+">"}var r=Object.prototype.toString.call(o).slice(8,-1);switch(r){case"String":return'String "'+o+'"';case"Number":case"Boolean":return r+" "+o;case"Array":case"HTMLCollection":case"NodeList":e="Array"==r?"[":r+" [";for(var l=[],a=0,c=o.length;c>a;a++)l[a]=s(o[a],!0);return e+l.join(", ")+"]";case"Function":case"Date":return o;case"RegExp":return"/"+o.source+"/";default:if("object"==typeof o){var d;if(d="Object"==r?"":r+" ",t)return d+"{?}";if(Object.getOwnPropertyNames)var u=Object.getOwnPropertyNames(o);else{u=[];for(var p in o)o.hasOwnProperty(p)&&u.push(p)}if(e=d+"{",!u.length)return e+"}";u=u.sort();for(var f=[],m=0,_=u.length;_>m;m++){p=u[m];try{var h=s(o[p],!0);f.push(p+": "+h)}catch(v){}}return e+f.join(", ")+"}"}return o}};var n=o.opera,i=["log","info","warn","error","debug","dirxml"];console._args_separator="\n",console._interpolate=/%[sdifo]/gi;for(var r=0;r<i.length;r++){var l=console[i[r]]||console._output;(n||!console[i[r]])&&(console[i[r]]=function(o){var t=[],e=Array.prototype.slice.call(arguments,0);"string"==typeof o&&console._interpolate.test(o)&&(e.shift(),t.push(o.replace(console._interpolate,function(){return void 0})));for(var n=0;n<e.length;n++)t.push(void 0);return Function.prototype.call.call(l,console,t.join(console._args_separator))})}console.trace=console.trace||function(){try{r.dont.exist++}catch(o){var t=o.stack||o.stacktrace;if(t)try{t=t.split("\n").slice(2).join("\n")}catch(e){}}},console.assert=console.assert||function(o,t){},console.group=console.group||function(o){},console.groupCollapsed=console.groupCollapsed||console.group,console.groupEnd=console.groupEnd||function(){},console.count=console.count||function c(o){o=o||"",c.counters=c.counters||{},c.counters[o]?c.counters[o]++:c.counters[o]=1},console.profile=console.profile||function(){return"Not implemented"},console.profileEnd=console.profileEnd||function(){return"Not implemented"},console._timers={},console.time=console.time||function(o){var t=(new Date).getTime();console._timers[o]={start:t}},console.timeEnd=console.timeEnd||function(o){var t=(new Date).getTime();console._timers[o].end=t},"function"==typeof require&&"undefined"!=typeof exports&&(exports.console=o.console,console._output=require("system").print)}(this),define("customConsole",function(){}),define("webConsole",["customConsole"],function(){var o=function(o,t,e){var n=function(t,e,n){var i={consoleType:"",consoleStr:"",consoleLocationStr:""};return i.consoleType="[webConsole--"+o+"]"||"[unKnown Type]",i.consoleStr=e||"",i.consoleLocationStr=n||"",i},i="";"string"!=typeof o&&"string"!=typeof t?(o="error",i=n(o,"consoleFn's params need correct defining!","consoleFn")):void 0==t||t.isNull()?(o="warn",i=n(o,"unKnown Error:{type:"+o+"}{consoleStr:"+t+"}{consoleLocationStr:"+e+"}","consoleFn")):i=n(o,t,e),"ctrip.com"==window.COSB.hostName},t=function(t,e){o&&"function"==typeof o&&o("error",t,e)},e=function(t,e){o&&"function"==typeof o&&o("warn",t,e)},n=function(t,e){o&&"function"==typeof o&&o("log",t,e)};return{error:t,warn:e,log:n}}),define("verification",[],function(){var o="openTheDoor",t=function(t){return t==o?!0:!1};return{verificateToken:t}}),define("definition",["verification"],function(o){var t={sideBar_WholeMatrixId:"WholeMatrix",sideBar_ToolBarMatrixId:"ToolBarMatrix",sideBar_MyCtripMatrixId:"MyCtripMatrix",sideBar_FuncGroupMatrixId:"FuncGroupMatrix",sideBar_OtherGroupMatrixId:"OtherGroupMatrix"},e={_displaySideBar:void 0,_switchTools:[],_loggedShowContent:[],_backUrl:void 0};Object.defineProperty(e,"ms_displaySideBar",{get:function(){return this._displaySideBar},set:function(t){"object"==typeof t&&o.verificateToken(t.token)&&"string"==typeof t.setVal&&(this._displaySideBar=t.setVal)}}),Object.defineProperty(e,"ms_switchTools",{get:function(){return this._switchTools},set:function(t){"object"==typeof t&&o.verificateToken(t.token)&&"object"==typeof t.setVal&&(this._switchTools=t.setVal)}}),Object.defineProperty(e,"ms_loggedShowContent",{get:function(){return this._loggedShowContent},set:function(t){"object"==typeof t&&o.verificateToken(t.token)&&"object"==typeof t.setVal&&(this._loggedShowContent=t.setVal)}}),Object.defineProperty(e,"ms_backUrl",{get:function(){return this._backUrl},set:function(t){"object"==typeof t&&o.verificateToken(t.token)&&"string"==typeof t.setVal&&(this._backUrl=t.setVal)}});var n={tool_id:"",tool_name:"",tool_display:"",tool_type:"",tool_iconWay:"local",tool_sequence:99,tool_contentType:"",tool_hoverTag:"",tool_hoverBody:"",tool_contentBody:""};return{basicMatrixDefinition:t,mainSwitchDefinition:e,toolDefinition:n}}),define("access",["webConsole","definition"],function(o,t){var e=void 0,n=function(){if(void 0==e||"object"!=typeof e)try{var n="WholeMatrix",i="ToolBarMatrix",r="MyCtripMatrix",l="FuncGroupMatrix",a="OtherGroupMatrix";void 0==t.basicMatrixDefinition||null==t.basicMatrixDefinition?o.warn("definition.basicMatrixDefinition is undefined and now using the preset","accessToolFn"):(n=t.basicMatrixDefinition.sideBar_WholeMatrixId,i=t.basicMatrixDefinition.sideBar_ToolBarMatrixId,r=t.basicMatrixDefinition.sideBar_MyCtripMatrixId,l=t.basicMatrixDefinition.sideBar_FuncGroupMatrixId,a=t.basicMatrixDefinition.sideBar_OtherGroupMatrixId),e={wholeId:n,toolId:i,myGroupId:r,funcGroupId:l,otherGroupId:a}}catch(s){o.error(s.message,"getMatrix")}},r=function(t,e){try{if(void 0==t||void 0==e||""==t||""==e)return;var n=document.createElement("div");n.innerHTML=e,document.getElementById(t).appendChild(n)}catch(i){o.error(i.message,"accessCommonFn")}},l=function(o){var t=document.createElement("div");t.innerHTML=o,document.getElementsByTagName("body")[0].appendChild(t.firstChild)},a=function(t,i){n();var l;try{switch(t){case"basic":l=e.myGroupId;break;case"func":l=e.funcGroupId;break;case"bu":break;case"other":l=e.otherGroupId;break;default:l=e.toolId}r(l,i)}catch(a){o.error(a.message,"accessToolFn")}},s=function(t){n();try{var i=document.createElement("div");i.innerHTML=t,document.getElementById(e.wholeId).appendChild(i.firstChild)}catch(r){o.error(r.message,"accessToolStaticContentFn")}},c=function(t,e){try{var n=document.getElementById(t),l=n.childNodes;for(i=0;i<l.length;i++)n.removeChild(l[i]);r(t,e)}catch(a){o.error(a.message,"accessToolContentPoolFn")}};return{accessTool:a,accessToolContent:s,accessBar:l,accessToolContentPool:c}}),define("animate",["webConsole"],function(o){function t(o,t){o=o||.1,t=t||16;var e=0,n=0,i=0,r=0,l=0,a=0;document.documentElement&&(e=document.documentElement.scrollLeft||0,n=document.documentElement.scrollTop||0),document.body&&(i=document.body.scrollLeft||0,r=document.body.scrollTop||0);var l=window.scrollX||0,a=window.scrollY||0,s=Math.max(e,Math.max(i,l)),c=Math.max(n,Math.max(r,a)),d=1+o;if(window.scrollTo(Math.floor(s/d),Math.floor(c/d)),s>0||c>0){var u=this.goTop(o,t);window.setTimeout(u,t)}}var e=function(t,e){try{if(void 0!=t&&"string"==typeof t&&t.isNull())return void o.error("targetId is undefined","elasticContent");if(void 0!=e&&"number"==typeof e&&e.isNull())return void o.error("targetWidth is undefined","elasticContent");
var n=document.getElementById("ToolBarMatrix");""==n.style.right&&(n.style.right="0px");var i=document.getElementById(t)||"",r=0;r=i.offsetWidth<e?5:-5,document.getElementById(t).style.display="block";var l=setInterval(function(){Number(i.style.width.slice(0,i.style.width.length-2))==e?(clearInterval(l),document.getElementById(t).style.display=r>0?"block":"none"):(i.style.width=Number(i.style.width.slice(0,i.style.width.length-2))+r+"px",n.style.right=Number(n.style.right.slice(0,n.style.right.length-2))+r+"px")},3)}catch(a){o.error(a.message,"elasticContent")}},n=function(o){if("block"==document.getElementById(o).style.display)return void e(o,0);var t=!1,n=$(".stool_cont_wrap");if(n&&n.length>0){for(var i=0;i<n.length;i++)n[i].id!=o&&"block"==n[i].style.display&&(t=!0,n[i].style.display="none",n[i].style.width="0px");t?(document.getElementById(o).style.display="block",document.getElementById(o).style.width="235px"):e(o,235)}},i=function(o){e(o,0)},r=function(t){try{var e=document.getElementById(t),n=document.documentElement,i=function(){e.style.display=n.scrollTop?"block":"none"};window.onscroll=i;var r=setTimeout(function(){0==n.scrollTop&&clearInterval(r,window.onscroll=i),n.scrollTop-=Math.ceil(.1*n.scrollTop)},10)}catch(l){o.error(l.message,"backToTopFn")}};return{contentOpen:n,contentClose:i,backToTop:r,goTop:t}}),define("defaultCfg",[],function(){var o="openTheDoor",t={ms_displaySideBar:"on",ms_switchTools:["sb0000","sb0001","sb0002","sb0003","sb0004","sb0005","sb0006","sb0007","sb0008","sb0009"],ms_loggedShowContent:["sb0002","sb0005"]};return{mainToken:o,mainSwitch:t}}),define("jsHelper",[],function(){var o=function(o,t){return o.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))},t=function(t,e){o(t,e)||(t.className+=" "+e)},e=function(t,e){if(o(t,e)){var n=new RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(n," ")}},n=function(n,i){o(n,i)?e(n,i):t(n,i)},i=function(o,t,e){for(var n,i=0;i<o.length;i++)o[i][t]==e&&(n=o[i]);return n};return{hasClass:o,addClass:t,removeClass:e,toggleClass:n,foreach:i}}),define("engine",["webConsole","access","animate","definition","defaultCfg","jsHelper"],function(o,t,e,n,i,r){var l=['<div id="WholeMatrix" class="pub_side_tool" style="display:none;">','<div id="ToolBarMatrix" class="stool_ctrl">','<div id="MyCtripMatrix"></div>','<div id="FuncGroupMatrix" class="stool_func"></div>','<div id="OtherGroupMatrix" class="stool_other stool_no_top"></div>','<div id="btnToShort" class="stool_scale"><a href="javascript:void(0)" class="stool_icon stool_min">缩小</a></div>','<div id="btnToLong" class="stool_scale" style="display:none;"><a href="javascript:void(0)" class="stool_icon stool_max">展开</a></div>',"</div></div>"].join("\n");t.accessBar(l);var a,s=function(){try{if(void 0!=a&&"object"==typeof a)return;a=n.mainSwitchDefinition;var t=i.mainToken,e=i.mainSwitch;a.ms_displaySideBar={token:t,setVal:e.ms_displaySideBar},a.ms_switchTools={token:t,setVal:e.ms_switchTools},a.ms_loggedShowContent={token:t,setVal:e.ms_loggedShowContent},a.ms_backUrl={token:t,setVal:"https://accounts."+window.COSB.hostName+"/member/login.aspx?BackUrl="+document.URL+"&responsemethod=get"}}catch(r){o.error(r.message,"installSwitchConfig")}},c=function(t,e){s();try{return"on"!=a.ms_displaySideBar||a.ms_switchTools.length<=0?!1:a.ms_switchTools.contains(t)?!0:(o.log("toolId:"+t+";toolName:"+e+"is switch-off","controlSwitchFn"),!1)}catch(n){o.error(n.message,"controlSwitchFn")}},d=function(o){var t=void 0;switch(o){case"sb0001":t="stool_current";break;case"sb0002":t="stool_current";break;case"sb0004":t="stool_history_cur";break;case"sb0005":t="stool_fav_cur";break;case"sb0006":t="stool_tools_cur"}return t},u=function(){for(var o=0;o<window.COSB.installedTools.length;o++){var t=window.COSB.installedTools[o];void 0!=t.tool_iconBodyId&&null!=document.getElementById(t.tool_iconBodyId)&&"block"==document.getElementById(t.tool_iconBodyId).style.display&&(document.getElementById(t.tool_iconBodyId).style.display="none")}},p=function(){for(var o=0;o<window.COSB.installedTools.length;o++){var t=window.COSB.installedTools[o];void 0!=t.tool_contentId&&null!=document.getElementById(t.tool_contentId)&&("open"==t.tool_contentType&&"block"==document.getElementById(t.tool_contentId).style.display?e.contentClose(t.tool_contentId):document.getElementById(t.tool_contentId).style.display="none",r.removeClass(document.getElementById(t.tool_iconTagId),d(t.tool_id)))}},f=function(){for(var o=0;o<window.COSB.installedTools.length;o++){var t=window.COSB.installedTools[o];r.removeClass(document.getElementById(t.tool_iconTagId),d(t.tool_id))}},m=function(o){p(),r.toggleClass(document.getElementById("ToolBarMatrix"),"stool_short_box"),window.COSB.type=o},_=function(e){try{var n=['<div class="stool_item_list stool_loading">','<p class="stool_tips_no_list"><img src="http://pic.c-ctrip.com/common/loading_blue_transparent.gif">努力加载中...</p>',"</div>"].join("\n");void 0!=e.tool_contentPoolCreatationFn&&"function"==typeof e.tool_contentPoolCreatationFn&&(t.accessToolContentPool(e.tool_contentPoolId,n),e.tool_contentPoolCreatationFn());var i=setInterval(function(){void 0!=e.tool_contentPool&&null!=e.tool_contentPool&&(clearInterval(i),t.accessToolContentPool(e.tool_contentPoolId,e.tool_contentPool),e.tool_contentPool=void 0,void 0!=e.tool_contentPoolOnLoadedFn&&"function"==typeof e.tool_contentPoolOnLoadedFn&&e.tool_contentPoolOnLoadedFn())},3)}catch(r){o.error(r,"loadContentFn")}},h=function(n){try{if("undefined"==n||null==n)return void o.log("toolObj is undefined","turbineFn");var i=function(){try{var e=['<div class="stool_item_list stool_loading">','<p class="stool_tips_no_list"><img src="http://pic.c-ctrip.com/common/loading_blue_transparent.gif">努力加载中...</p>',"</div>"].join("\n");void 0!=n.tool_contentPoolCreatationFn&&"function"==typeof n.tool_contentPoolCreatationFn&&(t.accessToolContentPool(n.tool_contentPoolId,e),n.tool_contentPoolCreatationFn());var i=setInterval(function(){void 0!=n.tool_contentPool&&null!=n.tool_contentPool&&(clearInterval(i),t.accessToolContentPool(n.tool_contentPoolId,n.tool_contentPool),n.tool_contentPool=void 0,void 0!=n.tool_contentPoolOnLoadedFn&&"function"==typeof n.tool_contentPoolOnLoadedFn&&n.tool_contentPoolOnLoadedFn())},3)}catch(r){o.error(r,"loadContentFn")}},l=function(){try{if(window.COSB.logged||!window.COSB.logged&&!a.ms_loggedShowContent.contains(n.tool_id)){null==document.getElementById(n.tool_contentId)&&void 0!=n.tool_contentCreatationFn&&"function"==typeof n.tool_contentCreatationFn&&n.tool_contentCreatationFn();var l=setInterval(function(){void 0!=n.tool_content&&null!=n.tool_content&&(clearInterval(l),t.accessToolContent(n.tool_content),n.tool_content=void 0,void 0!=n.tool_contentOnLoadedFn&&"function"==typeof n.tool_contentOnLoadedFn&&n.tool_contentOnLoadedFn(),document.getElementById(n.tool_iconTagId).onclick=function(){"short"==window.COSB.type&&(m("long"),document.getElementById("btnToLong").style.display="none",document.getElementById("btnToShort").style.display="block"),"show"==n.tool_contentPoolType&&"none"==document.getElementById(n.tool_contentId).style.display&&i(),void 0!=n.tool_backId&&null!=n.tool_backId?document.getElementById(n.tool_backId).onclick=function(){u(),r.removeClass(document.getElementById(n.tool_iconTagId),d(n.tool_id)),document.getElementById(n.tool_iconBodyId).style.display="none",e.contentClose(n.tool_contentId)}:o.warn("tool_backId is undefined ! tool_id:"+n.tool_id,"turbineFn"),cQuery.browser.isIPad?"none"==document.getElementById(n.tool_iconBodyId).style.display?(u(),f(),document.getElementById(n.tool_iconBodyId).style.display="block",r.addClass(document.getElementById(n.tool_iconTagId),d(n.tool_id))):(document.getElementById(n.tool_iconBodyId).style.display="none",r.removeClass(document.getElementById(n.tool_iconTagId),d(n.tool_id))):"none"==document.getElementById(n.tool_contentId).style.display?(u(),f(),r.addClass(document.getElementById(n.tool_iconTagId),d(n.tool_id))):r.removeClass(document.getElementById(n.tool_iconTagId),d(n.tool_id)),e.contentOpen(n.tool_contentId)})},3)}else!window.COSB.logged&&a.ms_loggedShowContent.contains(n.tool_id)&&(document.getElementById(n.tool_iconTagId).onclick=function(){window.location.href=a.ms_backUrl})}catch(s){return o.error(s,"loadContentFn"),!1}};if(c(n.tool_id))if("on"==n.tool_display)if("server"==n.tool_iconType)if(void 0!=n.tool_iconCreatationFn&&"function"==typeof n.tool_iconCreatationFn){n.tool_iconCreatationFn();var s=setInterval(function(){void 0==n.tool_iconBody||"string"!=typeof n.tool_iconBody||n.tool_iconBody.isNull()||(clearInterval(s),dom.Deferred(function(){t.accessTool(n.tool_type,n.tool_iconBody)}).then(function(){cQuery.browser.isIPad?document.getElementById(n.tool_iconTagId).onclick=function(){"none"==document.getElementById(n.tool_iconBodyId).style.display?(u(),document.getElementById(n.tool_iconBodyId).style.display="block"):document.getElementById(n.tool_iconBodyId).style.display="none"}:"sb0000"==n.tool_id||"sb0001"==n.tool_id?document.getElementById(n.tool_iconTagId).onmouseover=function(){u(),document.getElementById(n.tool_iconBodyId).style.display="block"}:(document.getElementById(n.tool_iconTagId).onmouseover=function(){u(),document.getElementById(n.tool_iconBodyId).style.display="block"},document.getElementById(n.tool_iconTagId).onmouseout=function(){document.getElementById(n.tool_iconBodyId).style.display="none"}),void 0!=n.tool_iconOnLoadedFn&&"function"==typeof n.tool_iconOnLoadedFn&&n.tool_iconOnLoadedFn(),"open"==n.tool_contentType&&l(),window.COSB.installedTools.push(n)}).fire())},3)}else o.error("tool_iconBodyCreatFn is undefined ! tool_id:"+n.tool_id,"turbineFn");else"local"==n.tool_iconType?void 0==n.tool_iconBody||"string"!=typeof n.tool_iconBody||n.tool_iconBody.isNull()?o.error("tool_iconBody is undefined ! tool_id:"+n.tool_id,"turbineFn"):dom.Deferred(t.accessTool(n.tool_type,n.tool_iconBody)).then(function(){void 0!=n.tool_iconOnLoadedFn&&"function"==typeof n.tool_iconOnLoadedFn&&n.tool_iconOnLoadedFn(),cQuery.browser.isIPad?document.getElementById(n.tool_iconTagId).onclick=function(){"none"==document.getElementById(n.tool_iconBodyId).style.display?(u(),document.getElementById(n.tool_iconBodyId).style.display="block"):document.getElementById(n.tool_iconBodyId).style.display="none"}:(document.getElementById(n.tool_iconTagId).onmouseover=function(){u(),document.getElementById(n.tool_iconBodyId).style.display="block"},document.getElementById(n.tool_iconTagId).onmouseout=function(){document.getElementById(n.tool_iconBodyId).style.display="none"}),"open"==n.tool_contentType&&l(),"returnTopTool"==n.tool_name&&(window.onscroll=function(){Number(document.documentElement.scrollTop+document.body.scrollTop)>0?(r.removeClass(document.getElementById("OtherGroupMatrix"),"stool_no_top"),document.getElementById(n.tool_iconTagId).style.display="block"):(r.addClass(document.getElementById("OtherGroupMatrix"),"stool_no_top"),document.getElementById(n.tool_iconTagId).style.display="none")},document.getElementById(n.tool_iconTagId).onclick=function(){e.goTop()}),window.COSB.installedTools.push(n)}).fire():o.error("unknown tool_iconType! tool_id:"+n.tool_id,"turbineFn");else"off"==n.tool_display?o.warn("toolId:"+n.toolId+";toolName:"+n.toolName+"is switch-off","turbineFn"):o.error("unknown error","turbineFn");else o.log("this id:"+n.tool_id+" offed,please talk with admin","turbineFn")}catch(p){o.error(p.message,"turbineFn")}},v=function(t){try{if(void 0==t||null==t||0==t.length)return void o.error("toolsArray is undefined","ignitionFn");t.sortBy("tool_sequence");var e=function(){for(var e=0,n=0;n<t.length;n++){if(null==document.getElementById(t[n].tool_iconTagId)){o.error(t[n].tool_id+" load fail","ignitionFn");break}e++}window.COSB.sideBarStatus=e==t.length?"loadSuc":"loadFail"};h(t[0]);var n=1;oneByOne=setInterval(function(){null!=document.getElementById(t[n-1].tool_iconTagId)&&(h(t[n]),n+=1),n==t.length&&(e(),clearInterval(oneByOne),clearInterval(waitLoad))},3),waitLoad=setInterval(function(){clearInterval(waitLoad),e(),clearInterval(oneByOne)},2e4)}catch(i){return void o.error(i.message,"ignitionFn")}};return document.getElementById("btnToShort").onclick=function(){m("short"),document.getElementById("btnToShort").style.display="none",document.getElementById("btnToLong").style.display="block",u(),f()},document.getElementById("btnToLong").onclick=function(){m("long"),document.getElementById("btnToLong").style.display="none",document.getElementById("btnToShort").style.display="block",u(),f()},document.body.onclick=function(o){var t=$("#WholeMatrix");t.is(o.target)||t.contains(o.target)||(u(),p())},{turbine:h,ignition:v,closeAllTip:u,closeAllContent:p,reloadPool:_}}),define("cookie",["webConsole"],function(o){var t=function(o){var t,e=new RegExp("(^| )"+o+"=([^;]*)(;|$)");return(t=document.cookie.match(e))?unescape(t[2]):null},e=function(o){var e=new Date;e.setTime(e.getTime()-1);var n=t(o);null!=n&&(document.cookie=o+"="+n+";expires="+e.toGMTString())},n=function(){try{var e=!1,n=t("ticket_ctrip");void 0!=n&&(e=!0),window.COSB.logged=e}catch(i){o.error(i.message,"loggedFn")}},i=function(){try{e("ticket_ctrip");var t=n();window.COSB.logged=t}catch(i){o.error(i.message,"logOutFn")}};return{logIn:n,logOut:i}}),define("myImplementTool",["webConsole"],function(o){return function(){var t={tool_id:"sb0006",tool_name:"myImplementTool",tool_display:"on",tool_type:"func",tool_sequence:5,tool_iconType:"local",tool_iconTagId:"myImplementTag",tool_iconBodyId:"myImplementTip",tool_iconBody:'<a id="myImplementTag" href="javascript:void(0)" class="stool_icon stool_tools ">工具箱</a><p id="myImplementTip" class="stool_hover_title stool_hover_tool" style="display:none;">工具箱</p>',tool_iconCreatationFn:void 0,tool_iconOnLoadedFn:void 0,tool_contentType:"open",tool_contentId:"myImplementContent",tool_content:['<div id="myImplementContent" name="content" class="stool_cont_wrap stool_tool_list" style="display:none;width:0px;">','<div class="stool_cont_hd">',"<h3>工具箱</h3>",'<a id="myImplementBack" href="javascript:void(0)" class="stool_icon stool_back">&gt;&gt;</a>',"</div>",'<div class="stool_cont_m" id="myImplementPool" >',"</div></div></div>"].join("\n"),tool_contentCreatationFn:void 0,tool_contentOnLoadedFn:void 0,tool_contentPoolType:"show",tool_contentPoolId:"myImplementPool",tool_contentPool:void 0,tool_contentPoolCreatationFn:function(){var e=['<div class="stool_retry">','<div class="stool_item_list">','<p class="stool_tips_no_list">加载失败了，请再试试吧</p></div>','<div class="stool_btn"><a id="refresh" href="javascript:void(0)">重试</a>',"</div></div>"].join("\n"),n=[{key:"train",url:"http://trains.ctrip.com/TrainSchedule#ctm_ref=sbr_hp_nav_tra_txt_11",title:"火车查询"},{key:"lowfly",url:"http://flights.ctrip.com/domestic/MyToolBox/Option.aspx#ctm_ref=sbr_hp_nav_flg_txt_12",title:"低价机票早知道"},{key:"flytime",url:"http://flights.ctrip.com/schedule#ctm_ref=sbr_hp_nav_sche_txt_13",title:"航班时刻"},{key:"credit",url:"http://pages.ctrip.com/commerce/promote/AllianceCard/200706/xyk/lyxykindex.htm#ctm_ref=sbr_hp_nav_credit_txt_14",title:"申请携程信用卡"},{key:"weather",url:"http://you.ctrip.com/weather#ctm_ref=sbr_hp_nav_weather_txt_15",title:"旅行天气"},{key:"car",url:"http://car.ctrip.com#ctm_ref=sbr_hp_nav_car_txt_16",title:"用车服务"},{key:"cartime",url:"http://bus.ctrip.com/schedule-sitemap.html#ctm_ref=sbr_hp_nav_bus_txt_17",title:"汽车时刻表"},{key:"hotel_join",url:"http://hotels.ctrip.com/jiameng#ctm_ref=sbr_hp_nav_hotjm_txt_18",title:"酒店加盟"},{key:"city",url:"http://piao.ctrip.com/citylist.html#ctm_ref=sbr_hp_nav_citylist_txt_19",title:"城市景点大全"},{key:"wifi",url:"http://huodong.ctrip.com/Activity-Booking-ShoppingWebSite/Marketing/WiFiMarketing.aspx#ctm_ref=sbr_hp_nav_wifi_txt_20",title:"出境上网服务"}],i=function(){var r=function(){t.tool_contentPool=e,t.tool_contentPoolOnLoadedFn=function(){document.getElementById("refresh").onclick=function(){i()}}};try{if(void 0==n)r();else{for(var l='<div class="stool_item_list"><ul>',a=0;a<n.length;a++){var s='<li id="{0}" class="stool_t_{1}"><a href="{2}" target="_blank"><i class="stool_icon_type"></i>{3}</a></li>',c=s.format(n[a].key,n[a].key,n[a].url,n[a].title);l+=c}l+="</ul></div>",t.tool_contentPool=l}}catch(d){o.error(d,"tool_poolBodyCreatFn"),r()}};i()},tool_contentPoolOnLoadedFn:void 0,tool_backId:"myImplementBack"};return t}}),define("communication",["webConsole","jsHelper"],function(o,t){function e(o,t){this.status=o,this.responseObj=t}e.prototype={constructor:e},window.COSB&&window.COSB.jsonp&&(window.COSB.jsonp.callback=function(n){try{if(n&&n.Result&&void 0!=n.Result.ResultCode){var i;if(window.COSB.jsonp.bizCallback){var r=t.foreach(window.COSB.jsonp.bizCallback,"bizId",n.Result.ResultKind);if(!(r&&r.failFn&&r.sucFn))return void o.log("bizCBObj is undefined","jsonpCallback");i=r}if(-88==n.Result.ResultCode||-77==n.Result.ResultCode){var l=new e("unlogged","");i.failFn(l),window.COSB.jsonp.bizCallback.remove(i),o.log("logging timeout","jsonpCallback")}else if(-1==n.Result.ResultCode||-66==n.Result.ResultCode||-99==n.Result.ResultCode){var a=new e("error","");i.failFn(a),window.COSB.jsonp.bizCallback.remove(i),o.log("service is error","jsonpCallback")}else if(0==n.Result.ResultCode)i.sucFn(n),window.COSB.jsonp.bizCallback.remove(i);else{var a=new e("error","");i.failFn(a),window.COSB.jsonp.bizCallback.remove(i),o.error("unknown resultCode","jsonpCallback")}}else if(window.COSB.jsonp.bizCallback){var s=t.foreach(window.COSB.jsonp.bizCallback,"bizId","AjaxGetcookie");if(s&&s.sucFn)s.sucFn(n),window.COSB.jsonp.bizCallback.remove(s);else{var c=t.foreach(window.COSB.jsonp.bizCallback,"bizId","AjaxGetBrowserHistory");if(!c||!c.sucFn)return void o.log("bizCBObj is undefined","jsonpCallback");c.sucFn(n),window.COSB.jsonp.bizCallback.remove(c)}}}catch(d){o.error(d.message,"jsonpCallback")}});var n=function(t,e){try{var n=document.createElement("script");n.src=t,document.body.appendChild(n),window.COSB.jsonp&&void 0==window.COSB.jsonp.bizCallback?(window.COSB.jsonp.bizCallback=new Array,window.COSB.jsonp.bizCallback.push(e)):window.COSB.jsonp&&void 0!=window.COSB.jsonp.bizCallback?window.COSB.jsonp.bizCallback.push(e):o.error("window.COSB.jsonp is undefined","jsonpScriptFn")}catch(i){o.error(i.message,"jsonpScriptFn")}};return{jsonpScript:n}}),define("myHistoryTool",["webConsole","communication"],function(o,t){return function(){var e=window.COSB.hostName,n={tool_id:"sb0004",tool_name:"myHistoryTool",tool_display:"on",tool_type:"func",tool_sequence:3,tool_iconType:"local",tool_iconTagId:"myHistoryTag",tool_iconBodyId:"myHistoryTip",tool_iconBody:'<a id="myHistoryTag" href="javascript:void(0)" class="stool_icon stool_history ">浏览历史</a><p id="myHistoryTip" class="stool_hover_title stool_hover_history" style="display:none;">浏览历史</p>',tool_iconCreatationFn:void 0,tool_iconOnLoadedFn:void 0,tool_contentType:"open",tool_contentId:"myHistoryContent",tool_content:['<div id="myHistoryContent" name="content" class="stool_cont_wrap stool_history" style="display:none;width:0px;">','<div class="stool_cont_hd">',"<h3>浏览历史</h3>",'<a id="myHistoryBack" href="javascript:void(0)" class="stool_icon stool_back">&gt;&gt;</a>',"</div>",'<div class="stool_cont_m" id="myHistoryPool">',"</div></div></div>"].join("\n"),tool_contentCreatationFn:void 0,tool_contentOnLoadedFn:void 0,tool_contentPoolType:"show",tool_contentPoolId:"myHistoryPool",tool_contentPool:void 0,tool_contentPoolCreatationFn:function(){var i=['<div class="stool_retry">','<div class="stool_item_list">','<p class="stool_tips_no_list">加载失败了，请再试试吧</p></div>','<div class="stool_btn"><a id="refresh" href="javascript:void(0)">重试</a>',"</div></div>"].join("\n"),r=['<div class="stool_item_list">','<p class="stool_tips_no_list">您看过的产品会记录在这里</p>',"</div>"].join("\n"),l=function(){n.tool_contentPool=i,n.tool_contentPoolOnLoadedFn=function(){document.getElementById("refresh").onclick=function(){event.stopPropagation(),COSB.sideBar.reloadPool(n)}}},a=function(){var o={bizId:"AjaxGetBrowserHistory",sucFn:function(o){s(o)},failFn:function(){l()}};t.jsonpScript("http://www."+e+"/homepage/tool/recommend/like?ch=0&callback=COSB.jsonp.callback",o)},s=function(t){try{if(void 0==t.prdLst||0==t.prdLst.length)n.tool_contentPool=r;else{for(var e='<div class="stool_item_list"><ul>',i=0;i<t.prdLst.length;i++){var a=["<li>",'<a href="{0}#ctm_ref=sbr_hp_nav_history_txt_25" target="_blank" class="borwsing_link">','<span class="b_thumb"><img src="{1}" alt=""></span>','<span class="b_name_single"><span title="{2}">{3}</span></span>{4}','<span class="b_price">{5}</span>','<span class="b_tag">{6}</span>',"</a>","</li>"].join("\n"),s=t.prdLst[i],c=a.format(s.lnk,s.img,s.nme,s.nme,void 0==s.star?"":s.star,""==s.price?'<span class="s_price">实时计价</span>':'<span class="c_price">'+s.price+"</span> 起",s.zh);e+=c}e+="</ul></div>",n.tool_contentPool=e}}catch(d){o.error(d,"tool_poolBodyCreatFn"),l()}};a()},tool_contentPoolOnLoadedFn:void 0,tool_backId:"myHistoryBack"};return n}}),define("scanTool",["webConsole","jsHelper"],function(){return function(){var o={tool_id:"sb0001",tool_name:"scanTool",tool_display:"on",tool_type:"basic",tool_sequence:1,tool_iconType:"server",tool_iconTagId:"scanTag",tool_iconBodyId:"scanTip",tool_iconBody:void 0,tool_iconCreatationFn:function(){var t=['<div class="stool_qr_code">','<a id="scanTag" href="javascript:void(0)" class="stool_icon stool_qr">APP二维码</a>','<div id="scanTip" class="stool_qrcode_pop" style="display:none;">','<img src="http://images3.c-ctrip.com/rk/201406/D9013-01.png" alt="">','<div><a href="http://app.ctrip.com#ctm_ref=sbr_hp_nav_app_txt_24" target="_blank">携程旅行手机版 &gt;</a></div>','<a href="javascript:void(0)" class="stool_icon stool_qr_close" id="hoverClose_'+o.tool_name+'">关闭</a>',"</div>","</div>"].join("\n");o.tool_iconBody=t},tool_iconOnLoadedFn:function(){void 0!=document.getElementById("hoverClose_"+o.tool_name)&&(document.getElementById("hoverClose_"+o.tool_name).onclick=function(){document.getElementById(o.tool_iconBodyId).style.display="none"}),document.getElementById("scanTip").onmouseover=function(){document.getElementById("scanTip").style.display="block"},document.getElementById("scanTip").onmouseout=function(){document.getElementById("scanTip").style.display="none"}},tool_contentType:"close",tool_contentId:void 0,tool_content:void 0,tool_contentCreatationFn:void 0,tool_contentOnLoadedFn:void 0,tool_contentPoolType:"hide",tool_contentPoolId:void 0,tool_contentPool:void 0,tool_contentPoolCreatationFn:void 0,tool_contentPoolOnLoadedFn:void 0,tool_backId:void 0};return o}}),define("feedbackTool",["webConsole"],function(){return function(){var o=window.COSB.hostName,t={tool_id:"sb0008",tool_name:"feedbackTool",tool_display:"on",tool_type:"other",tool_sequence:8,tool_iconType:"local",tool_iconTagId:"feedbackTag",tool_iconBodyId:"feedbackTip",tool_iconBody:'<a id="feedbackTag" href="http://my.'+o+'/uxp/Community/CommunityAdvice.aspx#ctm_ref=sbr_hp_nav_commu_txt_21"  target="_blank" class="stool_icon stool_feedback">意见反馈</a><p id="feedbackTip" class="stool_hover_title stool_hover_feedback" style="display:none;">意见反馈</p>',tool_iconCreatationFn:void 0,tool_iconOnLoadedFn:void 0,tool_contentType:"close",tool_contentId:void 0,tool_content:void 0,tool_contentCreatationFn:void 0,tool_contentOnLoadedFn:void 0,tool_contentPoolType:"hide",tool_contentPoolId:void 0,tool_contentPool:void 0,tool_contentPoolCreatationFn:void 0,tool_contentPoolOnLoadedFn:void 0,tool_backId:void 0};return t}}),define("liveChatTool",["webConsole"],function(){return function(){var o=window.COSB.hostName,t={tool_id:"sb0009",tool_name:"liveChatTool",tool_display:"on",tool_type:"other",tool_sequence:9,tool_iconType:"local",tool_iconTagId:"liveChatTag",tool_iconBodyId:"liveChatTip",tool_iconBody:'<a id="liveChatTag" href="http://livechat.'+o+'/livechat/Login3.aspx?GroupCode=CustomerService&amp;AsFrom=1|CustomerService#ctm_ref=sbr_hp_nav_livechat_txt_22"  target="_blank" class="stool_icon stool_serveic">在线客服</a><p id="liveChatTip" class="stool_hover_title stool_hover_serveic" style="display:none;">在线客服</p>',tool_iconCreatationFn:void 0,tool_iconOnLoadedFn:void 0,tool_contentType:"close",tool_contentId:void 0,tool_content:void 0,tool_contentCreatationFn:void 0,tool_contentOnLoadedFn:void 0,tool_contentPoolType:"hide",tool_contentPoolId:void 0,tool_contentPool:void 0,tool_contentPoolCreatationFn:void 0,tool_contentPoolOnLoadedFn:void 0,tool_backId:void 0};return t}}),define("returnTopTool",["webConsole","jsHelper"],function(){return function(){var o={tool_id:"sb0007",tool_name:"returnTopTool",tool_display:"on",tool_type:"other",tool_sequence:7,tool_iconType:"local",tool_iconTagId:"returnTopTag",tool_iconBodyId:"returnTopTip",tool_iconBody:'<a id="returnTopTag" href="javascript:void(0)"  class="stool_icon stool_top" style="display:none;">返回顶部</a><p id="returnTopTip" class="stool_hover_title stool_hover_top" style="display:none;">返回顶部</p>',tool_iconCreatationFn:void 0,tool_iconOnLoadedFn:void 0,tool_contentType:"close",tool_contentId:void 0,tool_content:void 0,tool_contentCreatationFn:void 0,tool_contentOnLoadedFn:void 0,tool_contentPoolType:"hide",tool_contentPoolId:void 0,tool_contentPool:void 0,tool_contentPoolCreatationFn:void 0,tool_contentPoolOnLoadedFn:void 0,tool_backId:void 0};return o}}),define("adTool",["webConsole","communication"],function(o,t){return function(){var e=window.COSB.hostName,n={tool_id:"sb0000",tool_name:"adTool",tool_display:"on",tool_type:"basic",tool_sequence:0,tool_iconType:"server",tool_iconTagId:"adTag",tool_iconBodyId:"adTip",tool_iconBody:void 0,tool_iconCreatationFn:function(){var i=function(){var i=['<div class="stool_ad ">','<a id="adTag" href="{0}">','<div><img src="{1}" width="{2}" height="{3}"></div>',"</a>",'<div id="adTip" class="stool_ad_pop" style="display:none">','<div><i class="stool_icon stool_arrow"></i><a href="javascript:void(0)" class="stool_icon stool_ad_close" id="hoverClose_'+n.tool_name+'">关闭</a></div>',"</div></div>"].join("\n"),r={bizId:"ad",sucFn:function(){},failFn:function(){}};"ctrip.com"==e?t.jsonpScript('http://crm.ws.ctrip.com/Customer-Market-Proxy/AdCallProxy.aspx?re=ads&adlist=[{"adIDs":"5653","domID":"adTag"}]&backup=3',r):t.jsonpScript('http://crm.ws.fws.qa.nt.ctripcorp.com/Customer-Market-Proxy/AdCallProxy.aspx?re=ads&adlist=[{"adIDs":"5653","domID":"adTag"}]&backup=3',r),window.G_adContentConfigTwo=void 0;var l=setInterval(function(){if(G_adContentConfigTwo)if(clearInterval(l),void 0!=G_adContentConfigTwo.adTag&&G_adContentConfigTwo.adTag.length>0){var t=G_adContentConfigTwo.adTag[0];i=i.format("javascript:void(0)",t.src,t.width,t.height),n.tool_iconBody=i,G_adContentConfigTwo=void 0}else o.error("adTag lost","jsonpCallback")},3)};i()},tool_iconOnLoadedFn:function(){var o={bizId:"ad",sucFn:function(){},failFn:function(){}};"ctrip.com"==e?t.jsonpScript('http://crm.ws.ctrip.com/Customer-Market-Proxy/AdCallProxy.aspx?re=ads&adlist=[{"adIDs":"5639","domID":"adTip"}]&backup=3',o):t.jsonpScript('http://crm.ws.fws.qa.nt.ctripcorp.com/Customer-Market-Proxy/AdCallProxy.aspx?re=ads&adlist=[{"adIDs":"5639","domID":"adTip"}]&backup=3',o);var i=['<div><a href="{0}" target="_blank"><img src="{1}" width="{2}" height="{3}"></a></div>'].join("\n"),r=setInterval(function(){if(G_adContentConfigTwo&&void 0!=G_adContentConfigTwo.adTip&&G_adContentConfigTwo.adTip.length>0){clearInterval(r);var o=G_adContentConfigTwo.adTip[0];i=i.format(o.link,o.src,o.width,o.height);var t=document.createElement("div");t.innerHTML=i,document.getElementById("adTip").appendChild(t),document.getElementById("adTip").onmouseover=function(){document.getElementById("adTip").style.display="block"},document.getElementById("adTip").onmouseout=function(){document.getElementById("adTip").style.display="none"},void 0!=document.getElementById("hoverClose_"+n.tool_name)&&(document.getElementById("hoverClose_"+n.tool_name).onclick=function(){document.getElementById(n.tool_iconBodyId).style.display="none"}),G_adContentConfigTwo=void 0}},3)},tool_contentType:"close",tool_contentId:void 0,tool_content:void 0,tool_contentCreatationFn:void 0,tool_contentOnLoadedFn:void 0,tool_contentPoolType:"hide",tool_contentPoolId:void 0,tool_contentPool:void 0,tool_contentPoolCreatationFn:void 0,tool_contentPoolOnLoadedFn:void 0,tool_backId:void 0};return n}}),define("loggingTool",["webConsole"],function(){return function(){var o=window.COSB.hostName,t={tool_id:"sb0003",tool_name:"loggingTool",tool_display:"on",tool_type:"basic",tool_sequence:3,tool_iconType:"local",tool_iconTagId:"loggingTag",tool_iconBodyId:"loggingTip",tool_iconBody:['<div class="stool_login" >','<i class="line line_s"></i>','<a id="loggingTag"  href="https://accounts.'+o+"/member/login.aspx?BackUrl="+document.URL+'&responsemethod=get#ctm_ref=sbr_hp_nav_login_txt_23"  class="stool_icon stool_non-login">未登录</a>','<i class="line"></i>','<p id="loggingTip" class="stool_hover_title"  style="display:none;">我的携程</p>',"</div>"].join("\n"),tool_iconCreatationFn:void 0,tool_iconOnLoadedFn:void 0,tool_contentType:"close",tool_contentId:void 0,tool_content:void 0,tool_contentCreatationFn:void 0,tool_contentOnLoadedFn:void 0,tool_contentPoolType:"hide",tool_contentPoolId:void 0,tool_contentPool:void 0,tool_contentPoolCreatationFn:void 0,tool_contentPoolOnLoadedFn:void 0,tool_backId:void 0};return t}}),define("myCtripTool",["store","webConsole","communication","jsHelper","cookie"],function(o,t,e,n){return function(){var o=window.COSB.hostName,i={tool_id:"sb0002",tool_name:"myCtripTool",tool_display:"on",tool_type:"basic",tool_sequence:2,tool_iconType:"server",tool_iconTagId:"myCtripTag",tool_iconBodyId:"myCtripTip",tool_iconBody:void 0,tool_iconCreatationFn:function(){var n=function(o){var t=['<div class="stool_login ">','<i class="line line_s"></i>','<a id="myCtripTag" href="javascript:void(0)" class="stool_gravatar">','<img src="{0}" alt="">',"<b></b></a>",'<i class="line"></i>','<p id="myCtripTip" class="stool_hover_title" style="display:none;">我的携程</p>',"</div>"].join("\n");i.tool_iconBody=t.format(o)},r={bizId:"SummaryInfoHandler",sucFn:function(o){n(o.AvatarNameEntities[0].URL)},failFn:function(){t.warn("userImg is null or empty","myCtripTool");var o="http://pic.c-ctrip.com/common/side_tool_bar/gravatar_default.png";n(o)}};e.jsonpScript("http://my."+o+"/Sidebar-online/Handlers/SummaryInfoHandler.ashx?callback=COSB.jsonp.callback&InfoType=",r)},tool_iconOnLoadedFn:void 0,tool_contentType:"open",tool_contentId:"myCtripContent",tool_content:['<div id="myCtripContent" name="content" class="stool_cont_wrap stool_myctrip" style="display:none;width:0px;">','<div class="stool_cont_hd">',"<h3>我的携程</h3>",'<a id="myCtripBack" href="javascript:void(0)" class="stool_icon stool_back">&gt;&gt;</a>',"</div>",'<div class="stool_cont_m" id="myCtripPool">',"</div></div></div>"].join("\n"),tool_contentCreatationFn:void 0,tool_contentOnLoadedFn:void 0,tool_contentPoolType:"show",tool_contentPoolId:"myCtripPool",tool_contentPool:void 0,tool_contentPoolCreatationFn:function(){var r,l,a,s=['<div class="stool_retry">','<div class="stool_item_list">','<p class="stool_tips_no_list">加载失败了，请再试试吧</p></div>','<div class="stool_btn"><a id="refresh" href="javascript:void(0)">重试</a>',"</div></div>"].join("\n"),c=['<div class="stool_retry">','<div class="stool_item_list">','<p class="stool_tips_no_list">登录失效啦</p></div>','<div class="stool_btn"><a href="https://accounts.'+o+"/member/login.aspx?BackUrl="+document.URL+'&responsemethod=get#ctm_ref=sbr_hp_nav_login_txt_23">重新登录</a>',"</div></div>"].join("\n"),d=0,u=function(){var t={bizId:"OrderGroupCountsHandler",sucFn:function(o){a=o.OrderStatisticsGroupList},failFn:function(o){"error"==o.status?d=-1:"unlogged"==o.status&&(d=-2)}};e.jsonpScript("http://my."+o+"/Sidebar-online/Handlers/OrderGroupCountsHandler.ashx?callback=COSB.jsonp.callback&OrderCountGroups=All,NotTravel,AwaitReview,AwaitPay",t)},p=function(){var t={bizId:"AjaxGetcookie",sucFn:function(o){l=o},failFn:function(){l=0}};e.jsonpScript("https://accounts."+o+"/member/ajax/AjaxGetcookie.ashx?jsonp=COSB.jsonp.callback",t)
},f=function(){var t={bizId:"SummaryInfoHandler",sucFn:function(o){r=o},failFn:function(o){"error"==o.status?d=-1:"unlogged"==o.status&&(d=-2)}};e.jsonpScript("http://my."+o+"/Sidebar-online/Handlers/SummaryInfoHandler.ashx?InfoType=All&callback=COSB.jsonp.callback",t)},m=function(){var t=r.UserMainInfo,e=r.AvatarNameEntities[0],n=['<div class="stool_member_info">','<a href="http://my.'+o+'/home/myinfo.aspx#ctm_ref=sbr_hp_nav_head_txt_1" target="_blank" class="stool_gravatar_b">','<img src="{0}" alt=""></a>','<a href="http://my.'+o+'/home/myinfo.aspx#ctm_ref=sbr_hp_nav_name_txt_2" target="_blank" class="stool_member_name">{1}</a> ','<em class="stool_member_level">{2}</em>','<a href="http://my.'+o+'/home/message/messagelist.aspx?status=F#ctm_ref=sbr_hp_nav_name_txt_2" target="_blank" class="stool_mail_num"><i class="stool_icon"></i>{3}</a>',"</div>"].join("\n");return"0"==l.noreadmessagecount&&(l.noreadmessagecount="0"),n.format(e.URL,t.UserName,l.vipgradename," ("+l.noreadmessagecount+")")},_=function(){var t=n.foreach(r.MemberAssetSummaries,"AssetType","MerchantBalance").Balance,e=n.foreach(r.MemberAssetSummaries,"AssetType","Gift").Balance,i=n.foreach(r.MemberAssetSummaries,"AssetType","Cash").Balance,l=['<div class="stool_member_money">',"<ul>",'<li><span>现金</span><a href="https://secure.'+o+'/Payment-Base-PaymentPwd/Wallet/View/MyWalletIndex.aspx#ctm_ref=sbr_hp_nav_cash_txt_4" target="_blank">{0}</a></li>','<li><span>礼品卡</span><a href="https://secure.'+o+'/Balance-GiftCard/zh-cn/TravelTicket.aspx#ctm_ref=sbr_hp_nav_card_txt_5" target="_blank">{1}</a></li>','<li><span>返现</span><a href="https://sinfo.'+o+'/Balance/zh-cn/CashAccount.aspx#ctm_ref=sbr_hp_nav_rebate_txt_6" target="_blank">{2}</a></li>',"</ul>","</div>"].join("\n");if(0!=t&&(t/=100),t>1e5)t=">¥10万";else if(1e5==t)t="¥10万";else if(t.toString().split(".").length>=1){var a=t.toString().split(".");void 0!=a[1]&&0==a[1]&&(t=a[0])}if(e>1e5)e=">¥10万";else if(1e5==e)e="¥10万";else if(e.toString().split(".").length>=1){var a=e.toString().split(".");void 0!=a[1]&&0==a[1]&&(e=a[0])}if(i>1e5)i=">¥10万";else if(1e5==i)i="¥10万";else if(i.toString().split(".").length>=1){var a=i.toString().split(".");i=a[0]}var s=function(o){var o=o.toString();return o.contains(">")||o.contains("¥")||(o="¥"+o),o};return l.format(s(t),s(e),s(i))},h=function(){var t=n.foreach(a,"GroupName","AwaitPay").Count,e=n.foreach(a,"GroupName","AwaitReview").Count,i=n.foreach(a,"GroupName","NotTravel").Count,r=n.foreach(a,"GroupName","All").Count,l=['<div class="stool_member_order">',"<ul>",'<li class="stool_order_all"><i class="stool_icon"></i> <a href="http://my.'+o+'/Home/Order/AllOrder.aspx#ctm_ref=sbr_hp_nav_all_txt_7" target="_blank">全部订单 <em>({0})</em></a></li>','<li class="stool_order_wait"><i class="stool_icon"></i> <a href="http://my.'+o+'/Home/Order/AllOrder.aspx?OrderStatusClassify=AwaitPay#ctm_ref=sbr_hp_nav_awpay_txt_8" target="_blank">待付款订单 <em>({1})</em></a></li>','<li class="stool_order_will"><i class="stool_icon"></i> <a href="http://my.'+o+'/Home/Order/AllOrder.aspx?OrderStatusClassify=NotTravel#ctm_ref=sbr_hp_nav_ntrav_txt_9" target="_blank">未出行订单 <em>({2})</em></a></li>','<li class="stool_order_comment"><i class="stool_icon"></i> <a href="http://my.'+o+'/Home/Order/AllOrder.aspx?OrderStatusClassify=AwaitReview#ctm_ref=sbr_hp_nav_awrev_txt_10" target="_blank">待评价订单 <em>({3})</em></a></li>',"</ul>","</div>"].join("\n");return l.format(r,t,i,e)},v=function(){i.tool_contentPool=s,i.tool_contentPoolOnLoadedFn=function(){document.getElementById("refresh").onclick=function(){event.stopPropagation(),COSB.sideBar.reloadPool(i)}}},y=function(){try{var e="";e+=m(),e+=_(),e+=h();var n=['<div class="stool_btn"><a id="logout" href="https://accounts.'+o+"/member/logout.aspx?BackUrl="+document.URL+'&responsemethod=get">退出登录</a></div>'].join("\n");e+=n,i.tool_contentPool=e}catch(r){t.error(r,"tool_poolBodyCreatFn"),v()}},g=function(){f(),u(),p();var o=setInterval(function(){void 0!=r&&void 0!=l&&void 0!=a&&0==d?(clearInterval(t),clearInterval(o),y()):-1==d?(clearInterval(t),clearInterval(o),v(),d=0):-2==d&&(clearInterval(t),clearInterval(o),i.tool_contentPool=c,d=0)},3),t=setInterval(function(){clearInterval(o),clearInterval(t),v()},15e3)};g()},tool_contentPoolOnLoadedFn:void 0,tool_backId:"myCtripBack"};return i}}),define("myFavoriteTool",["webConsole","communication"],function(o,t){return function(){var e=window.COSB.hostName,n={tool_id:"sb0005",tool_name:"myFavoriteTool",tool_display:"on",tool_type:"func",tool_sequence:4,tool_iconType:"local",tool_iconTagId:"myFavoriteTag",tool_iconBodyId:"myFavoriteTip",tool_iconBody:'<a id="myFavoriteTag" href="javascript:void(0)" class="stool_icon stool_fav ">收 藏</a><p id="myFavoriteTip" class="stool_hover_title stool_hover_fav" style="display:none;">收 藏</p>',tool_iconCreatationFn:void 0,tool_iconOnLoadedFn:void 0,tool_contentType:"open",tool_contentId:"myFavoriteContent",tool_content:['<div id="myFavoriteContent" name="content" class="stool_cont_wrap stool_fav_wrap" style="display:none;width:0px;">','<div class="stool_cont_hd">',"<h3>我的收藏</h3>",'<a id="myFavoriteBack" href="javascript:void(0)" class="stool_icon stool_back">&gt;&gt;</a>',"</div>",'<div class="stool_cont_m" id="myFavoritePool">',"</div></div></div>"].join("\n"),tool_contentCreatationFn:void 0,tool_contentOnLoadedFn:void 0,tool_contentPoolType:"show",tool_contentPoolId:"myFavoritePool",tool_contentPool:void 0,tool_contentPoolCreatationFn:function(){var i=['<div class="stool_retry">','<div class="stool_item_list">','<p class="stool_tips_no_list">加载失败了，请再试试吧</p></div>','<div class="stool_btn"><a id="refresh" href="javascript:void(0)">重试</a>',"</div></div>"].join("\n"),r=['<div class="stool_item_list">','<p class="stool_tips_no_list">您还没有收藏哦<br>快去看看有没有感兴趣的产品吧</p>',"</div>"].join("\n"),l=['<div class="stool_retry">','<div class="stool_item_list">','<p class="stool_tips_no_list">登录失效啦</p></div>','<div class="stool_btn"><a href="https://accounts.'+e+"/member/login.aspx?BackUrl="+document.URL+'&responsemethod=get#ctm_ref=sbr_hp_nav_login_txt_23">重新登录</a>',"</div></div>"].join("\n"),a=function(){n.tool_contentPool=i,n.tool_contentPoolOnLoadedFn=function(){document.getElementById("refresh").onclick=function(){event.stopPropagation(),COSB.sideBar.reloadPool(n)}}},s=function(){var o={bizId:"MyFavoriteHandler",sucFn:function(o){c(o)},failFn:function(o){"error"==o.status?a():"unlogged"==o.status&&(n.tool_contentPool=l)}};t.jsonpScript("http://my."+e+"/Sidebar-online/Handlers/MyFavoriteHandler.ashx?callback=COSB.jsonp.callback&BizTypes=HOTEL&PageIndex=1&ReturnCount=30",o)},c=function(t){try{if(void 0==t.FavoriteList)a();else if(0==t.FavoriteList.length)n.tool_contentPool=r;else{for(var i=t.FavoriteList,l='<div class="stool_item_list"><ul>',s=0;s<i.length&&19>=s;s++){var c=["<li>",'<a href="{0}#ctm_ref=sbr_hp_nav_collection_txt_26" target="_blank" class="borwsing_link">','<span class="b_thumb"><img src="{1}" alt=""></span>','<span class="b_name_single"><span title="{2}">{3}</span></span>','<span class="{4}" title="{5}"></span>','<span class="b_price"><span class="c_price">{6}</span> 起</span>','<span class="b_tag">{7}</span>',"</a>","</li>"].join("\n"),d=c.format(i[s].Url,i[s].PicUrl,i[s].ProductName,i[s].ProductName,i[s].Star,i[s].ProductName,i[s].Price,i[s].BizType);l+=d}var u=['<div class="stool_btn"><a href="http://my.'+e+'/FavoriteOnline/hotel/hotellist.aspx" target="_blank">查看全部收藏</a></div>'].join("\n");l+=u,l+="</ul></div>",n.tool_contentPool=l}}catch(p){o.error(p,"tool_poolBodyCreatFn"),a()}};s()},tool_contentPoolOnLoadedFn:void 0,tool_backId:"myFavoriteBack"};return n}}),define("sideBar",["webConsole","mt","engine","cookie","myImplementTool","myHistoryTool","scanTool","feedbackTool","liveChatTool","returnTopTool","adTool","loggingTool","myCtripTool","myFavoriteTool"],function(o,t,e,n,i,r,l,a,s,c,d,u,p,f){var m=function(){try{var t=[i(),r(),l(),a(),s(),c(),d(),p(),f()],n=[i(),r(),l(),a(),s(),c(),d(),u(),f()];window.COSB.installedTools.length=0,e.ignition(window.COSB.logged?t:n)}catch(m){o.error(m.message,"baseBarFn")}finally{o.log("baseBar")}},_=function(t){try{waitLoadBacic=setInterval(function(){window.COSB.sideBarStatus&&"loadSuc"==window.COSB.sideBarStatus&&(clearInterval(waitLoadBacic),t?e.turbine(t):o.error("tool is error","addonBarFn"))},3)}catch(n){o.error(n.message)}finally{o.log("addonBar")}},h=function(t){try{waitLoadBacic=setInterval(function(){window.COSB.sideBarStatus&&"loadSuc"==window.COSB.sideBarStatus&&(clearInterval(waitLoadBacic),document.getElementById("WholeMatrix").style.display=t,o.log("showBar"))},3)}catch(e){o.error(e.message)}finally{}},v=function(){try{n.logIn(),m()}catch(t){o.error(t)}finally{o.log("entrance")}};return{init:v,append:function(){return _},show:function(){return h("block")},hide:function(){return h("none")},closeTag:function(){return e.closeAllTip()},closeContent:function(){return e.closeAllContent()},reloadPool:function(o){return e.reloadPool(o)}}}),define("route",["webConsole"],function(){var o=function(){this.host="ctrip.com",document.domain.contains("fat49")||document.domain.contains("fat35")?this.host="fat49.qa.nt.ctripcorp.com":document.domain.contains("uat")&&(this.host="uat.qa.nt.ctripcorp.com")};o.prototype.getHost=function(){return this.host};var t=new o;return t.getHost()});var configurationsPath="configuration/",thirdPartyPath="third-party/",originalPath="original/",helpersPath="helper/",toolsPath="tool/";require.config({baseUrl:"http://webresource.c-ctrip.com/ResCRMOnline/R2/Sidebar.Online/SideBarSrc/",shim:{store:{exports:"store"},mt:{exports:"mt"},customConsole:{exports:"customConsole"}},paths:{defaultCfg:configurationsPath+"defaultConfig",store:thirdPartyPath+"store",mt:thirdPartyPath+"mootools",customConsole:thirdPartyPath+"console",sideBar:originalPath+"sideBar",animate:originalPath+"animate",definition:originalPath+"definition",access:originalPath+"access",engine:originalPath+"engine",myImplementTool:toolsPath+"myImplementTool",myHistoryTool:toolsPath+"myHistoryTool",myFavoriteTool:toolsPath+"myFavoriteTool",scanTool:toolsPath+"scanTool",feedbackTool:toolsPath+"feedbackTool",liveChatTool:toolsPath+"liveChatTool",returnTopTool:toolsPath+"returnTopTool",adTool:toolsPath+"adTool",loggingTool:toolsPath+"loggingTool",myCtripTool:toolsPath+"myCtripTool",region:helpersPath+"region",webConsole:helpersPath+"webConsole",expansion:helpersPath+"expansion",verification:helpersPath+"verification",communication:helpersPath+"communication",cookie:helpersPath+"cookie",jsHelper:helpersPath+"jsHelper",route:helpersPath+"route"},waitSeconds:15}),require(["region","store","mt","expansion","sideBar","route"],function(o,t,e,n,i,r){var l=function(o){var t=document.createElement("b");return t.innerHTML="<!--[if IE "+o+"]><i></i><![endif]-->",1===t.getElementsByTagName("i").length},a=function(){var o=document.createElement("link");o.href="http://webresource.c-ctrip.com/ResCRMOnline/R2/Sidebar.Online/SideBarSrc/content/side_tool.css",o.rel="stylesheet",o.type="text/css",document.getElementsByTagName("HEAD").item(0).appendChild(o)};a();var s=setInterval(function(){void 0!=window.cQuery&&($.browser.isChrome||$.browser.isSafari||$.browser.isIE9||$.browser.isIE10||l(11)||$.browser.isFirefox||$.browser.isOpera||$.browser.isIPad?(window.COSB.sideBar=i,window.COSB.hostName=r,$LAB.runQueue(),clearInterval(s)):(window.console&&void 0,clearInterval(s)))},3)}),define("main",function(){}),define("barContent",[],function(){var o=['<div class="pub_side_tool" id="tool">','<div class="stool_ctrl">','<div class="stool_other" style="width: 36px;">','<a href="javascript:void(0)" class="stool_icon stool_top" style="display:;">返回顶部</a>','<p class="stool_hover_title stool_hover_top">返回顶部</p>',"</div>",'<div class="stool_scale"><a href="javascript:void(0)" class="stool_icon stool_min">缩小</a></div>','<div class="stool_scale" style="display:none;"><a href="javascript:void(0)" class="stool_icon stool_max">展开</a></div>',"</div></div>"].join("\n"),t='<div id="myCtripContent" class="stool_cont_wrap stool_myctrip" style="display:block;width:0px;"><div class=stool_cont_hd><h3>我的携程</h3><a href="javascript:void(0)" class="stool_icon stool_back">&gt;&gt;</a></div><div class=stool_cont_m><div class=stool_member_info><a href="javascript:void(0)" class=stool_gravatar_b><img src=http://pic.c-ctrip.com/common/side_tool_bar/zzz_gravatar.jpg></a><a href="javascript:void(0)" class=stool_member_name>红小胖黄小胖灰小胖</a><em class=stool_member_level>钻石贵宾</em><a href="javascript:void(0)" class=stool_mail_num><i class=stool_icon></i>19</a></div><div class=stool_member_money><ul><li><span>现金</span><a href="javascript:void(0)">¥ 50000</a><li><span>礼品卡</span><a href="javascript:void(0)">¥ 1500</a><li><span>返现</span><a href="javascript:void(0)">¥ 80</a></ul></div><div class=stool_member_order><ul><li class=stool_order_all><i class=stool_icon></i><a href="javascript:void(0)">全部订单<em>(158)</em></a><li class=stool_order_wait><i class=stool_icon></i><a href="javascript:void(0)">待付款订单<em>(28)</em></a><li class=stool_order_will><i class=stool_icon></i><a href="javascript:void(0)">未出行订单<em>(6)</em></a><li class=stool_order_comment><i class=stool_icon></i><a href="javascript:void(0)">待评价订单<em>(2)</em></a></ul></div><div class=stool_btn><a href="javascript:void(0)">退出登录</a></div></div></div>';return{barStopHtml:o,testHtml:t}}),define("onlineSideBar",function(){});